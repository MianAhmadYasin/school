var sE=Object.defineProperty;var oE=(e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var dr=(e,t,r)=>oE(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ba=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var N4={exports:{}},K1={},A4={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=Symbol.for("react.element"),uE=Symbol.for("react.portal"),fE=Symbol.for("react.fragment"),hE=Symbol.for("react.strict_mode"),dE=Symbol.for("react.profiler"),pE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),xE=Symbol.for("react.suspense"),vE=Symbol.for("react.memo"),yE=Symbol.for("react.lazy"),Py=Symbol.iterator;function _E(e){return e===null||typeof e!="object"?null:(e=Py&&e[Py]||e["@@iterator"],typeof e=="function"?e:null)}var E4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k4=Object.assign,T4={};function Bu(e,t,r){this.props=e,this.context=t,this.refs=T4,this.updater=r||E4}Bu.prototype.isReactComponent={};Bu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function j4(){}j4.prototype=Bu.prototype;function ax(e,t,r){this.props=e,this.context=t,this.refs=T4,this.updater=r||E4}var sx=ax.prototype=new j4;sx.constructor=ax;k4(sx,Bu.prototype);sx.isPureReactComponent=!0;var Fy=Array.isArray,C4=Object.prototype.hasOwnProperty,ox={current:null},L4={key:!0,ref:!0,__self:!0,__source:!0};function P4(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)C4.call(t,n)&&!L4.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zh,type:e,key:a,ref:s,props:i,_owner:ox.current}}function wE(e,t){return{$$typeof:Zh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zh}function bE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Oy=/\/+/g;function lm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bE(""+e.key):t.toString(36)}function P0(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zh:case uE:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+lm(s,0):n,Fy(i)?(r="",e!=null&&(r=e.replace(Oy,"$&/")+"/"),P0(i,t,r,"",function(u){return u})):i!=null&&(lx(i)&&(i=wE(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Oy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Fy(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+lm(a,o);s+=P0(a,t,r,c,i)}else if(c=_E(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+lm(a,o++),s+=P0(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Vd(e,t,r){if(e==null)return e;var n=[],i=0;return P0(e,n,"","",function(a){return t.call(r,a,i++)}),n}function SE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bi={current:null},F0={transition:null},NE={ReactCurrentDispatcher:bi,ReactCurrentBatchConfig:F0,ReactCurrentOwner:ox};function F4(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Vd,forEach:function(e,t,r){Vd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vd(e,function(){t++}),t},toArray:function(e){return Vd(e,function(t){return t})||[]},only:function(e){if(!lx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=Bu;Wt.Fragment=fE;Wt.Profiler=dE;Wt.PureComponent=ax;Wt.StrictMode=hE;Wt.Suspense=xE;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;Wt.act=F4;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=k4({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=ox.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)C4.call(t,c)&&!L4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Zh,type:e.type,key:i,ref:a,props:n,_owner:s}};Wt.createContext=function(e){return e={$$typeof:mE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pE,_context:e},e.Consumer=e};Wt.createElement=P4;Wt.createFactory=function(e){var t=P4.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:gE,render:e}};Wt.isValidElement=lx;Wt.lazy=function(e){return{$$typeof:yE,_payload:{_status:-1,_result:e},_init:SE}};Wt.memo=function(e,t){return{$$typeof:vE,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=F0.transition;F0.transition={};try{e()}finally{F0.transition=t}};Wt.unstable_act=F4;Wt.useCallback=function(e,t){return bi.current.useCallback(e,t)};Wt.useContext=function(e){return bi.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return bi.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return bi.current.useEffect(e,t)};Wt.useId=function(){return bi.current.useId()};Wt.useImperativeHandle=function(e,t,r){return bi.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return bi.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return bi.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return bi.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return bi.current.useReducer(e,t,r)};Wt.useRef=function(e){return bi.current.useRef(e)};Wt.useState=function(e){return bi.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return bi.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return bi.current.useTransition()};Wt.version="18.3.1";A4.exports=Wt;var Z=A4.exports;const AE=lE(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=Z,kE=Symbol.for("react.element"),TE=Symbol.for("react.fragment"),jE=Object.prototype.hasOwnProperty,CE=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LE={key:!0,ref:!0,__self:!0,__source:!0};function O4(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)jE.call(t,n)&&!LE.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:kE,type:e,key:a,ref:s,props:i,_owner:CE.current}}K1.Fragment=TE;K1.jsx=O4;K1.jsxs=O4;N4.exports=K1;var l=N4.exports,I4={exports:{}},sa={},R4={exports:{}},D4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,me){var Te=se.length;se.push(me);e:for(;0<Te;){var ke=Te-1>>>1,E=se[ke];if(0<i(E,me))se[ke]=me,se[Te]=E,Te=ke;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var me=se[0],Te=se.pop();if(Te!==me){se[0]=Te;e:for(var ke=0,E=se.length,R=E>>>1;ke<R;){var F=2*(ke+1)-1,B=se[F],J=F+1,le=se[J];if(0>i(B,Te))J<E&&0>i(le,B)?(se[ke]=le,se[J]=Te,ke=J):(se[ke]=B,se[F]=Te,ke=F);else if(J<E&&0>i(le,Te))se[ke]=le,se[J]=Te,ke=J;else break e}}return me}function i(se,me){var Te=se.sortIndex-me.sortIndex;return Te!==0?Te:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],f=1,p=null,m=3,h=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(se){for(var me=r(u);me!==null;){if(me.callback===null)n(u);else if(me.startTime<=se)n(u),me.sortIndex=me.expirationTime,t(c,me);else break;me=r(u)}}function A(se){if(x=!1,_(se),!v)if(r(c)!==null)v=!0,ve(H);else{var me=r(u);me!==null&&we(A,me.startTime-se)}}function H(se,me){v=!1,x&&(x=!1,y(L),L=-1),h=!0;var Te=m;try{for(_(me),p=r(c);p!==null&&(!(p.expirationTime>me)||se&&!T());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,m=p.priorityLevel;var E=ke(p.expirationTime<=me);me=e.unstable_now(),typeof E=="function"?p.callback=E:p===r(c)&&n(c),_(me)}else n(c);p=r(c)}if(p!==null)var R=!0;else{var F=r(u);F!==null&&we(A,F.startTime-me),R=!1}return R}finally{p=null,m=Te,h=!1}}var V=!1,C=null,L=-1,j=5,M=-1;function T(){return!(e.unstable_now()-M<j)}function P(){if(C!==null){var se=e.unstable_now();M=se;var me=!0;try{me=C(!0,se)}finally{me?D():(V=!1,C=null)}}else V=!1}var D;if(typeof w=="function")D=function(){w(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,oe=G.port2;G.port1.onmessage=P,D=function(){oe.postMessage(null)}}else D=function(){S(P,0)};function ve(se){C=se,V||(V=!0,D())}function we(se,me){L=S(function(){se(e.unstable_now())},me)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,ve(H))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(se){switch(m){case 1:case 2:case 3:var me=3;break;default:me=m}var Te=m;m=me;try{return se()}finally{m=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Te=m;m=se;try{return me()}finally{m=Te}},e.unstable_scheduleCallback=function(se,me,Te){var ke=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ke+Te:ke):Te=ke,se){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Te+E,se={id:f++,callback:me,priorityLevel:se,startTime:Te,expirationTime:E,sortIndex:-1},Te>ke?(se.sortIndex=Te,t(u,se),r(c)===null&&se===r(u)&&(x?(y(L),L=-1):x=!0,we(A,Te-ke))):(se.sortIndex=E,t(c,se),v||h||(v=!0,ve(H))),se},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(se){var me=m;return function(){var Te=m;m=me;try{return se.apply(this,arguments)}finally{m=Te}}}})(D4);R4.exports=D4;var PE=R4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=Z,ia=PE;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M4=new Set,vh={};function fc(e,t){Nu(e,t),Nu(e+"Capture",t)}function Nu(e,t){for(vh[e]=t,e=0;e<t.length;e++)M4.add(t[e])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pg=Object.prototype.hasOwnProperty,OE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Ry={};function IE(e){return Pg.call(Ry,e)?!0:Pg.call(Iy,e)?!1:OE.test(e)?Ry[e]=!0:(Iy[e]=!0,!1)}function RE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DE(e,t,r,n){if(t===null||typeof t>"u"||RE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Si(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new Si(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new Si(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new Si(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new Si(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new Si(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new Si(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new Si(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new Si(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new Si(e,5,!1,e.toLowerCase(),null,!1,!1)});var cx=/[\-:]([a-z])/g;function ux(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cx,ux);Xn[t]=new Si(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cx,ux);Xn[t]=new Si(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cx,ux);Xn[t]=new Si(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new Si(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new Si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new Si(e,1,!1,e.toLowerCase(),null,!0,!0)});function fx(e,t,r,n){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DE(t,r,i,n)&&(r=null),n||i===null?IE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var io=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Yc=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),B4=Symbol.for("react.provider"),U4=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Ig=Symbol.for("react.suspense_list"),px=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),z4=Symbol.for("react.offscreen"),Dy=Symbol.iterator;function Ef(e){return e===null||typeof e!="object"?null:(e=Dy&&e[Dy]||e["@@iterator"],typeof e=="function"?e:null)}var Hr=Object.assign,cm;function Uf(e){if(cm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cm=t&&t[1]||""}return`
`+cm+e}var um=!1;function fm(e,t){if(!e||um)return"";um=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{um=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Uf(e):""}function ME(e){switch(e.tag){case 5:return Uf(e.type);case 16:return Uf("Lazy");case 13:return Uf("Suspense");case 19:return Uf("SuspenseList");case 0:case 2:case 15:return e=fm(e.type,!1),e;case 11:return e=fm(e.type.render,!1),e;case 1:return e=fm(e.type,!0),e;default:return""}}function Rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yc:return"Fragment";case Xc:return"Portal";case Fg:return"Profiler";case hx:return"StrictMode";case Og:return"Suspense";case Ig:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U4:return(e.displayName||"Context")+".Consumer";case B4:return(e._context.displayName||"Context")+".Provider";case dx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case px:return t=e.displayName||null,t!==null?t:Rg(e.type)||"Memo";case Co:t=e._payload,e=e._init;try{return Rg(e(t))}catch{}}return null}function BE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(t);case 8:return t===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function el(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UE(e){var t=$4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kd(e){e._valueTracker||(e._valueTracker=UE(e))}function q4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function e1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dg(e,t){var r=t.checked;return Hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function My(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=el(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H4(e,t){t=t.checked,t!=null&&fx(e,"checked",t,!1)}function Mg(e,t){H4(e,t);var r=el(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bg(e,t.type,el(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function By(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bg(e,t,r){(t!=="number"||e1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zf=Array.isArray;function cu(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+el(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ug(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Uy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(zf(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:el(r)}}function W4(e,t){var r=el(t.value),n=el(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xd,G4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zE=["Webkit","ms","Moz","O"];Object.keys(Kf).forEach(function(e){zE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kf[t]=Kf[e]})});function K4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kf.hasOwnProperty(e)&&Kf[e]?(""+t).trim():t+"px"}function X4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=K4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $E=Hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(e,t){if(t){if($E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function qg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function mx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wg=null,uu=null,fu=null;function $y(e){if(e=td(e)){if(typeof Wg!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=Q1(t),Wg(e.stateNode,e.type,t))}}function Y4(e){uu?fu?fu.push(e):fu=[e]:uu=e}function J4(){if(uu){var e=uu,t=fu;if(fu=uu=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function Z4(e,t){return e(t)}function Q4(){}var hm=!1;function eb(e,t,r){if(hm)return e(t,r);hm=!0;try{return Z4(e,t,r)}finally{hm=!1,(uu!==null||fu!==null)&&(Q4(),J4())}}function _h(e,t){var r=e.stateNode;if(r===null)return null;var n=Q1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var Vg=!1;if(Js)try{var kf={};Object.defineProperty(kf,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",kf,kf),window.removeEventListener("test",kf,kf)}catch{Vg=!1}function qE(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Xf=!1,t1=null,r1=!1,Gg=null,HE={onError:function(e){Xf=!0,t1=e}};function WE(e,t,r,n,i,a,s,o,c){Xf=!1,t1=null,qE.apply(HE,arguments)}function VE(e,t,r,n,i,a,s,o,c){if(WE.apply(this,arguments),Xf){if(Xf){var u=t1;Xf=!1,t1=null}else throw Error(Ve(198));r1||(r1=!0,Gg=u)}}function hc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qy(e){if(hc(e)!==e)throw Error(Ve(188))}function GE(e){var t=e.alternate;if(!t){if(t=hc(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return qy(i),e;if(a===n)return qy(i),t;a=a.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function rb(e){return e=GE(e),e!==null?nb(e):null}function nb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nb(e);if(t!==null)return t;e=e.sibling}return null}var ib=ia.unstable_scheduleCallback,Hy=ia.unstable_cancelCallback,KE=ia.unstable_shouldYield,XE=ia.unstable_requestPaint,sn=ia.unstable_now,YE=ia.unstable_getCurrentPriorityLevel,gx=ia.unstable_ImmediatePriority,ab=ia.unstable_UserBlockingPriority,n1=ia.unstable_NormalPriority,JE=ia.unstable_LowPriority,sb=ia.unstable_IdlePriority,X1=null,vs=null;function ZE(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(X1,e,void 0,(e.current.flags&128)===128)}catch{}}var Va=Math.clz32?Math.clz32:t8,QE=Math.log,e8=Math.LN2;function t8(e){return e>>>=0,e===0?32:31-(QE(e)/e8|0)|0}var Yd=64,Jd=4194304;function $f(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function i1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=$f(o):(a&=s,a!==0&&(n=$f(a)))}else s=r&~i,s!==0?n=$f(s):a!==0&&(n=$f(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Va(t),i=1<<r,n|=e[r],t&=~i;return n}function r8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Va(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=r8(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ob(){var e=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),e}function dm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Va(t),e[t]=r}function i8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Va(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function xx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Va(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vr=0;function lb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cb,vx,ub,fb,hb,Xg=!1,Zd=[],$o=null,qo=null,Ho=null,wh=new Map,bh=new Map,Po=[],a8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wy(e,t){switch(e){case"focusin":case"focusout":$o=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":wh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(t.pointerId)}}function Tf(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=td(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function s8(e,t,r,n,i){switch(t){case"focusin":return $o=Tf($o,e,t,r,n,i),!0;case"dragenter":return qo=Tf(qo,e,t,r,n,i),!0;case"mouseover":return Ho=Tf(Ho,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return wh.set(a,Tf(wh.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bh.set(a,Tf(bh.get(a)||null,e,t,r,n,i)),!0}return!1}function db(e){var t=$l(e.target);if(t!==null){var r=hc(t);if(r!==null){if(t=r.tag,t===13){if(t=tb(r),t!==null){e.blockedOn=t,hb(e.priority,function(){ub(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function O0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return t=td(r),t!==null&&vx(t),e.blockedOn=r,!1;t.shift()}return!0}function Vy(e,t,r){O0(e)&&r.delete(t)}function o8(){Xg=!1,$o!==null&&O0($o)&&($o=null),qo!==null&&O0(qo)&&(qo=null),Ho!==null&&O0(Ho)&&(Ho=null),wh.forEach(Vy),bh.forEach(Vy)}function jf(e,t){e.blockedOn===t&&(e.blockedOn=null,Xg||(Xg=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,o8)))}function Sh(e){function t(i){return jf(i,e)}if(0<Zd.length){jf(Zd[0],e);for(var r=1;r<Zd.length;r++){var n=Zd[r];n.blockedOn===e&&(n.blockedOn=null)}}for($o!==null&&jf($o,e),qo!==null&&jf(qo,e),Ho!==null&&jf(Ho,e),wh.forEach(t),bh.forEach(t),r=0;r<Po.length;r++)n=Po[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Po.length&&(r=Po[0],r.blockedOn===null);)db(r),r.blockedOn===null&&Po.shift()}var hu=io.ReactCurrentBatchConfig,a1=!0;function l8(e,t,r,n){var i=vr,a=hu.transition;hu.transition=null;try{vr=1,yx(e,t,r,n)}finally{vr=i,hu.transition=a}}function c8(e,t,r,n){var i=vr,a=hu.transition;hu.transition=null;try{vr=4,yx(e,t,r,n)}finally{vr=i,hu.transition=a}}function yx(e,t,r,n){if(a1){var i=Yg(e,t,r,n);if(i===null)Sm(e,t,n,s1,r),Wy(e,n);else if(s8(i,e,t,r,n))n.stopPropagation();else if(Wy(e,n),t&4&&-1<a8.indexOf(e)){for(;i!==null;){var a=td(i);if(a!==null&&cb(a),a=Yg(e,t,r,n),a===null&&Sm(e,t,n,s1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Sm(e,t,n,null,r)}}var s1=null;function Yg(e,t,r,n){if(s1=null,e=mx(n),e=$l(e),e!==null)if(t=hc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return s1=e,null}function pb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YE()){case gx:return 1;case ab:return 4;case n1:case JE:return 16;case sb:return 536870912;default:return 16}default:return 16}}var Ro=null,_x=null,I0=null;function mb(){if(I0)return I0;var e,t=_x,r=t.length,n,i="value"in Ro?Ro.value:Ro.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return I0=i.slice(e,1<n?1-n:void 0)}function R0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qd(){return!0}function Gy(){return!1}function oa(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qd:Gy,this.isPropagationStopped=Gy,this}return Hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qd)},persist:function(){},isPersistent:Qd}),t}var Uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=oa(Uu),ed=Hr({},Uu,{view:0,detail:0}),u8=oa(ed),pm,mm,Cf,Y1=Hr({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cf&&(Cf&&e.type==="mousemove"?(pm=e.screenX-Cf.screenX,mm=e.screenY-Cf.screenY):mm=pm=0,Cf=e),pm)},movementY:function(e){return"movementY"in e?e.movementY:mm}}),Ky=oa(Y1),f8=Hr({},Y1,{dataTransfer:0}),h8=oa(f8),d8=Hr({},ed,{relatedTarget:0}),gm=oa(d8),p8=Hr({},Uu,{animationName:0,elapsedTime:0,pseudoElement:0}),m8=oa(p8),g8=Hr({},Uu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x8=oa(g8),v8=Hr({},Uu,{data:0}),Xy=oa(v8),y8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w8[e])?!!t[e]:!1}function bx(){return b8}var S8=Hr({},ed,{key:function(e){if(e.key){var t=y8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=R0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(e){return e.type==="keypress"?R0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?R0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N8=oa(S8),A8=Hr({},Y1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=oa(A8),E8=Hr({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),k8=oa(E8),T8=Hr({},Uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),j8=oa(T8),C8=Hr({},Y1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L8=oa(C8),P8=[9,13,27,32],Sx=Js&&"CompositionEvent"in window,Yf=null;Js&&"documentMode"in document&&(Yf=document.documentMode);var F8=Js&&"TextEvent"in window&&!Yf,gb=Js&&(!Sx||Yf&&8<Yf&&11>=Yf),Jy=" ",Zy=!1;function xb(e,t){switch(e){case"keyup":return P8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function O8(e,t){switch(e){case"compositionend":return vb(t);case"keypress":return t.which!==32?null:(Zy=!0,Jy);case"textInput":return e=t.data,e===Jy&&Zy?null:e;default:return null}}function I8(e,t){if(Jc)return e==="compositionend"||!Sx&&xb(e,t)?(e=mb(),I0=_x=Ro=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gb&&t.locale!=="ko"?null:t.data;default:return null}}var R8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R8[e.type]:t==="textarea"}function yb(e,t,r,n){Y4(n),t=o1(t,"onChange"),0<t.length&&(r=new wx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jf=null,Nh=null;function D8(e){Cb(e,0)}function J1(e){var t=eu(e);if(q4(t))return e}function M8(e,t){if(e==="change")return t}var _b=!1;if(Js){var xm;if(Js){var vm="oninput"in document;if(!vm){var e5=document.createElement("div");e5.setAttribute("oninput","return;"),vm=typeof e5.oninput=="function"}xm=vm}else xm=!1;_b=xm&&(!document.documentMode||9<document.documentMode)}function t5(){Jf&&(Jf.detachEvent("onpropertychange",wb),Nh=Jf=null)}function wb(e){if(e.propertyName==="value"&&J1(Nh)){var t=[];yb(t,Nh,e,mx(e)),eb(D8,t)}}function B8(e,t,r){e==="focusin"?(t5(),Jf=t,Nh=r,Jf.attachEvent("onpropertychange",wb)):e==="focusout"&&t5()}function U8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return J1(Nh)}function z8(e,t){if(e==="click")return J1(t)}function $8(e,t){if(e==="input"||e==="change")return J1(t)}function q8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xa=typeof Object.is=="function"?Object.is:q8;function Ah(e,t){if(Xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pg.call(t,i)||!Xa(e[i],t[i]))return!1}return!0}function r5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n5(e,t){var r=r5(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=r5(r)}}function bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sb(){for(var e=window,t=e1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=e1(e.document)}return t}function Nx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H8(e){var t=Sb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bb(r.ownerDocument.documentElement,r)){if(n!==null&&Nx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=n5(r,a);var s=n5(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W8=Js&&"documentMode"in document&&11>=document.documentMode,Zc=null,Jg=null,Zf=null,Zg=!1;function i5(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zg||Zc==null||Zc!==e1(n)||(n=Zc,"selectionStart"in n&&Nx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zf&&Ah(Zf,n)||(Zf=n,n=o1(Jg,"onSelect"),0<n.length&&(t=new wx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zc)))}function e0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qc={animationend:e0("Animation","AnimationEnd"),animationiteration:e0("Animation","AnimationIteration"),animationstart:e0("Animation","AnimationStart"),transitionend:e0("Transition","TransitionEnd")},ym={},Nb={};Js&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Z1(e){if(ym[e])return ym[e];if(!Qc[e])return e;var t=Qc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nb)return ym[e]=t[r];return e}var Ab=Z1("animationend"),Eb=Z1("animationiteration"),kb=Z1("animationstart"),Tb=Z1("transitionend"),jb=new Map,a5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(e,t){jb.set(e,t),fc(t,[e])}for(var _m=0;_m<a5.length;_m++){var wm=a5[_m],V8=wm.toLowerCase(),G8=wm[0].toUpperCase()+wm.slice(1);sl(V8,"on"+G8)}sl(Ab,"onAnimationEnd");sl(Eb,"onAnimationIteration");sl(kb,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(Tb,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K8=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function s5(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,VE(n,t,void 0,e),e.currentTarget=null}function Cb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;s5(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;s5(i,o,u),a=c}}}if(r1)throw e=Gg,r1=!1,Gg=null,e}function Lr(e,t){var r=t[n2];r===void 0&&(r=t[n2]=new Set);var n=e+"__bubble";r.has(n)||(Lb(t,e,2,!1),r.add(n))}function bm(e,t,r){var n=0;t&&(n|=4),Lb(r,e,n,t)}var t0="_reactListening"+Math.random().toString(36).slice(2);function Eh(e){if(!e[t0]){e[t0]=!0,M4.forEach(function(r){r!=="selectionchange"&&(K8.has(r)||bm(r,!1,e),bm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[t0]||(t[t0]=!0,bm("selectionchange",!1,t))}}function Lb(e,t,r,n){switch(pb(t)){case 1:var i=l8;break;case 4:i=c8;break;default:i=yx}r=i.bind(null,t,r,e),i=void 0,!Vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Sm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=$l(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}eb(function(){var u=a,f=mx(r),p=[];e:{var m=jb.get(e);if(m!==void 0){var h=wx,v=e;switch(e){case"keypress":if(R0(r)===0)break e;case"keydown":case"keyup":h=N8;break;case"focusin":v="focus",h=gm;break;case"focusout":v="blur",h=gm;break;case"beforeblur":case"afterblur":h=gm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=h8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=k8;break;case Ab:case Eb:case kb:h=m8;break;case Tb:h=j8;break;case"scroll":h=u8;break;case"wheel":h=L8;break;case"copy":case"cut":case"paste":h=x8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Yy}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,_;w!==null;){_=w;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,y!==null&&(A=_h(w,y),A!=null&&x.push(kh(w,A,_)))),S)break;w=w.return}0<x.length&&(m=new h(m,v,null,r,f),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==Hg&&(v=r.relatedTarget||r.fromElement)&&($l(v)||v[Zs]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?$l(v):null,v!==null&&(S=hc(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(x=Ky,A="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=Yy,A="onPointerLeave",y="onPointerEnter",w="pointer"),S=h==null?m:eu(h),_=v==null?m:eu(v),m=new x(A,w+"leave",h,r,f),m.target=S,m.relatedTarget=_,A=null,$l(f)===u&&(x=new x(y,w+"enter",v,r,f),x.target=_,x.relatedTarget=S,A=x),S=A,h&&v)t:{for(x=h,y=v,w=0,_=x;_;_=Cc(_))w++;for(_=0,A=y;A;A=Cc(A))_++;for(;0<w-_;)x=Cc(x),w--;for(;0<_-w;)y=Cc(y),_--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Cc(x),y=Cc(y)}x=null}else x=null;h!==null&&o5(p,m,h,x,!1),v!==null&&S!==null&&o5(p,S,v,x,!0)}}e:{if(m=u?eu(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var H=M8;else if(Qy(m))if(_b)H=$8;else{H=U8;var V=B8}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(H=z8);if(H&&(H=H(e,u))){yb(p,H,r,f);break e}V&&V(e,m,u),e==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&Bg(m,"number",m.value)}switch(V=u?eu(u):window,e){case"focusin":(Qy(V)||V.contentEditable==="true")&&(Zc=V,Jg=u,Zf=null);break;case"focusout":Zf=Jg=Zc=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,i5(p,r,f);break;case"selectionchange":if(W8)break;case"keydown":case"keyup":i5(p,r,f)}var C;if(Sx)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Jc?xb(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(gb&&r.locale!=="ko"&&(Jc||L!=="onCompositionStart"?L==="onCompositionEnd"&&Jc&&(C=mb()):(Ro=f,_x="value"in Ro?Ro.value:Ro.textContent,Jc=!0)),V=o1(u,L),0<V.length&&(L=new Xy(L,e,null,r,f),p.push({event:L,listeners:V}),C?L.data=C:(C=vb(r),C!==null&&(L.data=C)))),(C=F8?O8(e,r):I8(e,r))&&(u=o1(u,"onBeforeInput"),0<u.length&&(f=new Xy("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:u}),f.data=C))}Cb(p,t)})}function kh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function o1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_h(e,r),a!=null&&n.unshift(kh(e,a,i)),a=_h(e,t),a!=null&&n.push(kh(e,a,i))),e=e.return}return n}function Cc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o5(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=_h(r,a),c!=null&&s.unshift(kh(r,c,o))):i||(c=_h(r,a),c!=null&&s.push(kh(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var X8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function l5(e){return(typeof e=="string"?e:""+e).replace(X8,`
`).replace(Y8,"")}function r0(e,t,r){if(t=l5(t),l5(e)!==t&&r)throw Error(Ve(425))}function l1(){}var Qg=null,e2=null;function t2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var r2=typeof setTimeout=="function"?setTimeout:void 0,J8=typeof clearTimeout=="function"?clearTimeout:void 0,c5=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof c5<"u"?function(e){return c5.resolve(null).then(e).catch(Q8)}:r2;function Q8(e){setTimeout(function(){throw e})}function Nm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Sh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Sh(t)}function Wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zu=Math.random().toString(36).slice(2),ms="__reactFiber$"+zu,Th="__reactProps$"+zu,Zs="__reactContainer$"+zu,n2="__reactEvents$"+zu,ek="__reactListeners$"+zu,tk="__reactHandles$"+zu;function $l(e){var t=e[ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zs]||r[ms]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=u5(e);e!==null;){if(r=e[ms])return r;e=u5(e)}return t}e=r,r=e.parentNode}return null}function td(e){return e=e[ms]||e[Zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function Q1(e){return e[Th]||null}var i2=[],tu=-1;function ol(e){return{current:e}}function Fr(e){0>tu||(e.current=i2[tu],i2[tu]=null,tu--)}function jr(e,t){tu++,i2[tu]=e.current,e.current=t}var tl={},ui=ol(tl),Pi=ol(!1),Ql=tl;function Au(e,t){var r=e.type.contextTypes;if(!r)return tl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(e){return e=e.childContextTypes,e!=null}function c1(){Fr(Pi),Fr(ui)}function f5(e,t,r){if(ui.current!==tl)throw Error(Ve(168));jr(ui,t),jr(Pi,r)}function Pb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ve(108,BE(e)||"Unknown",i));return Hr({},r,n)}function u1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tl,Ql=ui.current,jr(ui,e),jr(Pi,Pi.current),!0}function h5(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=Pb(e,t,Ql),n.__reactInternalMemoizedMergedChildContext=e,Fr(Pi),Fr(ui),jr(ui,e)):Fr(Pi),jr(Pi,r)}var zs=null,ep=!1,Am=!1;function Fb(e){zs===null?zs=[e]:zs.push(e)}function rk(e){ep=!0,Fb(e)}function ll(){if(!Am&&zs!==null){Am=!0;var e=0,t=vr;try{var r=zs;for(vr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zs=null,ep=!1}catch(i){throw zs!==null&&(zs=zs.slice(e+1)),ib(gx,ll),i}finally{vr=t,Am=!1}}return null}var ru=[],nu=0,f1=null,h1=0,xa=[],va=0,ec=null,Hs=1,Ws="";function Ol(e,t){ru[nu++]=h1,ru[nu++]=f1,f1=e,h1=t}function Ob(e,t,r){xa[va++]=Hs,xa[va++]=Ws,xa[va++]=ec,ec=e;var n=Hs;e=Ws;var i=32-Va(n)-1;n&=~(1<<i),r+=1;var a=32-Va(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Hs=1<<32-Va(t)+i|r<<i|n,Ws=a+e}else Hs=1<<a|r<<i|n,Ws=e}function Ax(e){e.return!==null&&(Ol(e,1),Ob(e,1,0))}function Ex(e){for(;e===f1;)f1=ru[--nu],ru[nu]=null,h1=ru[--nu],ru[nu]=null;for(;e===ec;)ec=xa[--va],xa[va]=null,Ws=xa[--va],xa[va]=null,Hs=xa[--va],xa[va]=null}var na=null,ea=null,Mr=!1,qa=null;function Ib(e,t){var r=_a(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,na=e,ea=Wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,na=e,ea=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ec!==null?{id:Hs,overflow:Ws}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_a(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,na=e,ea=null,!0):!1;default:return!1}}function a2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s2(e){if(Mr){var t=ea;if(t){var r=t;if(!d5(e,t)){if(a2(e))throw Error(Ve(418));t=Wo(r.nextSibling);var n=na;t&&d5(e,t)?Ib(n,r):(e.flags=e.flags&-4097|2,Mr=!1,na=e)}}else{if(a2(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Mr=!1,na=e}}}function p5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;na=e}function n0(e){if(e!==na)return!1;if(!Mr)return p5(e),Mr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!t2(e.type,e.memoizedProps)),t&&(t=ea)){if(a2(e))throw Rb(),Error(Ve(418));for(;t;)Ib(e,t),t=Wo(t.nextSibling)}if(p5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ea=Wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ea=null}}else ea=na?Wo(e.stateNode.nextSibling):null;return!0}function Rb(){for(var e=ea;e;)e=Wo(e.nextSibling)}function Eu(){ea=na=null,Mr=!1}function kx(e){qa===null?qa=[e]:qa.push(e)}var nk=io.ReactCurrentBatchConfig;function Lf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function i0(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m5(e){var t=e._init;return t(e._payload)}function Db(e){function t(y,w){if(e){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Xo(y,w),y.index=0,y.sibling=null,y}function a(y,w,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,A){return w===null||w.tag!==6?(w=Pm(_,y.mode,A),w.return=y,w):(w=i(w,_),w.return=y,w)}function c(y,w,_,A){var H=_.type;return H===Yc?f(y,w,_.props.children,A,_.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Co&&m5(H)===w.type)?(A=i(w,_.props),A.ref=Lf(y,w,_),A.return=y,A):(A=q0(_.type,_.key,_.props,null,y.mode,A),A.ref=Lf(y,w,_),A.return=y,A)}function u(y,w,_,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Fm(_,y.mode,A),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function f(y,w,_,A,H){return w===null||w.tag!==7?(w=Xl(_,y.mode,A,H),w.return=y,w):(w=i(w,_),w.return=y,w)}function p(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pm(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gd:return _=q0(w.type,w.key,w.props,null,y.mode,_),_.ref=Lf(y,null,w),_.return=y,_;case Xc:return w=Fm(w,y.mode,_),w.return=y,w;case Co:var A=w._init;return p(y,A(w._payload),_)}if(zf(w)||Ef(w))return w=Xl(w,y.mode,_,null),w.return=y,w;i0(y,w)}return null}function m(y,w,_,A){var H=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return H!==null?null:o(y,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gd:return _.key===H?c(y,w,_,A):null;case Xc:return _.key===H?u(y,w,_,A):null;case Co:return H=_._init,m(y,w,H(_._payload),A)}if(zf(_)||Ef(_))return H!==null?null:f(y,w,_,A,null);i0(y,_)}return null}function h(y,w,_,A,H){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(_)||null,o(w,y,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Gd:return y=y.get(A.key===null?_:A.key)||null,c(w,y,A,H);case Xc:return y=y.get(A.key===null?_:A.key)||null,u(w,y,A,H);case Co:var V=A._init;return h(y,w,_,V(A._payload),H)}if(zf(A)||Ef(A))return y=y.get(_)||null,f(w,y,A,H,null);i0(w,A)}return null}function v(y,w,_,A){for(var H=null,V=null,C=w,L=w=0,j=null;C!==null&&L<_.length;L++){C.index>L?(j=C,C=null):j=C.sibling;var M=m(y,C,_[L],A);if(M===null){C===null&&(C=j);break}e&&C&&M.alternate===null&&t(y,C),w=a(M,w,L),V===null?H=M:V.sibling=M,V=M,C=j}if(L===_.length)return r(y,C),Mr&&Ol(y,L),H;if(C===null){for(;L<_.length;L++)C=p(y,_[L],A),C!==null&&(w=a(C,w,L),V===null?H=C:V.sibling=C,V=C);return Mr&&Ol(y,L),H}for(C=n(y,C);L<_.length;L++)j=h(C,y,L,_[L],A),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?L:j.key),w=a(j,w,L),V===null?H=j:V.sibling=j,V=j);return e&&C.forEach(function(T){return t(y,T)}),Mr&&Ol(y,L),H}function x(y,w,_,A){var H=Ef(_);if(typeof H!="function")throw Error(Ve(150));if(_=H.call(_),_==null)throw Error(Ve(151));for(var V=H=null,C=w,L=w=0,j=null,M=_.next();C!==null&&!M.done;L++,M=_.next()){C.index>L?(j=C,C=null):j=C.sibling;var T=m(y,C,M.value,A);if(T===null){C===null&&(C=j);break}e&&C&&T.alternate===null&&t(y,C),w=a(T,w,L),V===null?H=T:V.sibling=T,V=T,C=j}if(M.done)return r(y,C),Mr&&Ol(y,L),H;if(C===null){for(;!M.done;L++,M=_.next())M=p(y,M.value,A),M!==null&&(w=a(M,w,L),V===null?H=M:V.sibling=M,V=M);return Mr&&Ol(y,L),H}for(C=n(y,C);!M.done;L++,M=_.next())M=h(C,y,L,M.value,A),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?L:M.key),w=a(M,w,L),V===null?H=M:V.sibling=M,V=M);return e&&C.forEach(function(P){return t(y,P)}),Mr&&Ol(y,L),H}function S(y,w,_,A){if(typeof _=="object"&&_!==null&&_.type===Yc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Gd:e:{for(var H=_.key,V=w;V!==null;){if(V.key===H){if(H=_.type,H===Yc){if(V.tag===7){r(y,V.sibling),w=i(V,_.props.children),w.return=y,y=w;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Co&&m5(H)===V.type){r(y,V.sibling),w=i(V,_.props),w.ref=Lf(y,V,_),w.return=y,y=w;break e}r(y,V);break}else t(y,V);V=V.sibling}_.type===Yc?(w=Xl(_.props.children,y.mode,A,_.key),w.return=y,y=w):(A=q0(_.type,_.key,_.props,null,y.mode,A),A.ref=Lf(y,w,_),A.return=y,y=A)}return s(y);case Xc:e:{for(V=_.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Fm(_,y.mode,A),w.return=y,y=w}return s(y);case Co:return V=_._init,S(y,w,V(_._payload),A)}if(zf(_))return v(y,w,_,A);if(Ef(_))return x(y,w,_,A);i0(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,_),w.return=y,y=w):(r(y,w),w=Pm(_,y.mode,A),w.return=y,y=w),s(y)):r(y,w)}return S}var ku=Db(!0),Mb=Db(!1),d1=ol(null),p1=null,iu=null,Tx=null;function jx(){Tx=iu=p1=null}function Cx(e){var t=d1.current;Fr(d1),e._currentValue=t}function o2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function du(e,t){p1=e,Tx=iu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ci=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(Tx!==e)if(e={context:e,memoizedValue:t,next:null},iu===null){if(p1===null)throw Error(Ve(308));iu=e,p1.dependencies={lanes:0,firstContext:e}}else iu=iu.next=e;return t}var ql=null;function Lx(e){ql===null?ql=[e]:ql.push(e)}function Bb(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Lx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Qs(e,n)}function Qs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lo=!1;function Px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,er&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Qs(e,r)}return i=n.interleaved,i===null?(t.next=t,Lx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Qs(e,r)}function D0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xx(e,r)}}function g5(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function m1(e,t,r,n){var i=e.updateQueue;Lo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;s=0,f=u=c=null,o=a;do{var m=o.lane,h=o.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,x=o;switch(m=t,h=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){p=v.call(h,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(h,p,m):v,m==null)break e;p=Hr({},p,m);break e;case 2:Lo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=h,c=p):f=f.next=h,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);rc|=s,e.lanes=s,e.memoizedState=p}}function x5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var rd={},ys=ol(rd),jh=ol(rd),Ch=ol(rd);function Hl(e){if(e===rd)throw Error(Ve(174));return e}function Fx(e,t){switch(jr(Ch,t),jr(jh,e),jr(ys,rd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zg(t,e)}Fr(ys),jr(ys,t)}function Tu(){Fr(ys),Fr(jh),Fr(Ch)}function zb(e){Hl(Ch.current);var t=Hl(ys.current),r=zg(t,e.type);t!==r&&(jr(jh,e),jr(ys,r))}function Ox(e){jh.current===e&&(Fr(ys),Fr(jh))}var $r=ol(0);function g1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Em=[];function Ix(){for(var e=0;e<Em.length;e++)Em[e]._workInProgressVersionPrimary=null;Em.length=0}var M0=io.ReactCurrentDispatcher,km=io.ReactCurrentBatchConfig,tc=0,qr=null,En=null,Cn=null,x1=!1,Qf=!1,Lh=0,ik=0;function ti(){throw Error(Ve(321))}function Rx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xa(e[r],t[r]))return!1;return!0}function Dx(e,t,r,n,i,a){if(tc=a,qr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M0.current=e===null||e.memoizedState===null?lk:ck,e=r(n,i),Qf){a=0;do{if(Qf=!1,Lh=0,25<=a)throw Error(Ve(301));a+=1,Cn=En=null,t.updateQueue=null,M0.current=uk,e=r(n,i)}while(Qf)}if(M0.current=v1,t=En!==null&&En.next!==null,tc=0,Cn=En=qr=null,x1=!1,t)throw Error(Ve(300));return e}function Mx(){var e=Lh!==0;return Lh=0,e}function ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?qr.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function Na(){if(En===null){var e=qr.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=Cn===null?qr.memoizedState:Cn.next;if(t!==null)Cn=t,En=e;else{if(e===null)throw Error(Ve(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Cn===null?qr.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function Ph(e,t){return typeof t=="function"?t(e):t}function Tm(e){var t=Na(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=En,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var f=u.lane;if((tc&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,s=n):c=c.next=p,qr.lanes|=f,rc|=f}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,Xa(n,t.memoizedState)||(Ci=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,qr.lanes|=a,rc|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jm(e){var t=Na(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Xa(a,t.memoizedState)||(Ci=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function $b(){}function qb(e,t){var r=qr,n=Na(),i=t(),a=!Xa(n.memoizedState,i);if(a&&(n.memoizedState=i,Ci=!0),n=n.queue,Bx(Vb.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Cn!==null&&Cn.memoizedState.tag&1){if(r.flags|=2048,Fh(9,Wb.bind(null,r,n,i,t),void 0,null),In===null)throw Error(Ve(349));tc&30||Hb(r,t,i)}return i}function Hb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wb(e,t,r,n){t.value=r,t.getSnapshot=n,Gb(t)&&Kb(e)}function Vb(e,t,r){return r(function(){Gb(t)&&Kb(e)})}function Gb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xa(e,r)}catch{return!0}}function Kb(e){var t=Qs(e,1);t!==null&&Ga(t,e,1,-1)}function v5(e){var t=ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:e},t.queue=e,e=e.dispatch=ok.bind(null,qr,e),[t.memoizedState,e]}function Fh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qr.updateQueue,t===null?(t={lastEffect:null,stores:null},qr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xb(){return Na().memoizedState}function B0(e,t,r,n){var i=ds();qr.flags|=e,i.memoizedState=Fh(1|t,r,void 0,n===void 0?null:n)}function tp(e,t,r,n){var i=Na();n=n===void 0?null:n;var a=void 0;if(En!==null){var s=En.memoizedState;if(a=s.destroy,n!==null&&Rx(n,s.deps)){i.memoizedState=Fh(t,r,a,n);return}}qr.flags|=e,i.memoizedState=Fh(1|t,r,a,n)}function y5(e,t){return B0(8390656,8,e,t)}function Bx(e,t){return tp(2048,8,e,t)}function Yb(e,t){return tp(4,2,e,t)}function Jb(e,t){return tp(4,4,e,t)}function Zb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qb(e,t,r){return r=r!=null?r.concat([e]):null,tp(4,4,Zb.bind(null,t,e),r)}function Ux(){}function e3(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t3(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r3(e,t,r){return tc&21?(Xa(r,t)||(r=ob(),qr.lanes|=r,rc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ci=!0),e.memoizedState=r)}function ak(e,t){var r=vr;vr=r!==0&&4>r?r:4,e(!0);var n=km.transition;km.transition={};try{e(!1),t()}finally{vr=r,km.transition=n}}function n3(){return Na().memoizedState}function sk(e,t,r){var n=Ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i3(e))a3(t,r);else if(r=Bb(e,t,r,n),r!==null){var i=yi();Ga(r,e,n,i),s3(r,t,n)}}function ok(e,t,r){var n=Ko(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i3(e))a3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Xa(o,s)){var c=t.interleaved;c===null?(i.next=i,Lx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=Bb(e,t,i,n),r!==null&&(i=yi(),Ga(r,e,n,i),s3(r,t,n))}}function i3(e){var t=e.alternate;return e===qr||t!==null&&t===qr}function a3(e,t){Qf=x1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function s3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xx(e,r)}}var v1={readContext:Sa,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},lk={readContext:Sa,useCallback:function(e,t){return ds().memoizedState=[e,t===void 0?null:t],e},useContext:Sa,useEffect:y5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,B0(4194308,4,Zb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return B0(4194308,4,e,t)},useInsertionEffect:function(e,t){return B0(4,2,e,t)},useMemo:function(e,t){var r=ds();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ds();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sk.bind(null,qr,e),[n.memoizedState,e]},useRef:function(e){var t=ds();return e={current:e},t.memoizedState=e},useState:v5,useDebugValue:Ux,useDeferredValue:function(e){return ds().memoizedState=e},useTransition:function(){var e=v5(!1),t=e[0];return e=ak.bind(null,e[1]),ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qr,i=ds();if(Mr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),In===null)throw Error(Ve(349));tc&30||Hb(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,y5(Vb.bind(null,n,a,e),[e]),n.flags|=2048,Fh(9,Wb.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ds(),t=In.identifierPrefix;if(Mr){var r=Ws,n=Hs;r=(n&~(1<<32-Va(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ik++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ck={readContext:Sa,useCallback:e3,useContext:Sa,useEffect:Bx,useImperativeHandle:Qb,useInsertionEffect:Yb,useLayoutEffect:Jb,useMemo:t3,useReducer:Tm,useRef:Xb,useState:function(){return Tm(Ph)},useDebugValue:Ux,useDeferredValue:function(e){var t=Na();return r3(t,En.memoizedState,e)},useTransition:function(){var e=Tm(Ph)[0],t=Na().memoizedState;return[e,t]},useMutableSource:$b,useSyncExternalStore:qb,useId:n3,unstable_isNewReconciler:!1},uk={readContext:Sa,useCallback:e3,useContext:Sa,useEffect:Bx,useImperativeHandle:Qb,useInsertionEffect:Yb,useLayoutEffect:Jb,useMemo:t3,useReducer:jm,useRef:Xb,useState:function(){return jm(Ph)},useDebugValue:Ux,useDeferredValue:function(e){var t=Na();return En===null?t.memoizedState=e:r3(t,En.memoizedState,e)},useTransition:function(){var e=jm(Ph)[0],t=Na().memoizedState;return[e,t]},useMutableSource:$b,useSyncExternalStore:qb,useId:n3,unstable_isNewReconciler:!1};function Ua(e,t){if(e&&e.defaultProps){t=Hr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function l2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Hr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rp={isMounted:function(e){return(e=e._reactInternals)?hc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yi(),i=Ko(e),a=Vs(n,i);a.payload=t,r!=null&&(a.callback=r),t=Vo(e,a,i),t!==null&&(Ga(t,e,i,n),D0(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yi(),i=Ko(e),a=Vs(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vo(e,a,i),t!==null&&(Ga(t,e,i,n),D0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yi(),n=Ko(e),i=Vs(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vo(e,i,n),t!==null&&(Ga(t,e,n,r),D0(t,e,n))}};function _5(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ah(r,n)||!Ah(i,a):!0}function o3(e,t,r){var n=!1,i=tl,a=t.contextType;return typeof a=="object"&&a!==null?a=Sa(a):(i=Fi(t)?Ql:ui.current,n=t.contextTypes,a=(n=n!=null)?Au(e,i):tl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function w5(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rp.enqueueReplaceState(t,t.state,null)}function c2(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Px(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Sa(a):(a=Fi(t)?Ql:ui.current,i.context=Au(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(l2(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&rp.enqueueReplaceState(i,i.state,null),m1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ju(e,t){try{var r="",n=t;do r+=ME(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Cm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function u2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function l3(e,t,r){r=Vs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_1||(_1=!0,_2=n),u2(e,t)},r}function c3(e,t,r){r=Vs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){u2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){u2(e,t),typeof n!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function b5(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fk;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Ak.bind(null,e,t,r),t.then(e,e))}function S5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function N5(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vs(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var hk=io.ReactCurrentOwner,Ci=!1;function mi(e,t,r,n){t.child=e===null?Mb(t,null,r,n):ku(t,e.child,r,n)}function A5(e,t,r,n,i){r=r.render;var a=t.ref;return du(t,i),n=Dx(e,t,r,n,a,i),r=Mx(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eo(e,t,i)):(Mr&&r&&Ax(t),t.flags|=1,mi(e,t,n,i),t.child)}function E5(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Kx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,u3(e,t,a,n,i)):(e=q0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ah,r(s,n)&&e.ref===t.ref)return eo(e,t,i)}return t.flags|=1,e=Xo(a,n),e.ref=t.ref,e.return=t,t.child=e}function u3(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Ah(a,n)&&e.ref===t.ref)if(Ci=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ci=!0);else return t.lanes=e.lanes,eo(e,t,i)}return f2(e,t,r,n,i)}function f3(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jr(su,Yi),Yi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jr(su,Yi),Yi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,jr(su,Yi),Yi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,jr(su,Yi),Yi|=n;return mi(e,t,i,r),t.child}function h3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function f2(e,t,r,n,i){var a=Fi(r)?Ql:ui.current;return a=Au(t,a),du(t,i),r=Dx(e,t,r,n,a,i),n=Mx(),e!==null&&!Ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,eo(e,t,i)):(Mr&&n&&Ax(t),t.flags|=1,mi(e,t,r,i),t.child)}function k5(e,t,r,n,i){if(Fi(r)){var a=!0;u1(t)}else a=!1;if(du(t,i),t.stateNode===null)U0(e,t),o3(t,r,n),c2(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Sa(u):(u=Fi(r)?Ql:ui.current,u=Au(t,u));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&w5(t,s,n,u),Lo=!1;var m=t.memoizedState;s.state=m,m1(t,n,s,i),c=t.memoizedState,o!==n||m!==c||Pi.current||Lo?(typeof f=="function"&&(l2(t,r,f,n),c=t.memoizedState),(o=Lo||_5(t,r,o,n,m,c,u))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ub(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ua(t.type,o),s.props=u,p=t.pendingProps,m=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Sa(c):(c=Fi(r)?Ql:ui.current,c=Au(t,c));var h=r.getDerivedStateFromProps;(f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==p||m!==c)&&w5(t,s,n,c),Lo=!1,m=t.memoizedState,s.state=m,m1(t,n,s,i);var v=t.memoizedState;o!==p||m!==v||Pi.current||Lo?(typeof h=="function"&&(l2(t,r,h,n),v=t.memoizedState),(u=Lo||_5(t,r,u,n,m,v,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return h2(e,t,r,n,a,i)}function h2(e,t,r,n,i,a){h3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&h5(t,r,!1),eo(e,t,a);n=t.stateNode,hk.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ku(t,e.child,null,a),t.child=ku(t,null,o,a)):mi(e,t,o,a),t.memoizedState=n.state,i&&h5(t,r,!0),t.child}function d3(e){var t=e.stateNode;t.pendingContext?f5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&f5(e,t.context,!1),Fx(e,t.containerInfo)}function T5(e,t,r,n,i){return Eu(),kx(i),t.flags|=256,mi(e,t,r,n),t.child}var d2={dehydrated:null,treeContext:null,retryLane:0};function p2(e){return{baseLanes:e,cachePool:null,transitions:null}}function p3(e,t,r){var n=t.pendingProps,i=$r.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),jr($r,i&1),e===null)return s2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ap(s,n,0,null),e=Xl(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=p2(r),t.memoizedState=d2,e):zx(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return dk(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Xo(o,a):(a=Xl(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?p2(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=d2,n}return a=e.child,e=a.sibling,n=Xo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zx(e,t){return t=ap({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function a0(e,t,r,n){return n!==null&&kx(n),ku(t,e.child,null,r),e=zx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dk(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Cm(Error(Ve(422))),a0(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ap({mode:"visible",children:n.children},i,0,null),a=Xl(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ku(t,e.child,null,s),t.child.memoizedState=p2(s),t.memoizedState=d2,a);if(!(t.mode&1))return a0(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ve(419)),n=Cm(a,n,void 0),a0(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ci||o){if(n=In,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qs(e,i),Ga(n,e,i,-1))}return Gx(),n=Cm(Error(Ve(421))),a0(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ek.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ea=Wo(i.nextSibling),na=t,Mr=!0,qa=null,e!==null&&(xa[va++]=Hs,xa[va++]=Ws,xa[va++]=ec,Hs=e.id,Ws=e.overflow,ec=t),t=zx(t,n.children),t.flags|=4096,t)}function j5(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),o2(e.return,t,r)}function Lm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function m3(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(mi(e,t,n.children,r),n=$r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j5(e,r,t);else if(e.tag===19)j5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(jr($r,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&g1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Lm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&g1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Lm(t,!0,r,null,a);break;case"together":Lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function U0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function eo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=Xo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pk(e,t,r){switch(t.tag){case 3:d3(t),Eu();break;case 5:zb(t);break;case 1:Fi(t.type)&&u1(t);break;case 4:Fx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;jr(d1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(jr($r,$r.current&1),t.flags|=128,null):r&t.child.childLanes?p3(e,t,r):(jr($r,$r.current&1),e=eo(e,t,r),e!==null?e.sibling:null);jr($r,$r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jr($r,$r.current),n)break;return null;case 22:case 23:return t.lanes=0,f3(e,t,r)}return eo(e,t,r)}var g3,m2,x3,v3;g3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};m2=function(){};x3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hl(ys.current);var a=null;switch(r){case"input":i=Dg(e,i),n=Dg(e,n),a=[];break;case"select":i=Hr({},i,{value:void 0}),n=Hr({},n,{value:void 0}),a=[];break;case"textarea":i=Ug(e,i),n=Ug(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=l1)}$g(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Lr("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};v3=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pf(e,t){if(!Mr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mk(e,t,r){var n=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return Fi(t.type)&&c1(),ri(t),null;case 3:return n=t.stateNode,Tu(),Fr(Pi),Fr(ui),Ix(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(n0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qa!==null&&(S2(qa),qa=null))),m2(e,t),ri(t),null;case 5:Ox(t);var i=Hl(Ch.current);if(r=t.type,e!==null&&t.stateNode!=null)x3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return ri(t),null}if(e=Hl(ys.current),n0(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ms]=t,n[Th]=a,e=(t.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<qf.length;i++)Lr(qf[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":My(n,a),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Lr("invalid",n);break;case"textarea":Uy(n,a),Lr("invalid",n)}$g(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&r0(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&r0(n.textContent,o,e),i=["children",""+o]):vh.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Lr("scroll",n)}switch(r){case"input":Kd(n),By(n,a,!0);break;case"textarea":Kd(n),zy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=l1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ms]=t,e[Th]=n,g3(e,t,!1,!1),t.stateNode=e;e:{switch(s=qg(r,n),r){case"dialog":Lr("cancel",e),Lr("close",e),i=n;break;case"iframe":case"object":case"embed":Lr("load",e),i=n;break;case"video":case"audio":for(i=0;i<qf.length;i++)Lr(qf[i],e);i=n;break;case"source":Lr("error",e),i=n;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=n;break;case"details":Lr("toggle",e),i=n;break;case"input":My(e,n),i=Dg(e,n),Lr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Hr({},n,{value:void 0}),Lr("invalid",e);break;case"textarea":Uy(e,n),i=Ug(e,n),Lr("invalid",e);break;default:i=n}$g(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?X4(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G4(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yh(e,c):typeof c=="number"&&yh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Lr("scroll",e):c!=null&&fx(e,a,c,s))}switch(r){case"input":Kd(e),By(e,n,!1);break;case"textarea":Kd(e),zy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+el(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?cu(e,!!n.multiple,a,!1):n.defaultValue!=null&&cu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=l1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)v3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Hl(Ch.current),Hl(ys.current),n0(t)){if(n=t.stateNode,r=t.memoizedProps,n[ms]=t,(a=n.nodeValue!==r)&&(e=na,e!==null))switch(e.tag){case 3:r0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&r0(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ms]=t,t.stateNode=n}return ri(t),null;case 13:if(Fr($r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mr&&ea!==null&&t.mode&1&&!(t.flags&128))Rb(),Eu(),t.flags|=98560,a=!1;else if(a=n0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[ms]=t}else Eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),a=!1}else qa!==null&&(S2(qa),qa=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$r.current&1?kn===0&&(kn=3):Gx())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return Tu(),m2(e,t),e===null&&Eh(t.stateNode.containerInfo),ri(t),null;case 10:return Cx(t.type._context),ri(t),null;case 17:return Fi(t.type)&&c1(),ri(t),null;case 19:if(Fr($r),a=t.memoizedState,a===null)return ri(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Pf(a,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=g1(e),s!==null){for(t.flags|=128,Pf(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return jr($r,$r.current&1|2),t.child}e=e.sibling}a.tail!==null&&sn()>Cu&&(t.flags|=128,n=!0,Pf(a,!1),t.lanes=4194304)}else{if(!n)if(e=g1(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Mr)return ri(t),null}else 2*sn()-a.renderingStartTime>Cu&&r!==1073741824&&(t.flags|=128,n=!0,Pf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=sn(),t.sibling=null,r=$r.current,jr($r,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return Vx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yi&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function gk(e,t){switch(Ex(t),t.tag){case 1:return Fi(t.type)&&c1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),Fr(Pi),Fr(ui),Ix(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ox(t),null;case 13:if(Fr($r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fr($r),null;case 4:return Tu(),null;case 10:return Cx(t.type._context),null;case 22:case 23:return Vx(),null;case 24:return null;default:return null}}var s0=!1,oi=!1,xk=typeof WeakSet=="function"?WeakSet:Set,at=null;function au(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function g2(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var C5=!1;function vk(e,t){if(Qg=a1,e=Sb(),Nx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,f=0,p=e,m=null;t:for(;;){for(var h;p!==r||i!==0&&p.nodeType!==3||(o=s+i),p!==a||n!==0&&p.nodeType!==3||(c=s+n),p.nodeType===3&&(s+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===e)break t;if(m===r&&++u===i&&(o=s),m===a&&++f===n&&(c=s),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(e2={focusedElem:e,selectionRange:r},a1=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){t=at;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ua(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(A){Yr(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return v=C5,C5=!1,v}function eh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&g2(t,r,a)}i=i.next}while(i!==n)}}function np(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function x2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y3(e){var t=e.alternate;t!==null&&(e.alternate=null,y3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ms],delete t[Th],delete t[n2],delete t[ek],delete t[tk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _3(e){return e.tag===5||e.tag===3||e.tag===4}function L5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=l1));else if(n!==4&&(e=e.child,e!==null))for(v2(e,t,r),e=e.sibling;e!==null;)v2(e,t,r),e=e.sibling}function y2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(y2(e,t,r),e=e.sibling;e!==null;)y2(e,t,r),e=e.sibling}var zn=null,za=!1;function No(e,t,r){for(r=r.child;r!==null;)w3(e,t,r),r=r.sibling}function w3(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(X1,r)}catch{}switch(r.tag){case 5:oi||au(r,t);case 6:var n=zn,i=za;zn=null,No(e,t,r),zn=n,za=i,zn!==null&&(za?(e=zn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zn.removeChild(r.stateNode));break;case 18:zn!==null&&(za?(e=zn,r=r.stateNode,e.nodeType===8?Nm(e.parentNode,r):e.nodeType===1&&Nm(e,r),Sh(e)):Nm(zn,r.stateNode));break;case 4:n=zn,i=za,zn=r.stateNode.containerInfo,za=!0,No(e,t,r),zn=n,za=i;break;case 0:case 11:case 14:case 15:if(!oi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&g2(r,t,s),i=i.next}while(i!==n)}No(e,t,r);break;case 1:if(!oi&&(au(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Yr(r,t,o)}No(e,t,r);break;case 21:No(e,t,r);break;case 22:r.mode&1?(oi=(n=oi)||r.memoizedState!==null,No(e,t,r),oi=n):No(e,t,r);break;default:No(e,t,r)}}function P5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xk),t.forEach(function(n){var i=kk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ia(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:zn=o.stateNode,za=!1;break e;case 3:zn=o.stateNode.containerInfo,za=!0;break e;case 4:zn=o.stateNode.containerInfo,za=!0;break e}o=o.return}if(zn===null)throw Error(Ve(160));w3(a,s,i),zn=null,za=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Yr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b3(t,e),t=t.sibling}function b3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ia(t,e),ls(e),n&4){try{eh(3,e,e.return),np(3,e)}catch(x){Yr(e,e.return,x)}try{eh(5,e,e.return)}catch(x){Yr(e,e.return,x)}}break;case 1:Ia(t,e),ls(e),n&512&&r!==null&&au(r,r.return);break;case 5:if(Ia(t,e),ls(e),n&512&&r!==null&&au(r,r.return),e.flags&32){var i=e.stateNode;try{yh(i,"")}catch(x){Yr(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&H4(i,a),qg(o,s);var u=qg(o,a);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?X4(i,p):f==="dangerouslySetInnerHTML"?G4(i,p):f==="children"?yh(i,p):fx(i,f,p,u)}switch(o){case"input":Mg(i,a);break;case"textarea":W4(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?cu(i,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?cu(i,!!a.multiple,a.defaultValue,!0):cu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Th]=a}catch(x){Yr(e,e.return,x)}}break;case 6:if(Ia(t,e),ls(e),n&4){if(e.stateNode===null)throw Error(Ve(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Yr(e,e.return,x)}}break;case 3:if(Ia(t,e),ls(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sh(t.containerInfo)}catch(x){Yr(e,e.return,x)}break;case 4:Ia(t,e),ls(e);break;case 13:Ia(t,e),ls(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Hx=sn())),n&4&&P5(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(oi=(u=oi)||f,Ia(t,e),oi=u):Ia(t,e),ls(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(at=e,f=e.child;f!==null;){for(p=at=f;at!==null;){switch(m=at,h=m.child,m.tag){case 0:case 11:case 14:case 15:eh(4,m,m.return);break;case 1:au(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Yr(n,r,x)}}break;case 5:au(m,m.return);break;case 22:if(m.memoizedState!==null){O5(p);continue}}h!==null?(h.return=m,at=h):O5(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=K4("display",s))}catch(x){Yr(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){Yr(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ia(t,e),ls(e),n&4&&P5(e);break;case 21:break;default:Ia(t,e),ls(e)}}function ls(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_3(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yh(i,""),n.flags&=-33);var a=L5(e);y2(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=L5(e);v2(e,o,s);break;default:throw Error(Ve(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yk(e,t,r){at=e,S3(e)}function S3(e,t,r){for(var n=(e.mode&1)!==0;at!==null;){var i=at,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||s0;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||oi;o=s0;var u=oi;if(s0=s,(oi=c)&&!u)for(at=i;at!==null;)s=at,c=s.child,s.tag===22&&s.memoizedState!==null?I5(i):c!==null?(c.return=s,at=c):I5(i);for(;a!==null;)at=a,S3(a),a=a.sibling;at=i,s0=o,oi=u}F5(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,at=a):F5(e)}}function F5(e){for(;at!==null;){var t=at;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oi||np(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!oi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ua(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&x5(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}x5(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Sh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}oi||t.flags&512&&x2(t)}catch(m){Yr(t,t.return,m)}}if(t===e){at=null;break}if(r=t.sibling,r!==null){r.return=t.return,at=r;break}at=t.return}}function O5(e){for(;at!==null;){var t=at;if(t===e){at=null;break}var r=t.sibling;if(r!==null){r.return=t.return,at=r;break}at=t.return}}function I5(e){for(;at!==null;){var t=at;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{np(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Yr(t,i,c)}}var a=t.return;try{x2(t)}catch(c){Yr(t,a,c)}break;case 5:var s=t.return;try{x2(t)}catch(c){Yr(t,s,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){at=null;break}var o=t.sibling;if(o!==null){o.return=t.return,at=o;break}at=t.return}}var _k=Math.ceil,y1=io.ReactCurrentDispatcher,$x=io.ReactCurrentOwner,wa=io.ReactCurrentBatchConfig,er=0,In=null,mn=null,Vn=0,Yi=0,su=ol(0),kn=0,Oh=null,rc=0,ip=0,qx=0,th=null,Ti=null,Hx=0,Cu=1/0,Bs=null,_1=!1,_2=null,Go=null,o0=!1,Do=null,w1=0,rh=0,w2=null,z0=-1,$0=0;function yi(){return er&6?sn():z0!==-1?z0:z0=sn()}function Ko(e){return e.mode&1?er&2&&Vn!==0?Vn&-Vn:nk.transition!==null?($0===0&&($0=ob()),$0):(e=vr,e!==0||(e=window.event,e=e===void 0?16:pb(e.type)),e):1}function Ga(e,t,r,n){if(50<rh)throw rh=0,w2=null,Error(Ve(185));Qh(e,r,n),(!(er&2)||e!==In)&&(e===In&&(!(er&2)&&(ip|=r),kn===4&&Fo(e,Vn)),Oi(e,n),r===1&&er===0&&!(t.mode&1)&&(Cu=sn()+500,ep&&ll()))}function Oi(e,t){var r=e.callbackNode;n8(e,t);var n=i1(e,e===In?Vn:0);if(n===0)r!==null&&Hy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hy(r),t===1)e.tag===0?rk(R5.bind(null,e)):Fb(R5.bind(null,e)),Z8(function(){!(er&6)&&ll()}),r=null;else{switch(lb(n)){case 1:r=gx;break;case 4:r=ab;break;case 16:r=n1;break;case 536870912:r=sb;break;default:r=n1}r=L3(r,N3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function N3(e,t){if(z0=-1,$0=0,er&6)throw Error(Ve(327));var r=e.callbackNode;if(pu()&&e.callbackNode!==r)return null;var n=i1(e,e===In?Vn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=b1(e,n);else{t=n;var i=er;er|=2;var a=E3();(In!==e||Vn!==t)&&(Bs=null,Cu=sn()+500,Kl(e,t));do try{Sk();break}catch(o){A3(e,o)}while(!0);jx(),y1.current=a,er=i,mn!==null?t=0:(In=null,Vn=0,t=kn)}if(t!==0){if(t===2&&(i=Kg(e),i!==0&&(n=i,t=b2(e,i))),t===1)throw r=Oh,Kl(e,0),Fo(e,n),Oi(e,sn()),r;if(t===6)Fo(e,n);else{if(i=e.current.alternate,!(n&30)&&!wk(i)&&(t=b1(e,n),t===2&&(a=Kg(e),a!==0&&(n=a,t=b2(e,a))),t===1))throw r=Oh,Kl(e,0),Fo(e,n),Oi(e,sn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:Il(e,Ti,Bs);break;case 3:if(Fo(e,n),(n&130023424)===n&&(t=Hx+500-sn(),10<t)){if(i1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){yi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=r2(Il.bind(null,e,Ti,Bs),t);break}Il(e,Ti,Bs);break;case 4:if(Fo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Va(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=sn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_k(n/1960))-n,10<n){e.timeoutHandle=r2(Il.bind(null,e,Ti,Bs),n);break}Il(e,Ti,Bs);break;case 5:Il(e,Ti,Bs);break;default:throw Error(Ve(329))}}}return Oi(e,sn()),e.callbackNode===r?N3.bind(null,e):null}function b2(e,t){var r=th;return e.current.memoizedState.isDehydrated&&(Kl(e,t).flags|=256),e=b1(e,t),e!==2&&(t=Ti,Ti=r,t!==null&&S2(t)),e}function S2(e){Ti===null?Ti=e:Ti.push.apply(Ti,e)}function wk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Xa(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fo(e,t){for(t&=~qx,t&=~ip,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Va(t),n=1<<r;e[r]=-1,t&=~n}}function R5(e){if(er&6)throw Error(Ve(327));pu();var t=i1(e,0);if(!(t&1))return Oi(e,sn()),null;var r=b1(e,t);if(e.tag!==0&&r===2){var n=Kg(e);n!==0&&(t=n,r=b2(e,n))}if(r===1)throw r=Oh,Kl(e,0),Fo(e,t),Oi(e,sn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,Ti,Bs),Oi(e,sn()),null}function Wx(e,t){var r=er;er|=1;try{return e(t)}finally{er=r,er===0&&(Cu=sn()+500,ep&&ll())}}function nc(e){Do!==null&&Do.tag===0&&!(er&6)&&pu();var t=er;er|=1;var r=wa.transition,n=vr;try{if(wa.transition=null,vr=1,e)return e()}finally{vr=n,wa.transition=r,er=t,!(er&6)&&ll()}}function Vx(){Yi=su.current,Fr(su)}function Kl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,J8(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(Ex(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&c1();break;case 3:Tu(),Fr(Pi),Fr(ui),Ix();break;case 5:Ox(n);break;case 4:Tu();break;case 13:Fr($r);break;case 19:Fr($r);break;case 10:Cx(n.type._context);break;case 22:case 23:Vx()}r=r.return}if(In=e,mn=e=Xo(e.current,null),Vn=Yi=t,kn=0,Oh=null,qx=ip=rc=0,Ti=th=null,ql!==null){for(t=0;t<ql.length;t++)if(r=ql[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}ql=null}return e}function A3(e,t){do{var r=mn;try{if(jx(),M0.current=v1,x1){for(var n=qr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}x1=!1}if(tc=0,Cn=En=qr=null,Qf=!1,Lh=0,$x.current=null,r===null||r.return===null){kn=1,Oh=t,mn=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=Vn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=S5(s);if(h!==null){h.flags&=-257,N5(h,s,o,a,t),h.mode&1&&b5(a,u,t),t=h,c=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){b5(a,u,t),Gx();break e}c=Error(Ve(426))}}else if(Mr&&o.mode&1){var S=S5(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),N5(S,s,o,a,t),kx(ju(c,o));break e}}a=c=ju(c,o),kn!==4&&(kn=2),th===null?th=[a]:th.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=l3(a,c,t);g5(a,y);break e;case 1:o=c;var w=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Go===null||!Go.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=c3(a,o,t);g5(a,A);break e}}a=a.return}while(a!==null)}T3(r)}catch(H){t=H,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function E3(){var e=y1.current;return y1.current=v1,e===null?v1:e}function Gx(){(kn===0||kn===3||kn===2)&&(kn=4),In===null||!(rc&268435455)&&!(ip&268435455)||Fo(In,Vn)}function b1(e,t){var r=er;er|=2;var n=E3();(In!==e||Vn!==t)&&(Bs=null,Kl(e,t));do try{bk();break}catch(i){A3(e,i)}while(!0);if(jx(),er=r,y1.current=n,mn!==null)throw Error(Ve(261));return In=null,Vn=0,kn}function bk(){for(;mn!==null;)k3(mn)}function Sk(){for(;mn!==null&&!KE();)k3(mn)}function k3(e){var t=C3(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,t===null?T3(e):mn=t,$x.current=null}function T3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gk(r,t),r!==null){r.flags&=32767,mn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,mn=null;return}}else if(r=mk(r,t,Yi),r!==null){mn=r;return}if(t=t.sibling,t!==null){mn=t;return}mn=t=e}while(t!==null);kn===0&&(kn=5)}function Il(e,t,r){var n=vr,i=wa.transition;try{wa.transition=null,vr=1,Nk(e,t,r,n)}finally{wa.transition=i,vr=n}return null}function Nk(e,t,r,n){do pu();while(Do!==null);if(er&6)throw Error(Ve(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(i8(e,a),e===In&&(mn=In=null,Vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||o0||(o0=!0,L3(n1,function(){return pu(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wa.transition,wa.transition=null;var s=vr;vr=1;var o=er;er|=4,$x.current=null,vk(e,r),b3(r,e),H8(e2),a1=!!Qg,e2=Qg=null,e.current=r,yk(r),XE(),er=o,vr=s,wa.transition=a}else e.current=r;if(o0&&(o0=!1,Do=e,w1=i),a=e.pendingLanes,a===0&&(Go=null),ZE(r.stateNode),Oi(e,sn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(_1)throw _1=!1,e=_2,_2=null,e;return w1&1&&e.tag!==0&&pu(),a=e.pendingLanes,a&1?e===w2?rh++:(rh=0,w2=e):rh=0,ll(),null}function pu(){if(Do!==null){var e=lb(w1),t=wa.transition,r=vr;try{if(wa.transition=null,vr=16>e?16:e,Do===null)var n=!1;else{if(e=Do,Do=null,w1=0,er&6)throw Error(Ve(331));var i=er;for(er|=4,at=e.current;at!==null;){var a=at,s=a.child;if(at.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(at=u;at!==null;){var f=at;switch(f.tag){case 0:case 11:case 15:eh(8,f,a)}var p=f.child;if(p!==null)p.return=f,at=p;else for(;at!==null;){f=at;var m=f.sibling,h=f.return;if(y3(f),f===u){at=null;break}if(m!==null){m.return=h,at=m;break}at=h}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}at=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,at=s;else e:for(;at!==null;){if(a=at,a.flags&2048)switch(a.tag){case 0:case 11:case 15:eh(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,at=y;break e}at=a.return}}var w=e.current;for(at=w;at!==null;){s=at;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,at=_;else e:for(s=w;at!==null;){if(o=at,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:np(9,o)}}catch(H){Yr(o,o.return,H)}if(o===s){at=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,at=A;break e}at=o.return}}if(er=i,ll(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(X1,e)}catch{}n=!0}return n}finally{vr=r,wa.transition=t}}return!1}function D5(e,t,r){t=ju(r,t),t=l3(e,t,1),e=Vo(e,t,1),t=yi(),e!==null&&(Qh(e,1,t),Oi(e,t))}function Yr(e,t,r){if(e.tag===3)D5(e,e,r);else for(;t!==null;){if(t.tag===3){D5(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Go===null||!Go.has(n))){e=ju(r,e),e=c3(t,e,1),t=Vo(t,e,1),e=yi(),t!==null&&(Qh(t,1,e),Oi(t,e));break}}t=t.return}}function Ak(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yi(),e.pingedLanes|=e.suspendedLanes&r,In===e&&(Vn&r)===r&&(kn===4||kn===3&&(Vn&130023424)===Vn&&500>sn()-Hx?Kl(e,0):qx|=r),Oi(e,t)}function j3(e,t){t===0&&(e.mode&1?(t=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):t=1);var r=yi();e=Qs(e,t),e!==null&&(Qh(e,t,r),Oi(e,r))}function Ek(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),j3(e,r)}function kk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),j3(e,r)}var C3;C3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pi.current)Ci=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ci=!1,pk(e,t,r);Ci=!!(e.flags&131072)}else Ci=!1,Mr&&t.flags&1048576&&Ob(t,h1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;U0(e,t),e=t.pendingProps;var i=Au(t,ui.current);du(t,r),i=Dx(null,t,n,e,i,r);var a=Mx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(n)?(a=!0,u1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Px(t),i.updater=rp,t.stateNode=i,i._reactInternals=t,c2(t,n,e,r),t=h2(null,t,n,!0,a,r)):(t.tag=0,Mr&&a&&Ax(t),mi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(U0(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=jk(n),e=Ua(n,e),i){case 0:t=f2(null,t,n,e,r);break e;case 1:t=k5(null,t,n,e,r);break e;case 11:t=A5(null,t,n,e,r);break e;case 14:t=E5(null,t,n,Ua(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ua(n,i),f2(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ua(n,i),k5(e,t,n,i,r);case 3:e:{if(d3(t),e===null)throw Error(Ve(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Ub(e,t),m1(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ju(Error(Ve(423)),t),t=T5(e,t,n,r,i);break e}else if(n!==i){i=ju(Error(Ve(424)),t),t=T5(e,t,n,r,i);break e}else for(ea=Wo(t.stateNode.containerInfo.firstChild),na=t,Mr=!0,qa=null,r=Mb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eu(),n===i){t=eo(e,t,r);break e}mi(e,t,n,r)}t=t.child}return t;case 5:return zb(t),e===null&&s2(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,t2(n,i)?s=null:a!==null&&t2(n,a)&&(t.flags|=32),h3(e,t),mi(e,t,s,r),t.child;case 6:return e===null&&s2(t),null;case 13:return p3(e,t,r);case 4:return Fx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ku(t,null,n,r):mi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ua(n,i),A5(e,t,n,i,r);case 7:return mi(e,t,t.pendingProps,r),t.child;case 8:return mi(e,t,t.pendingProps.children,r),t.child;case 12:return mi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,jr(d1,n._currentValue),n._currentValue=s,a!==null)if(Xa(a.value,s)){if(a.children===i.children&&!Pi.current){t=eo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Vs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),o2(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ve(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),o2(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}mi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,du(t,r),i=Sa(i),n=n(i),t.flags|=1,mi(e,t,n,r),t.child;case 14:return n=t.type,i=Ua(n,t.pendingProps),i=Ua(n.type,i),E5(e,t,n,i,r);case 15:return u3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ua(n,i),U0(e,t),t.tag=1,Fi(n)?(e=!0,u1(t)):e=!1,du(t,r),o3(t,n,i),c2(t,n,i,r),h2(null,t,n,!0,e,r);case 19:return m3(e,t,r);case 22:return f3(e,t,r)}throw Error(Ve(156,t.tag))};function L3(e,t){return ib(e,t)}function Tk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(e,t,r,n){return new Tk(e,t,r,n)}function Kx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jk(e){if(typeof e=="function")return Kx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dx)return 11;if(e===px)return 14}return 2}function Xo(e,t){var r=e.alternate;return r===null?(r=_a(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function q0(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Kx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Yc:return Xl(r.children,i,a,t);case hx:s=8,i|=8;break;case Fg:return e=_a(12,r,t,i|2),e.elementType=Fg,e.lanes=a,e;case Og:return e=_a(13,r,t,i),e.elementType=Og,e.lanes=a,e;case Ig:return e=_a(19,r,t,i),e.elementType=Ig,e.lanes=a,e;case z4:return ap(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B4:s=10;break e;case U4:s=9;break e;case dx:s=11;break e;case px:s=14;break e;case Co:s=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=_a(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Xl(e,t,r,n){return e=_a(7,e,n,t),e.lanes=r,e}function ap(e,t,r,n){return e=_a(22,e,n,t),e.elementType=z4,e.lanes=r,e.stateNode={isHidden:!1},e}function Pm(e,t,r){return e=_a(6,e,null,t),e.lanes=r,e}function Fm(e,t,r){return t=_a(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ck(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xx(e,t,r,n,i,a,s,o,c){return e=new Ck(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=_a(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Px(a),e}function Lk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function P3(e){if(!e)return tl;e=e._reactInternals;e:{if(hc(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Fi(r))return Pb(e,r,t)}return t}function F3(e,t,r,n,i,a,s,o,c){return e=Xx(r,n,!0,e,i,a,s,o,c),e.context=P3(null),r=e.current,n=yi(),i=Ko(r),a=Vs(n,i),a.callback=t??null,Vo(r,a,i),e.current.lanes=i,Qh(e,i,n),Oi(e,n),e}function sp(e,t,r,n){var i=t.current,a=yi(),s=Ko(i);return r=P3(r),t.context===null?t.context=r:t.pendingContext=r,t=Vs(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(i,t,s),e!==null&&(Ga(e,i,s,a),D0(e,i,s)),s}function S1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yx(e,t){M5(e,t),(e=e.alternate)&&M5(e,t)}function Pk(){return null}var O3=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jx(e){this._internalRoot=e}op.prototype.render=Jx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));sp(e,t,null,null)};op.prototype.unmount=Jx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nc(function(){sp(null,e,null,null)}),t[Zs]=null}};function op(e){this._internalRoot=e}op.prototype.unstable_scheduleHydration=function(e){if(e){var t=fb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Po.length&&t!==0&&t<Po[r].priority;r++);Po.splice(r,0,e),r===0&&db(e)}};function Zx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B5(){}function Fk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=S1(s);a.call(u)}}var s=F3(t,n,e,0,null,!1,!1,"",B5);return e._reactRootContainer=s,e[Zs]=s.current,Eh(e.nodeType===8?e.parentNode:e),nc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=S1(c);o.call(u)}}var c=Xx(e,0,!1,null,null,!1,!1,"",B5);return e._reactRootContainer=c,e[Zs]=c.current,Eh(e.nodeType===8?e.parentNode:e),nc(function(){sp(t,c,r,n)}),c}function cp(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=S1(s);o.call(c)}}sp(t,s,e,i)}else s=Fk(r,t,e,i,n);return S1(s)}cb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$f(t.pendingLanes);r!==0&&(xx(t,r|1),Oi(t,sn()),!(er&6)&&(Cu=sn()+500,ll()))}break;case 13:nc(function(){var n=Qs(e,1);if(n!==null){var i=yi();Ga(n,e,1,i)}}),Yx(e,1)}};vx=function(e){if(e.tag===13){var t=Qs(e,134217728);if(t!==null){var r=yi();Ga(t,e,134217728,r)}Yx(e,134217728)}};ub=function(e){if(e.tag===13){var t=Ko(e),r=Qs(e,t);if(r!==null){var n=yi();Ga(r,e,t,n)}Yx(e,t)}};fb=function(){return vr};hb=function(e,t){var r=vr;try{return vr=e,t()}finally{vr=r}};Wg=function(e,t,r){switch(t){case"input":if(Mg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Q1(n);if(!i)throw Error(Ve(90));q4(n),Mg(n,i)}}}break;case"textarea":W4(e,r);break;case"select":t=r.value,t!=null&&cu(e,!!r.multiple,t,!1)}};Z4=Wx;Q4=nc;var Ok={usingClientEntryPoint:!1,Events:[td,eu,Q1,Y4,J4,Wx]},Ff={findFiberByHostInstance:$l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rb(e),e===null?null:e.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l0.isDisabled&&l0.supportsFiber)try{X1=l0.inject(Ik),vs=l0}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zx(t))throw Error(Ve(200));return Lk(e,t,null,r)};sa.createRoot=function(e,t){if(!Zx(e))throw Error(Ve(299));var r=!1,n="",i=O3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Xx(e,1,!1,null,null,r,!1,n,i),e[Zs]=t.current,Eh(e.nodeType===8?e.parentNode:e),new Jx(t)};sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=rb(t),e=e===null?null:e.stateNode,e};sa.flushSync=function(e){return nc(e)};sa.hydrate=function(e,t,r){if(!lp(t))throw Error(Ve(200));return cp(null,e,t,!0,r)};sa.hydrateRoot=function(e,t,r){if(!Zx(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=O3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=F3(t,null,e,1,r??null,i,!1,a,s),e[Zs]=t.current,Eh(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new op(t)};sa.render=function(e,t,r){if(!lp(t))throw Error(Ve(200));return cp(null,e,t,!1,r)};sa.unmountComponentAtNode=function(e){if(!lp(e))throw Error(Ve(40));return e._reactRootContainer?(nc(function(){cp(null,null,e,!1,function(){e._reactRootContainer=null,e[Zs]=null})}),!0):!1};sa.unstable_batchedUpdates=Wx;sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lp(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return cp(e,t,r,!1,n)};sa.version="18.3.1-next-f1338f8080-20240426";function I3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I3)}catch(e){console.error(e)}}I3(),I4.exports=sa;var Rk=I4.exports,R3,U5=Rk;R3=U5.createRoot,U5.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z5="popstate";function Dk(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return N2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ih(i)}return Bk(t,r,null,e)}function Br(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ya(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mk(){return Math.random().toString(36).substring(2,10)}function $5(e,t){return{usr:e.state,key:e.key,idx:t}}function N2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$u(t):t,state:r,key:t&&t.key||n||Mk()}}function Ih({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $u(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Bk(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",c=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function p(){o="POP";let S=f(),y=S==null?null:S-u;u=S,c&&c({action:o,location:x.location,delta:y})}function m(S,y){o="PUSH";let w=N2(x.location,S,y);u=f()+1;let _=$5(w,u),A=x.createHref(w);try{s.pushState(_,"",A)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(A)}a&&c&&c({action:o,location:x.location,delta:1})}function h(S,y){o="REPLACE";let w=N2(x.location,S,y);u=f();let _=$5(w,u),A=x.createHref(w);s.replaceState(_,"",A),a&&c&&c({action:o,location:x.location,delta:0})}function v(S){return Uk(S)}let x={get action(){return o},get location(){return e(i,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(z5,p),c=S,()=>{i.removeEventListener(z5,p),c=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(S){return s.go(S)}};return x}function Uk(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Br(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ih(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function D3(e,t,r="/"){return zk(e,t,r,!1)}function zk(e,t,r,n){let i=typeof t=="string"?$u(t):t,a=to(i.pathname||"/",r);if(a==null)return null;let s=M3(e);$k(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=Qk(a);o=Jk(s[c],u,n)}return o}function M3(e,t=[],r=[],n="",i=!1){let a=(s,o,c=i,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;Br(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Gs([n,f.relativePath]),m=r.concat(f);s.children&&s.children.length>0&&(Br(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),M3(s.children,t,m,p,c)),!(s.path==null&&!s.index)&&t.push({path:p,score:Xk(p,s.index),routesMeta:m})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let u of B3(s.path))a(s,o,!0,u)}),t}function B3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=B3(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function $k(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var qk=/^:[\w-]+$/,Hk=3,Wk=2,Vk=1,Gk=10,Kk=-2,q5=e=>e==="*";function Xk(e,t){let r=e.split("/"),n=r.length;return r.some(q5)&&(n+=Kk),t&&(n+=Wk),r.filter(i=>!q5(i)).reduce((i,a)=>i+(qk.test(a)?Hk:a===""?Vk:Gk),n)}function Yk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Jk(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",p=N1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=N1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Gs([a,p.pathname]),pathnameBase:nT(Gs([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=Gs([a,p.pathnameBase]))}return s}function N1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zk(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},m)=>{if(f==="*"){let v=o[m]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const h=o[m];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function Zk(e,t=!1,r=!0){Ya(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Qk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ya(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function to(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eT(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?$u(e):e;return{pathname:r?r.startsWith("/")?r:tT(r,t):t,search:iT(n),hash:aT(i)}}function tT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Om(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qx(e){let t=rT(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function ev(e,t,r,n=!1){let i;typeof e=="string"?i=$u(e):(i={...e},Br(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),Br(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),Br(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let p=t.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?t[p]:"/"}let c=eT(i,o),u=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var Gs=e=>e.join("/").replace(/\/\/+/g,"/"),nT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var U3=["POST","PUT","PATCH","DELETE"];new Set(U3);var oT=["GET",...U3];new Set(oT);var qu=Z.createContext(null);qu.displayName="DataRouter";var up=Z.createContext(null);up.displayName="DataRouterState";Z.createContext(!1);var z3=Z.createContext({isTransitioning:!1});z3.displayName="ViewTransition";var lT=Z.createContext(new Map);lT.displayName="Fetchers";var cT=Z.createContext(null);cT.displayName="Await";var Za=Z.createContext(null);Za.displayName="Navigation";var nd=Z.createContext(null);nd.displayName="Location";var Qa=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var tv=Z.createContext(null);tv.displayName="RouteError";function uT(e,{relative:t}={}){Br(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Z.useContext(Za),{hash:i,pathname:a,search:s}=id(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:Gs([r,a])),n.createHref({pathname:o,search:s,hash:i})}function Hu(){return Z.useContext(nd)!=null}function cl(){return Br(Hu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(nd).location}var $3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q3(e){Z.useContext(Za).static||Z.useLayoutEffect(e)}function H3(){let{isDataRoute:e}=Z.useContext(Qa);return e?AT():fT()}function fT(){Br(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let e=Z.useContext(qu),{basename:t,navigator:r}=Z.useContext(Za),{matches:n}=Z.useContext(Qa),{pathname:i}=cl(),a=JSON.stringify(Qx(n)),s=Z.useRef(!1);return q3(()=>{s.current=!0}),Z.useCallback((c,u={})=>{if(Ya(s.current,$3),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=ev(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gs([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,i,e])}var hT=Z.createContext(null);function dT(e){let t=Z.useContext(Qa).outlet;return Z.useMemo(()=>t&&Z.createElement(hT.Provider,{value:e},t),[t,e])}function id(e,{relative:t}={}){let{matches:r}=Z.useContext(Qa),{pathname:n}=cl(),i=JSON.stringify(Qx(r));return Z.useMemo(()=>ev(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function pT(e,t){return W3(e,t)}function W3(e,t,r,n,i){var w;Br(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Z.useContext(Za),{matches:s}=Z.useContext(Qa),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let _=p&&p.path||"";V3(u,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=cl(),h;if(t){let _=typeof t=="string"?$u(t):t;Br(f==="/"||((w=_.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),h=_}else h=m;let v=h.pathname||"/",x=v;if(f!=="/"){let _=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=D3(e,{pathname:x});Ya(p||S!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Ya(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=yT(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Gs([f,a.encodeLocation?a.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Gs([f,a.encodeLocation?a.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,r,n,i);return t&&y?Z.createElement(nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function mT(){let e=NT(),t=sT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),r?Z.createElement("pre",{style:i},r):null,s)}var gT=Z.createElement(mT,null),xT=class extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?Z.createElement(Qa.Provider,{value:this.props.routeContext},Z.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vT({routeContext:e,match:t,children:r}){let n=Z.useContext(qu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Qa.Provider,{value:e},r)}function yT(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Br(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:m}=r,h=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||h){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,p)=>{let m,h=!1,v=null,x=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,v=f.route.errorElement||gT,o&&(c<0&&p===0?(V3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,x=null):c===p&&(h=!0,x=f.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,p+1)),y=()=>{let w;return m?w=v:h?w=x:f.route.Component?w=Z.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,Z.createElement(vT,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?Z.createElement(xT,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):y()},null)}function rv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(e){let t=Z.useContext(qu);return Br(t,rv(e)),t}function wT(e){let t=Z.useContext(up);return Br(t,rv(e)),t}function bT(e){let t=Z.useContext(Qa);return Br(t,rv(e)),t}function nv(e){let t=bT(e),r=t.matches[t.matches.length-1];return Br(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ST(){return nv("useRouteId")}function NT(){var n;let e=Z.useContext(tv),t=wT("useRouteError"),r=nv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function AT(){let{router:e}=_T("useNavigate"),t=nv("useNavigate"),r=Z.useRef(!1);return q3(()=>{r.current=!0}),Z.useCallback(async(i,a={})=>{Ya(r.current,$3),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var H5={};function V3(e,t,r){!t&&!H5[e]&&(H5[e]=!0,Ya(!1,r))}Z.memo(ET);function ET({routes:e,future:t,state:r,unstable_onError:n}){return W3(e,void 0,r,n,t)}function nh({to:e,replace:t,state:r,relative:n}){Br(Hu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Z.useContext(Za);Ya(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Z.useContext(Qa),{pathname:s}=cl(),o=H3(),c=ev(e,Qx(a),s,n==="path"),u=JSON.stringify(c);return Z.useEffect(()=>{o(JSON.parse(u),{replace:t,state:r,relative:n})},[o,u,n,t,r]),null}function G3(e){return dT(e.context)}function Gt(e){Br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kT({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Br(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=Z.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=$u(r));let{pathname:c="/",search:u="",hash:f="",state:p=null,key:m="default"}=r,h=Z.useMemo(()=>{let v=to(c,s);return v==null?null:{location:{pathname:v,search:u,hash:f,state:p,key:m},navigationType:n}},[s,c,u,f,p,m,n]);return Ya(h!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:Z.createElement(Za.Provider,{value:o},Z.createElement(nd.Provider,{children:t,value:h}))}function TT({children:e,location:t}){return pT(A2(e),t)}function A2(e,t=[]){let r=[];return Z.Children.forEach(e,(n,i)=>{if(!Z.isValidElement(n))return;let a=[...t,i];if(n.type===Z.Fragment){r.push.apply(r,A2(n.props.children,a));return}Br(n.type===Gt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Br(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=A2(n.props.children,a)),r.push(s)}),r}var H0="get",W0="application/x-www-form-urlencoded";function fp(e){return e!=null&&typeof e.tagName=="string"}function jT(e){return fp(e)&&e.tagName.toLowerCase()==="button"}function CT(e){return fp(e)&&e.tagName.toLowerCase()==="form"}function LT(e){return fp(e)&&e.tagName.toLowerCase()==="input"}function PT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FT(e,t){return e.button===0&&(!t||t==="_self")&&!PT(e)}var c0=null;function OT(){if(c0===null)try{new FormData(document.createElement("form"),0),c0=!1}catch{c0=!0}return c0}var IT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(e){return e!=null&&!IT.has(e)?(Ya(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W0}"`),null):e}function RT(e,t){let r,n,i,a,s;if(CT(e)){let o=e.getAttribute("action");n=o?to(o,t):null,r=e.getAttribute("method")||H0,i=Im(e.getAttribute("enctype"))||W0,a=new FormData(e)}else if(jT(e)||LT(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?to(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||H0,i=Im(e.getAttribute("formenctype"))||Im(o.getAttribute("enctype"))||W0,a=new FormData(o,e),!OT()){let{name:u,type:f,value:p}=e;if(f==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,p)}}else{if(fp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=H0,n=null,i=W0,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DT(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&to(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function MT(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UT(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await MT(a,r);return s.links?s.links():[]}return[]}));return HT(n.flat(1).filter(BT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function W5(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):a==="data"?t.filter((c,u)=>{var p;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zT(e,t,{includeHydrateFallback:r}={}){return $T(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function $T(e){return[...new Set(e)]}function qT(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function HT(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(qT(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function K3(){let e=Z.useContext(qu);return iv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WT(){let e=Z.useContext(up);return iv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var av=Z.createContext(void 0);av.displayName="FrameworkContext";function X3(){let e=Z.useContext(av);return iv(e,"You must render this element inside a <HydratedRouter> element"),e}function VT(e,t){let r=Z.useContext(av),[n,i]=Z.useState(!1),[a,s]=Z.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=t,m=Z.useRef(null);Z.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=y=>{y.forEach(w=>{s(w.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[e]),Z.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let h=()=>{i(!0)},v=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Of(o,h),onBlur:Of(c,v),onMouseEnter:Of(u,h),onMouseLeave:Of(f,v),onTouchStart:Of(p,h)}]:[!1,m,{}]}function Of(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function GT({page:e,...t}){let{router:r}=K3(),n=Z.useMemo(()=>D3(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?Z.createElement(XT,{page:e,matches:n,...t}):null}function KT(e){let{manifest:t,routeModules:r}=X3(),[n,i]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return UT(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function XT({page:e,matches:t,...r}){let n=cl(),{manifest:i,routeModules:a}=X3(),{basename:s}=K3(),{loaderData:o,matches:c}=WT(),u=Z.useMemo(()=>W5(e,t,c,i,n,"data"),[e,t,c,i,n]),f=Z.useMemo(()=>W5(e,t,c,i,n,"assets"),[e,t,c,i,n]),p=Z.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(t.forEach(y=>{var _;let w=i.routes[y.route.id];!w||!w.hasLoader||(!u.some(A=>A.route.id===y.route.id)&&y.route.id in o&&((_=a[y.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?x=!0:v.add(y.route.id))}),v.size===0)return[];let S=DT(e,s,"data");return x&&v.size>0&&S.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[S.pathname+S.search]},[s,o,n,i,u,t,e,a]),m=Z.useMemo(()=>zT(f,i),[f,i]),h=KT(f);return Z.createElement(Z.Fragment,null,p.map(v=>Z.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),m.map(v=>Z.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),h.map(({key:v,link:x})=>Z.createElement("link",{key:v,nonce:r.nonce,...x})))}function YT(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y3&&(window.__reactRouterVersion="7.9.3")}catch{}function JT({basename:e,children:t,window:r}){let n=Z.useRef();n.current==null&&(n.current=Dk({window:r,v5Compat:!0}));let i=n.current,[a,s]=Z.useState({action:i.action,location:i.location}),o=Z.useCallback(c=>{Z.startTransition(()=>s(c))},[s]);return Z.useLayoutEffect(()=>i.listen(o),[i,o]),Z.createElement(kT,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var J3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z3=Z.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:f,viewTransition:p,...m},h){let{basename:v}=Z.useContext(Za),x=typeof u=="string"&&J3.test(u),S,y=!1;if(typeof u=="string"&&x&&(S=u,Y3))try{let j=new URL(window.location.href),M=u.startsWith("//")?new URL(j.protocol+u):new URL(u),T=to(M.pathname,v);M.origin===j.origin&&T!=null?u=T+M.search+M.hash:y=!0}catch{Ya(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=uT(u,{relative:i}),[_,A,H]=VT(n,m),V=tj(u,{replace:s,state:o,target:c,preventScrollReset:f,relative:i,viewTransition:p});function C(j){t&&t(j),j.defaultPrevented||V(j)}let L=Z.createElement("a",{...m,...H,href:S||w,onClick:y||a?t:C,ref:YT(h,A),target:c,"data-discover":!x&&r==="render"?"true":void 0});return _&&!x?Z.createElement(Z.Fragment,null,L,Z.createElement(GT,{page:w})):L});Z3.displayName="Link";var ZT=Z.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...u},f){let p=id(s,{relative:u.relative}),m=cl(),h=Z.useContext(up),{navigator:v,basename:x}=Z.useContext(Za),S=h!=null&&sj(p)&&o===!0,y=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,w=m.pathname,_=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&x&&(_=to(_,x)||_);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let H=w===y||!i&&w.startsWith(y)&&w.charAt(A)==="/",V=_!=null&&(_===y||!i&&_.startsWith(y)&&_.charAt(y.length)==="/"),C={isActive:H,isPending:V,isTransitioning:S},L=H?t:void 0,j;typeof n=="function"?j=n(C):j=[n,H?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(C):a;return Z.createElement(Z3,{...u,"aria-current":L,className:j,ref:f,style:M,to:s,viewTransition:o},typeof c=="function"?c(C):c)});ZT.displayName="NavLink";var QT=Z.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=H0,action:o,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:p,...m},h)=>{let v=ij(),x=aj(o,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&J3.test(o),w=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,H=(A==null?void 0:A.getAttribute("formmethod"))||s;v(A||_.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:a,relative:u,preventScrollReset:f,viewTransition:p})};return Z.createElement("form",{ref:h,method:S,action:x,onSubmit:n?c:w,...m,"data-discover":!y&&e==="render"?"true":void 0})});QT.displayName="Form";function ej(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q3(e){let t=Z.useContext(qu);return Br(t,ej(e)),t}function tj(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=H3(),c=cl(),u=id(e,{relative:a});return Z.useCallback(f=>{if(FT(f,t)){f.preventDefault();let p=r!==void 0?r:Ih(c)===Ih(u);o(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,o,u,r,n,t,e,i,a,s])}var rj=0,nj=()=>`__${String(++rj)}__`;function ij(){let{router:e}=Q3("useSubmit"),{basename:t}=Z.useContext(Za),r=ST();return Z.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:c,body:u}=RT(n,t);if(i.navigate===!1){let f=i.fetcherKey||nj();await e.fetch(f,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function aj(e,{relative:t}={}){let{basename:r}=Z.useContext(Za),n=Z.useContext(Qa);Br(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...id(e||".",{relative:t})},s=cl();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Gs([r,a.pathname])),Ih(a)}function sj(e,{relative:t}={}){let r=Z.useContext(z3);Br(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Q3("useViewTransitionState"),i=id(e,{relative:t});if(!r.isTransitioning)return!1;let a=to(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=to(r.nextLocation.pathname,n)||r.nextLocation.pathname;return N1(i.pathname,s)!=null||N1(i.pathname,a)!=null}const oj="modulepreload",lj=function(e){return"/"+e},V5={},Yo=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=lj(c),c in V5)return;V5[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":oj,u||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},cj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Wu);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class sv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uj extends sv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G5 extends sv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class K5 extends sv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var E2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(E2||(E2={}));var fj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class hj{constructor(t,{headers:r={},customFetch:n,region:i=E2.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=cj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fj(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(o["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(o["Content-Type"]="application/json",f=JSON.stringify(s)));const p=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:f}).catch(x=>{throw new uj(x)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new G5(p);if(!p.ok)throw new K5(p);let h=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield p.json():h==="application/octet-stream"?v=yield p.blob():h==="text/event-stream"?v=p:h==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof K5||i instanceof G5?i.context:void 0}}})}}var ji={},ov={},hp={},ad={},dp={},pp={},dj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lu=dj();const pj=Lu.fetch,eS=Lu.fetch.bind(Lu),tS=Lu.Headers,mj=Lu.Request,gj=Lu.Response,Wu=Object.freeze(Object.defineProperty({__proto__:null,Headers:tS,Request:mj,Response:gj,default:eS,fetch:pj},Symbol.toStringTag,{value:"Module"})),xj=cE(Wu);var mp={};Object.defineProperty(mp,"__esModule",{value:!0});let vj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};mp.default=vj;var rS=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pp,"__esModule",{value:!0});const yj=rS(xj),_j=rS(mp);let wj=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,c,u;let f=null,p=null,m=null,h=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?p=w:p=JSON.parse(w))}const S=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");S&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,h=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const S=await a.text();try{f=JSON.parse(S),Array.isArray(f)&&a.status===404&&(p=[],f=null,h=200,v="OK")}catch{a.status===404&&S===""?(h=204,v="No Content"):f={message:S}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,h=200,v="OK"),f&&this.shouldThrowOnError)throw new _j.default(f)}return{error:f,data:p,count:m,status:h,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};pp.default=wj;var bj=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dp,"__esModule",{value:!0});const Sj=bj(pp);let Nj=class extends Sj.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};dp.default=Nj;var Aj=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const Ej=Aj(dp);let kj=class extends Ej.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ad.default=kj;var Tj=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hp,"__esModule",{value:!0});const If=Tj(ad);let jj=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new If.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new If.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new If.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new If.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new If.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};hp.default=jj;var nS=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ov,"__esModule",{value:!0});const Cj=nS(hp),Lj=nS(ad);let Pj=class iS{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Cj.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(o="POST",u=r);const f=new Headers(this.headers);return a&&f.set("Prefer",`count=${a}`),new Lj.default({method:o,url:c,headers:f,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ov.default=Pj;var Vu=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});ji.PostgrestError=ji.PostgrestBuilder=ji.PostgrestTransformBuilder=ji.PostgrestFilterBuilder=ji.PostgrestQueryBuilder=ji.PostgrestClient=void 0;const aS=Vu(ov);ji.PostgrestClient=aS.default;const sS=Vu(hp);ji.PostgrestQueryBuilder=sS.default;const oS=Vu(ad);ji.PostgrestFilterBuilder=oS.default;const lS=Vu(dp);ji.PostgrestTransformBuilder=lS.default;const cS=Vu(pp);ji.PostgrestBuilder=cS.default;const uS=Vu(mp);ji.PostgrestError=uS.default;var Fj=ji.default={PostgrestClient:aS.default,PostgrestQueryBuilder:sS.default,PostgrestFilterBuilder:oS.default,PostgrestTransformBuilder:lS.default,PostgrestBuilder:cS.default,PostgrestError:uS.default};const{PostgrestClient:Oj,PostgrestQueryBuilder:bq,PostgrestFilterBuilder:Sq,PostgrestTransformBuilder:Nq,PostgrestBuilder:Aq,PostgrestError:Eq}=Fj;class Ij{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Rj="2.15.5",Dj=`realtime-js/${Rj}`,Mj="1.0.0",k2=1e4,Bj=1e3,Uj=100;var ih;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ih||(ih={}));var Sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sn||(Sn={}));var $a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($a||($a={}));var T2;(function(e){e.websocket="websocket"})(T2||(T2={}));var Ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ml||(Ml={}));class zj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class fS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tr||(Tr={}));const X5=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=$j(s,e,t,i),a),{})},$j=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?hS(a,s):j2(s)},hS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Vj(t,r)}switch(e){case Tr.bool:return qj(t);case Tr.float4:case Tr.float8:case Tr.int2:case Tr.int4:case Tr.int8:case Tr.numeric:case Tr.oid:return Hj(t);case Tr.json:case Tr.jsonb:return Wj(t);case Tr.timestamp:return Gj(t);case Tr.abstime:case Tr.date:case Tr.daterange:case Tr.int4range:case Tr.int8range:case Tr.money:case Tr.reltime:case Tr.text:case Tr.time:case Tr.timestamptz:case Tr.timetz:case Tr.tsrange:case Tr.tstzrange:return j2(t);default:return j2(t)}},j2=e=>e,qj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>hS(t,o))}return e},Gj=e=>typeof e=="string"?e.replace(" ","T"):e,dS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rm{constructor(t,r,n={},i=k2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y5||(Y5={}));class ah{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=ah.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ah.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,f)=>{s[u]||(c[u]=f)}),this.map(s,(u,f)=>{const p=a[u];if(p){const m=f.map(S=>S.presence_ref),h=p.map(S=>S.presence_ref),v=f.filter(S=>h.indexOf(S.presence_ref)<0),x=p.filter(S=>m.indexOf(S.presence_ref)<0);v.length>0&&(o[u]=v),x.length>0&&(c[u]=x)}else o[u]=f}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const f=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),f.length>0){const p=t[o].map(h=>h.presence_ref),m=f.filter(h=>p.indexOf(h.presence_ref)<0);t[o].unshift(...m)}n(o,f,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const f=c.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(J5||(J5={}));var sh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sh||(sh={}));var Us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Us||(Us={}));class lv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rm(this,$a.join,this.params,this.timeout),this.rejoinTimer=new fS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($a.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ah(this),this.broadcastEndpointURL=dS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[sh.PRESENCE]&&this.bindings[sh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},m={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Us.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Us.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){t==null||t(Us.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<S;w++){const _=x[w],{filter:{event:A,schema:H,table:V,filter:C}}=_,L=h&&h[w];if(L&&L.event===A&&L.schema===H&&L.table===V&&L.filter===C)y.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=Sn.errored,t==null||t(Us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Us.SUBSCRIBED);return}}).receive("error",h=>{this.state=Sn.errored,t==null||t(Us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Sn.joined&&t===sh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($a.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Rm(this,$a.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:f}=$a;if(n&&[o,c,u,f].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,x,S;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(x=h.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(h=>h.callback(m,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var v,x,S,y,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const A=h.id,H=(v=h.filter)===null||v===void 0?void 0:v.event;return A&&((x=r.ids)===null||x===void 0?void 0:x.includes(A))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const A=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:S,commit_timestamp:y,type:w,errors:_}=v;m=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&lv.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($a.close,{},t)}_onError(t){this._on($a.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=X5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=X5(t.columns,t.old_record)),r}}const Dm=()=>{},u0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kj=[1e3,2e3,5e3,1e4],Xj=1e4,Yj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jj{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k2,this.transport=null,this.heartbeatIntervalMs=u0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dm,this.ref=0,this.reconnectTimer=null,this.logger=Dm,this.conn=null,this.sendBuffer=[],this.serializer=new zj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Yo(async()=>{const{default:o}=await Promise.resolve().then(()=>Wu);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${T2.websocket}`,this.httpEndpoint=dS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ij.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ih.connecting:return Ml.Connecting;case ih.open:return Ml.Open;case ih.closing:return Ml.Closing;default:return Ml.Closed}}isConnected(){return this.connectionState()===Ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new lv(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Bj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},u0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($a.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Yj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Dj};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push($a.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},u0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:k2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:u0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Dm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>Kj[p-1]||Xj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,m)=>m(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class cv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function An(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zj extends cv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class C2 extends cv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Qj=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const pS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eC=()=>Qj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yo(()=>Promise.resolve().then(()=>Wu),void 0)).Response:Response}),L2=e=>{if(Array.isArray(e))return e.map(r=>L2(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=L2(n)}),t},tC=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var dc=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rC=(e,t,r)=>dc(void 0,void 0,void 0,function*(){const n=yield eC();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new Zj(Mm(i),a,s))}).catch(i=>{t(new C2(Mm(i),i))}):t(new C2(Mm(e),e))}),nC=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(tC(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function sd(e,t,r,n,i,a){return dc(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,nC(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>rC(c,o,n))})})}function A1(e,t,r,n){return dc(this,void 0,void 0,function*(){return sd(e,"GET",t,r,n)})}function ps(e,t,r,n,i){return dc(this,void 0,void 0,function*(){return sd(e,"POST",t,n,i,r)})}function P2(e,t,r,n,i){return dc(this,void 0,void 0,function*(){return sd(e,"PUT",t,n,i,r)})}function iC(e,t,r,n){return dc(this,void 0,void 0,function*(){return sd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mS(e,t,r,n,i){return dc(this,void 0,void 0,function*(){return sd(e,"DELETE",t,n,i,r)})}var pi=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const aC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sC{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=pS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return pi(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Z5),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=yield(t=="PUT"?P2:ps)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(An(a))return{data:null,error:a};throw a}})}upload(t,r,n){return pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return pi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Z5.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield P2(this.fetch,o.toString(),c,{headers:f});return{data:{path:a,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(An(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return pi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ps(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new cv("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}update(t,r,n){return pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pi(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}copy(t,r,n){return pi(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return pi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ps(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return pi(this,void 0,void 0,function*(){try{const i=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}download(t,r){return pi(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield A1(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(An(o))return{data:null,error:o};throw o}})}info(t){return pi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield A1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:L2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}exists(t){return pi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n)&&n instanceof C2){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return pi(this,void 0,void 0,function*(){try{return{data:yield mS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}list(t,r,n){return pi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aC),r),{prefix:t||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(An(i))return{data:null,error:i};throw i}})}listV2(t,r){return pi(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ps(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const oC="2.12.1",lC={"X-Client-Info":`storage-js/${oC}`};var Lc=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class cC{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},lC),r),this.fetch=pS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Lc(this,void 0,void 0,function*(){try{return{data:yield A1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(An(t))return{data:null,error:t};throw t}})}getBucket(t){return Lc(this,void 0,void 0,function*(){try{return{data:yield A1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Lc(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Lc(this,void 0,void 0,function*(){try{return{data:yield P2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Lc(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Lc(this,void 0,void 0,function*(){try{return{data:yield mS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}})}}class uC extends cC{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new sC(this.url,this.headers,t,this.fetch)}}const fC="2.57.4";let Hf="";typeof Deno<"u"?Hf="deno":typeof document<"u"?Hf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hf="react-native":Hf="node";const hC={"X-Client-Info":`supabase-js-${Hf}/${fC}`},dC={headers:hC},pC={schema:"public"},mC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gC={};var xC=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const vC=e=>{let t;return e?t=e:typeof fetch>"u"?t=eS:t=fetch,(...r)=>t(...r)},yC=()=>typeof Headers>"u"?tS:Headers,_C=(e,t,r)=>{const n=vC(r),i=yC();return(a,s)=>xC(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var wC=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function bC(e){return e.endsWith("/")?e:e+"/"}function SC(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:f,global:p}=t,m={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wC(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function NC(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bC(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gS="2.71.1",Hc=30*1e3,F2=3,Bm=F2*Hc,AC="http://localhost:9999",EC="supabase.auth.token",kC={"X-Client-Info":`gotrue-js/${gS}`},O2="X-Supabase-Api-Version",xS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jC=10*60*1e3;class uv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CC extends uv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LC(e){return Bt(e)&&e.name==="AuthApiError"}class vS extends uv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ul extends uv{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class jo extends ul{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PC(e){return Bt(e)&&e.name==="AuthSessionMissingError"}class f0 extends ul{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class h0 extends ul{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class d0 extends ul{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FC(e){return Bt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Q5 extends ul{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I2 extends ul{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Um(e){return Bt(e)&&e.name==="AuthRetryableFetchError"}class e_ extends ul{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class R2 extends ul{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const E1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t_=` 	
\r=`.split(""),OC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t_.length;t+=1)e[t_[t].charCodeAt(0)]=-2;for(let t=0;t<E1.length;t+=1)e[E1[t].charCodeAt(0)]=t;return e})();function r_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(E1[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(E1[n]),t.queuedBits-=6}}function yS(e,t,r){const n=OC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function n_(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{DC(s,n,r)};for(let s=0;s<e.length;s+=1)yS(e.charCodeAt(s),i,a);return t.join("")}function IC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}IC(n,t)}}function DC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function MC(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)yS(e.charCodeAt(i),r,n);return new Uint8Array(t)}function BC(e){const t=[];return RC(e,r=>t.push(r)),new Uint8Array(t)}function UC(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>r_(i,r,n)),r_(null,r,n),t.join("")}function zC(e){return Math.round(Date.now()/1e3)+e}function $C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ba=()=>typeof window<"u"&&typeof document<"u",Pl={tested:!1,writable:!1},_S=()=>{if(!Ba())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pl.tested)return Pl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pl.tested=!0,Pl.writable=!0}catch{Pl.tested=!0,Pl.writable=!1}return Pl.writable};function qC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const wS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Yo(async()=>{const{default:n}=await Promise.resolve().then(()=>Wu);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Fl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ao=async(e,t)=>{await e.removeItem(t)};class gp{constructor(){this.promise=new gp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gp.promiseConstructor=Promise;function zm(e){const t=e.split(".");if(t.length!==3)throw new R2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TC.test(t[n]))throw new R2("JWT not in base64url format");return{header:JSON.parse(n_(t[0])),payload:JSON.parse(n_(t[1])),signature:MC(t[2]),raw:{header:t[0],payload:t[1]}}}async function WC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VC(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function GC(e){return("0"+e.toString(16)).substr(-2)}function KC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,GC).join("")}async function XC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function YC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pc(e,t,r=!1){const n=KC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Wc(e,`${t}-code-verifier`,i);const a=await YC(n);return[a,n===a?"plain":"s256"]}const JC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZC(e){const t=e.headers.get(O2);if(!t||!t.match(JC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function e7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fc(e){if(!t7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i_(e){return JSON.parse(JSON.stringify(e))}var r7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n7=[502,503,504];async function a_(e){var t;if(!HC(e))throw new I2(Rl(e),0);if(n7.includes(e.status))throw new I2(Rl(e),e.status);let r;try{r=await e.json()}catch(a){throw new vS(Rl(a),a)}let n;const i=ZC(e);if(i&&i.getTime()>=xS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new e_(Rl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new e_(Rl(r),e.status,r.weak_password.reasons);throw new CC(Rl(r),e.status||500,n)}const i7=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ht(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[O2]||(a[O2]=xS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await a7(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function a7(e,t,r,n,i,a){const s=i7(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new I2(Rl(c),0)}if(o.ok||await a_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await a_(c)}}function Ms(e){var t;let r=null;c7(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function s_(e){const t=Ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Oo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s7(e){return{data:e,error:null}}function o7(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=r7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function l7(e){return e}function c7(e){return e.access_token&&e.refresh_token&&e.expires_in}const qm=["global","local","others"];var u7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class f7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=qm[0]){if(qm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qm.join(", ")}`);try{return await Ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=u7(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:o7,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oo})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:l7});if(f.error)throw f.error;const p=await f.json(),m=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Bt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fc(t);try{return await Ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oo})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fc(t);try{return await Ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Oo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fc(t);try{return await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oo})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fc(t.userId);try{const{data:r,error:n}=await Ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fc(t.userId),Fc(t.id);try{return{data:await Ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}function o_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function h7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oc={debug:!!(globalThis&&_S()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class d7 extends bS{}async function p7(e,t,r){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new d7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}h7();const m7={url:AC,storageKey:EC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function l_(e,t,r){return await r()}const Ic={};class Rh{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rh.nextInstanceID,Rh.nextInstanceID+=1,this.instanceID>0&&Ba()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},m7),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new f7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wS(i.fetch),this.lock=i.lock||l_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ba()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=p7:this.lock=l_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_S()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=o_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=o_(this.memoryStorage)),Ba()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ic[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ic[this.storageKey]=Object.assign(Object.assign({},Ic[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ic[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ic[this.storageKey]=Object.assign(Object.assign({},Ic[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ba()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FC(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Bt(r)?{error:r}:{error:new vS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ms}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:f,password:p,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Pc(this.storage,this.storageKey)),a=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:Ms})}else if("phone"in t){const{phone:f,password:p,options:m}=t;a=await Ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ms})}else throw new h0("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s_})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s_})}else throw new h0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new f0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,c,u,f,p,m,h;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:S,wallet:y,statement:w,options:_}=t;let A;if(Ba())if(typeof y=="object")A=y;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))A=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=y}const H=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const V=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),w?{statement:w}:null));let C;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")C=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)C=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${H.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const V=await A.signMessage(new TextEncoder().encode(v),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=V}}try{const{data:S,error:y}=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:UC(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ms});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new f0}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(Bt(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const r=await Fl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ms});if(await Ao(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new f0}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Bt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await Ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ms}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new f0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Pc(this.storage,this.storageKey));const{error:p}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:f}=await Ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new h0("You must provide either an email or phone number.")}catch(o){if(Bt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ms});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Pc(this.storage,this.storageKey)),await Ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:s7})}catch(a){if(Bt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jo;const{error:i}=await Ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await Ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new h0("You must provide either an email or phone number and a type")}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Fl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=$m()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oo}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await Ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Oo})})}catch(r){if(Bt(r))return PC(r)&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new jo;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Pc(this.storage,this.storageKey));const{data:u,error:f}=await Ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Oo});if(f)throw f;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jo;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=zm(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Bt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jo;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ba())throw new d0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new d0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Q5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new d0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Q5("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new d0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let m=f+p;c&&(m=parseInt(c));const h=m-f;h*1e3<=Hc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`);const v=m-p;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:m,refresh_token:s,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Bt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(LC(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ao(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$C(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Pc(this.storage,this.storageKey,!0));try{return await Ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Bt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,f;const{data:p,error:m}=a;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ht(this.fetch,"GET",h,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ba()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Bt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VC(async i=>(i>0&&await WC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ms})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Um(a)&&Date.now()+s-n<Hc})}catch(n){if(this._debug(r,"error",n),Bt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ba()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Fl(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Fl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Wc(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:$m()}else if(i&&!i.user&&!i.user){const s=await Fl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ao(this.storage,this.storageKey+"-user"),await Wc(this.storage,this.storageKey,i)):i.user=$m()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Bm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Um(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gp;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new jo;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Bt(a)){const s={session:null,error:a};return Um(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=i_(i);await Wc(this.storage,this.storageKey,a)}else{const i=i_(r);await Wc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ao(this.storage,this.storageKey),await Ao(this.storage,this.storageKey+"-code-verifier"),await Ao(this.storage,this.storageKey+"-user"),this.userStorage&&await Ao(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ba()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Hc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hc}ms, refresh threshold is ${F2} ticks`),i<=F2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ba()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Pc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ht(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await Ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await Ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=zm(i.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+jC>i)return n;const{data:a,error:s}=await Ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=zm(n);r!=null&&r.allowExpired||QC(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const f=e7(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,s,BC(`${o}.${c}`)))throw new R2("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}}Rh.nextInstanceID=0;const g7=Rh;class x7 extends g7{constructor(t){super(t)}}var v7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?a(f.value):i(f.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class y7{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=NC(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:pC,realtime:gC,auth:Object.assign(Object.assign({},mC),{storageKey:c}),global:dC},f=SC(n??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=_C(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Oj(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new uC(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new hj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return v7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:c,debug:u},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x7({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Jj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _7=(e,t,r)=>new y7(e,t,r);function w7(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}w7()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b7="https://pidnsxkesdayidlkmhva.supabase.co",S7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpZG5zeGtlc2RheWlkbGttaHZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1ODc3MDUsImV4cCI6MjA3NTE2MzcwNX0.I4Jbin2SdNxSjc8mxWCPCZrKUHd5VaiCieixzpfzg48",Re=_7(b7,S7,{auth:{persistSession:!0,autoRefreshToken:!0}}),N7=[{id:"1",email:"admin@school.com",role:"admin",full_name:"Admin User",phone:"+1234567890",status:"active",department:"Administration",designation:"Principal",joining_date:"2020-01-01"},{id:"2",email:"teacher@school.com",role:"teacher",full_name:"John Teacher",phone:"+1234567891",status:"active",department:"Academic",designation:"Senior Teacher",joining_date:"2021-01-01"},{id:"3",email:"student@school.com",role:"student",full_name:"Jane Student",phone:"+1234567892",status:"active",department:"Academic",joining_date:"2023-01-01"},{id:"4",email:"manager@school.com",role:"manager",full_name:"Manager User",phone:"+1234567893",status:"active",department:"Management",designation:"Operations Manager",joining_date:"2020-06-01"}];function A7(e,t){return new Promise(r=>{setTimeout(()=>{const n=N7.find(a=>a.email===e);if(!n){r({user:null,error:"User not found"});return}const i=e.split("@")[0]+"123";if(t!==i){r({user:null,error:"Invalid password"});return}r({user:n,error:null})},1e3)})}function E7(){return new Promise(e=>{setTimeout(()=>{e()},500)})}const SS=Z.createContext(void 0);function k7({children:e}){const[t,r]=Z.useState(null),[n,i]=Z.useState(null),[a,s]=Z.useState(!0),[o,c]=Z.useState(!1);Z.useEffect(()=>{Re.auth.getSession().then(({data:{session:y}})=>{r((y==null?void 0:y.user)??null),y!=null&&y.user?u(y.user.id):s(!1)});const{data:{subscription:S}}=Re.auth.onAuthStateChange((y,w)=>{(async()=>(r((w==null?void 0:w.user)??null),w!=null&&w.user?await u(w.user.id):(i(null),s(!1))))()});return()=>S.unsubscribe()},[]);const u=async S=>{try{const{data:y,error:w}=await Re.from("user_profiles").select("*").eq("id",S).maybeSingle();if(w)throw w;i(y)}catch(y){console.error("Error loading profile:",y),i(null)}finally{s(!1)}},x={user:t,profile:n,loading:a,signIn:async(S,y)=>{try{if(o){const{user:w,error:_}=await A7(S,y);return _?{error:new Error(_)}:(w&&(r({id:w.id,email:w.email}),i(w)),{error:null})}else{const{error:w}=await Re.auth.signInWithPassword({email:S,password:y});return{error:w}}}catch(w){return{error:w}}},signOut:async()=>{o?(await E7(),r(null),i(null)):(await Re.auth.signOut(),i(null))},createUser:async S=>{if((n==null?void 0:n.role)!=="admin")throw new Error("Only administrators can create new users");const{data:y,error:w}=await Re.auth.admin.createUser({email:S.email,password:S.password,email_confirm:!0});if(w)throw w;const{error:_}=await Re.from("user_profiles").insert({id:y.user.id,email:S.email,full_name:S.fullName,phone:S.phone||null,role:S.role});if(_)throw await Re.auth.admin.deleteUser(y.user.id),_},updateProfile:async S=>{if(!t)throw new Error("No user logged in");const{error:y}=await Re.from("user_profiles").update(S).eq("id",t.id);if(y)throw y;await u(t.id)},hasPermission:S=>{var w,_;if(!n)return!1;if(n.role==="admin")return!0;const y={admin:["manage_users","manage_students","manage_teachers","manage_finances","manage_attendance","manage_grades","manage_inventory","view_reports","manage_curriculum","manage_exams","manage_library"],teacher:["manage_grades","manage_attendance","view_reports","manage_curriculum"],student:["view_reports"],manager:["manage_inventory","view_reports"],parent:["view_reports"],accountant:["manage_finances","view_reports"],librarian:["manage_library","view_reports"]};return((w=n.permissions)==null?void 0:w.includes(S))||((_=y[n.role])==null?void 0:_.includes(S))||!1},isAdmin:(n==null?void 0:n.role)==="admin",isTeacher:(n==null?void 0:n.role)==="teacher",isStudent:(n==null?void 0:n.role)==="student",isManager:(n==null?void 0:n.role)==="manager",isParent:(n==null?void 0:n.role)==="parent",isAccountant:(n==null?void 0:n.role)==="accountant",isLibrarian:(n==null?void 0:n.role)==="librarian"};return l.jsx(SS.Provider,{value:x,children:e})}function Ar(){const e=Z.useContext(SS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Zt=(e,t)=>{const r=Z.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...u},f)=>Z.createElement("svg",{ref:f,...T7,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${j7(e)}`,o].join(" "),...u},[...t.map(([p,m])=>Z.createElement(p,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Zt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Zt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Zt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Zt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Zt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Zt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=Zt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Zt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Zt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=Zt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Zt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=Zt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Zt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=Zt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=Zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Zt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Zt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),q7=[{id:"dashboard",label:"Dashboard",icon:l.jsx(O7,{className:"w-5 h-5"}),roles:["admin","teacher","student","parent","accountant","librarian"]},{id:"students",label:"Students",icon:l.jsx(ic,{className:"w-5 h-5"}),roles:["admin","teacher"]},{id:"teachers",label:"Teachers",icon:l.jsx(Fu,{className:"w-5 h-5"}),roles:["admin"]},{id:"academics",label:"Academics",icon:l.jsx(oh,{className:"w-5 h-5"}),roles:["admin","teacher"]},{id:"results",label:"Results",icon:l.jsx(k1,{className:"w-5 h-5"}),roles:["admin","teacher","student","parent"]},{id:"attendance",label:"Attendance",icon:l.jsx(Yl,{className:"w-5 h-5"}),roles:["admin","teacher","student"]},{id:"inventory",label:"Inventory",icon:l.jsx(AS,{className:"w-5 h-5"}),roles:["admin","librarian"]},{id:"certificates",label:"Certificates",icon:l.jsx(k1,{className:"w-5 h-5"}),roles:["admin","student"]},{id:"finances",label:"Finances",icon:l.jsx(Pu,{className:"w-5 h-5"}),roles:["admin","accountant"]},{id:"announcements",label:"Announcements",icon:l.jsx(Pu,{className:"w-5 h-5"}),roles:["admin","teacher","student","parent"]},{id:"settings",label:"Settings",icon:l.jsx(D7,{className:"w-5 h-5"}),roles:["admin"]}];function dv({currentView:e,onNavigate:t}){const{profile:r,signOut:n}=Ar(),i=q7.filter(a=>r!=null&&r.role?a.roles.includes(r.role):!1);return l.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col h-screen",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"GG-SMS"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ghani Grammar School"})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:l.jsx("ul",{className:"space-y-2",children:i.map(a=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors ${e===a.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.icon,l.jsx("span",{className:"font-medium",children:a.label})]})},a.id))})}),l.jsxs("div",{className:"p-4 border-t border-gray-200",children:[l.jsxs("div",{className:"mb-3 px-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:r==null?void 0:r.full_name}),l.jsx("p",{className:"text-xs text-gray-600 capitalize",children:r==null?void 0:r.role})]}),l.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(I7,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}function pv(){var t;const{profile:e}=Ar();return l.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex-1 max-w-xl",children:l.jsxs("div",{className:"relative",children:[l.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),l.jsxs("div",{className:"flex items-center gap-4 ml-6",children:[l.jsxs("button",{className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[l.jsx(Pu,{className:"w-6 h-6"}),l.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),l.jsx("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200",children:l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-blue-600 font-semibold",children:(t=e==null?void 0:e.full_name)==null?void 0:t.charAt(0).toUpperCase()})})})]})]})})}function Hm({children:e,initialView:t="dashboard"}){const[r,n]=Z.useState(t);return l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx(dv,{currentView:r,onNavigate:n}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(pv,{}),l.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e(r)})]})]})}const H7=[{title:"Overview",path:"/admin",icon:"dashboard"},{title:"User Management",path:"/admin/users",icon:"users"},{title:"Students",path:"/admin/students",icon:"user-graduate"},{title:"Teachers",path:"/admin/teachers",icon:"chalkboard-teacher"},{title:"Classes",path:"/admin/classes",icon:"school"},{title:"Attendance",path:"/admin/attendance",icon:"calendar-check"},{title:"Finance",path:"/admin/finance",icon:"money-bill"},{title:"Inventory",path:"/admin/inventory",icon:"boxes"},{title:"Reports",path:"/admin/reports",icon:"chart-bar"},{title:"Settings",path:"/admin/settings",icon:"cog"}];function W7(){const{isAdmin:e}=Ar();return e?l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(dv,{menuItems:H7}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(pv,{}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:l.jsx(G3,{})})]})]}):l.jsx(nh,{to:"/dashboard",replace:!0})}const V7=[{title:"Dashboard",path:"/manager",icon:"dashboard"},{title:"Inventory",path:"/manager/inventory",icon:"boxes"},{title:"Distributions",path:"/manager/distributions",icon:"package"},{title:"Transactions",path:"/manager/transactions",icon:"exchange"},{title:"Reports",path:"/manager/reports",icon:"chart-bar"},{title:"Alerts",path:"/manager/alerts",icon:"bell"},{title:"Settings",path:"/manager/settings",icon:"cog"}];function G7(){const{profile:e}=Ar();return(e==null?void 0:e.role)!=="manager"?l.jsx(nh,{to:"/dashboard",replace:!0}):l.jsxs("div",{className:"flex h-screen bg-gray-100",children:[l.jsx(dv,{menuItems:V7}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsx(pv,{}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:l.jsx(G3,{})})]})]})}function Qe({variant:e="primary",size:t="md",className:r="",children:n,...i}){const a="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",s={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return l.jsx("button",{className:`${a} ${s[e]} ${o[t]} ${r}`,...i,children:n})}const it=AE.forwardRef(({label:e,error:t,className:r="",...n},i)=>l.jsxs("div",{className:"w-full",children:[e&&l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),l.jsx("input",{ref:i,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t?"border-red-500":""} ${r}`,...n}),t&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));it.displayName="Input";function K7(){const[e,t]=Z.useState(""),[r,n]=Z.useState(""),[i,a]=Z.useState(""),[s,o]=Z.useState(!1),{signIn:c}=Ar(),u=async f=>{f.preventDefault(),a(""),o(!0);const{error:p}=await c(e,r);p&&(a(p.message||"Invalid email or password"),o(!1))};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:l.jsx(Fu,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ghani Grammar School"}),l.jsx("p",{className:"text-gray-600",children:"Management System"})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:i})}),l.jsx(it,{label:"Email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"Enter your email",required:!0}),l.jsx(it,{label:"Password",type:"password",value:r,onChange:f=>n(f.target.value),placeholder:"Enter your password",required:!0}),l.jsx(Qe,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ghani Welfare Foundation"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Demo Accounts:"}),l.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[l.jsx("button",{type:"button",onClick:()=>{t("admin@school.com"),n("admin123")},className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Admin"}),l.jsx("button",{type:"button",onClick:()=>{t("teacher@school.com"),n("teacher123")},className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200",children:"Teacher"}),l.jsx("button",{type:"button",onClick:()=>{t("student@school.com"),n("student123")},className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded hover:bg-purple-200",children:"Student"})]})]})]})]})})})}function Ke({children:e,className:t="",title:r,action:n}){return l.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${t}`,children:[(r||n)&&l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r&&l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),n&&l.jsx("div",{children:n})]}),l.jsx("div",{className:"p-6",children:e})]})}function X7(){const[e,t]=Z.useState([]),[r,n]=Z.useState([]),i=v=>{switch(v){case"urgent":return{bgColor:"bg-red-100",icon:l.jsx(Pu,{className:"w-5 h-5 text-red-600"})};case"event":return{bgColor:"bg-amber-100",icon:l.jsx(Yl,{className:"w-5 h-5 text-amber-600"})};case"academic":return{bgColor:"bg-blue-100",icon:l.jsx(oh,{className:"w-5 h-5 text-blue-600"})};case"holiday":return{bgColor:"bg-green-100",icon:l.jsx(B7,{className:"w-5 h-5 text-green-600"})};default:return{bgColor:"bg-gray-100",icon:l.jsx(R7,{className:"w-5 h-5 text-gray-600"})}}},a=async()=>{try{const{data:v}=await Re.from("announcements").select("*").eq("is_active",!0).order("publish_date",{ascending:!1}).limit(5);v&&t(v)}catch(v){console.error("Error loading announcements:",v)}},s=async()=>{try{const v=new Date().toISOString().split("T")[0],[x,S]=await Promise.all([Re.from("students").select("first_name, last_name, created_at").gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(3),Re.from("results").select("student_id, created_at").gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(3)]),y=[];x.data&&y.push(...x.data.map(w=>({title:`New student enrolled: ${w.first_name} ${w.last_name}`,time:new Date(w.created_at).toLocaleDateString(),icon:l.jsx(ic,{className:"w-5 h-5 text-blue-600"}),bgColor:"bg-blue-100",iconColor:"text-blue-600"}))),S.data&&y.push(...S.data.map(w=>({title:"Result published",time:new Date(w.created_at).toLocaleDateString(),icon:l.jsx(oh,{className:"w-5 h-5 text-green-600"}),bgColor:"bg-green-100",iconColor:"text-green-600"}))),n(y.sort((w,_)=>new Date(_.time).getTime()-new Date(w.time).getTime()).slice(0,5))}catch(v){console.error("Error loading activities:",v)}};Z.useEffect(()=>{a(),s()},[]);const{profile:o}=Ar(),[c,u]=Z.useState({totalStudents:0,totalTeachers:0,totalClasses:0,inventoryItems:0,todayAttendance:{students:0,teachers:0,percentage:0},lowStock:0}),[f,p]=Z.useState(!0);Z.useEffect(()=>{m()},[o]);const m=async()=>{try{const v=new Date().toISOString().split("T")[0],[x,S,y,w,_,A,H]=await Promise.all([Re.from("students").select("id",{count:"exact",head:!0}).eq("status","active"),Re.from("teachers").select("id",{count:"exact",head:!0}).eq("status","active"),Re.from("classes").select("id",{count:"exact",head:!0}).eq("is_active",!0),Re.from("inventory_items").select("id",{count:"exact",head:!0}),Re.from("student_attendance").select("id",{count:"exact",head:!0}).eq("attendance_date",v).eq("status","present"),Re.from("teacher_attendance").select("id",{count:"exact",head:!0}).eq("attendance_date",v).eq("status","present"),Re.from("inventory_items").select("id",{count:"exact",head:!0}).filter("current_stock","lt","minimum_stock")]),V=x.count||0,C=S.count||0,L=_.count||0,j=A.count||0,M=V>0?Math.round(L/V*100):0;u({totalStudents:V,totalTeachers:C,totalClasses:y.count||0,inventoryItems:w.count||0,todayAttendance:{students:L,teachers:j,percentage:M},lowStock:H.count||0})}catch(v){console.error("Error loading stats:",v)}finally{p(!1)}},h=[{title:"Total Students",value:c.totalStudents,icon:l.jsx(ic,{className:"w-6 h-6"}),bgColor:"bg-blue-50",iconColor:"text-blue-600",change:`${c.todayAttendance.percentage}% present today`},{title:"Total Teachers",value:c.totalTeachers,icon:l.jsx(Fu,{className:"w-6 h-6"}),bgColor:"bg-green-50",iconColor:"text-green-600",change:`${c.todayAttendance.teachers} present today`},{title:"Active Classes",value:c.totalClasses,icon:l.jsx(oh,{className:"w-6 h-6"}),bgColor:"bg-amber-50",iconColor:"text-amber-600"},{title:"Inventory Items",value:c.inventoryItems,icon:l.jsx(AS,{className:"w-6 h-6"}),bgColor:"bg-purple-50",iconColor:"text-purple-600",change:c.lowStock>0?`${c.lowStock} items low on stock`:void 0}];return f?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",o==null?void 0:o.full_name]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Here's what's happening with your school today"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((v,x)=>l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:v.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.value})]}),l.jsx("div",{className:`${v.bgColor} p-3 rounded-full`,children:l.jsx("span",{className:v.iconColor,children:v.icon})})]}),v.change&&l.jsx("p",{className:"text-sm text-gray-600",children:v.change})]})},x))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Ke,{title:"Recent Activity",children:l.jsxs("div",{className:"space-y-4",children:[r.map((v,x)=>l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`${v.bgColor} p-2 rounded-lg`,children:l.jsx("span",{className:v.iconColor,children:v.icon})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.time})]})]},x)),r.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent activity"})]})}),l.jsx(Ke,{title:"Announcements & Events",children:l.jsxs("div",{className:"space-y-4",children:[e.map(v=>l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:`${i(v.announcement_type).bgColor} p-2 rounded-lg`,children:l.jsx("span",{className:"text-gray-600",children:i(v.announcement_type).icon})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.content}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.expiry_date?`Until ${new Date(v.expiry_date).toLocaleDateString()}`:new Date(v.publish_date).toLocaleDateString()})]})]},v.id)),e.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No announcements"})]})})]})]})}function Gn({headers:e,children:t,className:r=""}){return l.jsx("div",{className:`overflow-x-auto ${r}`,children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsx("tr",{children:e.map((n,i)=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n},i))})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t})]})})}function Ur({children:e,onClick:t}){return l.jsx("tr",{className:`hover:bg-gray-50 transition-colors ${t?"cursor-pointer":""}`,onClick:t,children:e})}function De({children:e,className:t="",colSpan:r}){return l.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-900 ${t}`,colSpan:r,children:e})}function wi({isOpen:e,onClose:t,title:r,children:n,size:i="md"}){if(Z.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),!e)return null;const a={sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),l.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl ${a[i]} w-full max-h-[90vh] flex flex-col`,children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx($7,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"px-6 py-4 overflow-y-auto",children:n})]})]})})}function Y7({studentId:e}){const[t,r]=Z.useState([]),[n,i]=Z.useState(!1),[a,s]=Z.useState(null),[o,c]=Z.useState(!0);Z.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:p,error:m}=await Re.from("parent_contacts").select("*").eq("student_id",e).order("is_primary",{ascending:!1});if(m)throw m;r(p||[])}catch(p){console.error("Error loading contacts:",p)}finally{c(!1)}},f=async p=>{if(confirm("Are you sure you want to delete this contact?"))try{const{error:m}=await Re.from("parent_contacts").delete().eq("id",p);if(m)throw m;await u()}catch(m){console.error("Error deleting contact:",m),alert("Failed to delete contact")}};return l.jsxs(Ke,{title:"Parent/Guardian Contacts",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs(Qe,{onClick:()=>{s(null),i(!0)},children:[l.jsx(Ou,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),l.jsx(Gn,{headers:["Primary","Name","Relation","Contact Info","Actions"],children:t.length===0?l.jsx(Ur,{children:l.jsx(De,{colSpan:5,className:"text-center text-gray-500",children:"No contacts added"})}):t.map(p=>l.jsxs(Ur,{children:[l.jsx(De,{children:p.is_primary&&l.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full",children:"Primary"})}),l.jsx(De,{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:p.full_name}),p.occupation&&l.jsx("p",{className:"text-sm text-gray-500",children:p.occupation})]})}),l.jsx(De,{className:"capitalize",children:p.relation}),l.jsx(De,{children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ES,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:p.phone})]}),p.email&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(u_,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:p.email})]})]})}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{s(p),i(!0)},className:"p-1.5 text-amber-600 hover:bg-amber-50 rounded transition",title:"Edit",children:l.jsx(u_,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>f(p.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition",title:"Delete",children:l.jsx(vp,{className:"w-4 h-4"})})]})})]},p.id))})]}),l.jsx(wi,{isOpen:n,onClose:()=>{i(!1),s(null)},title:a?"Edit Contact":"Add New Contact",children:l.jsx(J7,{contact:a,studentId:e,onClose:()=>{i(!1),s(null),u()}})})]})}function J7({contact:e,studentId:t,onClose:r}){const[n,i]=Z.useState({relation:(e==null?void 0:e.relation)||"",full_name:(e==null?void 0:e.full_name)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",cnic:(e==null?void 0:e.cnic)||"",occupation:(e==null?void 0:e.occupation)||"",is_primary:(e==null?void 0:e.is_primary)||!1}),[a,s]=Z.useState(!1),o=async c=>{c.preventDefault(),s(!0);try{if(e){const{error:u}=await Re.from("parent_contacts").update(n).eq("id",e.id);if(u)throw u}else{const{error:u}=await Re.from("parent_contacts").insert([{...n,student_id:t}]);if(u)throw u}r()}catch(u){console.error("Error saving contact:",u),alert("Failed to save contact")}finally{s(!1)}};return l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(it,{label:"Full Name",value:n.full_name,onChange:c=>i({...n,full_name:c.target.value}),required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relation"}),l.jsxs("select",{value:n.relation,onChange:c=>i({...n,relation:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"Select Relation"}),l.jsx("option",{value:"father",children:"Father"}),l.jsx("option",{value:"mother",children:"Mother"}),l.jsx("option",{value:"guardian",children:"Guardian"}),l.jsx("option",{value:"other",children:"Other"})]})]}),l.jsx(it,{label:"Phone Number",type:"tel",value:n.phone,onChange:c=>i({...n,phone:c.target.value}),required:!0}),l.jsx(it,{label:"Email",type:"email",value:n.email,onChange:c=>i({...n,email:c.target.value})}),l.jsx(it,{label:"CNIC",value:n.cnic,onChange:c=>i({...n,cnic:c.target.value}),placeholder:"XXXXX-XXXXXXX-X"}),l.jsx(it,{label:"Occupation",value:n.occupation,onChange:c=>i({...n,occupation:c.target.value})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"is_primary",checked:n.is_primary,onChange:c=>i({...n,is_primary:c.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"is_primary",className:"text-sm font-medium text-gray-700",children:"Set as primary contact"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(Qe,{type:"button",variant:"ghost",onClick:r,children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:a,children:a?"Saving...":e?"Update Contact":"Add Contact"})]})]})}function Z7({studentId:e}){const{user:t}=Ar(),[r,n]=Z.useState([]),[i,a]=Z.useState(!1),[s,o]=Z.useState(!0);Z.useEffect(()=>{c()},[e]);const c=async()=>{try{const{data:m,error:h}=await Re.from("student_documents").select("*").eq("student_id",e).order("uploaded_at",{ascending:!1});if(h)throw h;n(m||[])}catch(m){console.error("Error loading documents:",m)}finally{o(!1)}},u=async m=>{if(!(!m.target.files||m.target.files.length===0))try{a(!0);const h=m.target.files[0],v=m.target.getAttribute("data-document-type")||"other",x=h.name.split(".").pop(),S=`${e}/${Date.now()}.${x}`,{error:y,data:w}=await Re.storage.from("student-documents").upload(S,h);if(y)throw y;const{error:_}=await Re.from("student_documents").insert([{student_id:e,document_type:v,document_url:(w==null?void 0:w.path)||"",uploaded_by:(t==null?void 0:t.id)||""}]);if(_)throw _;await c()}catch(h){console.error("Error uploading document:",h),alert("Failed to upload document")}finally{a(!1)}},f=async(m,h)=>{if(confirm("Are you sure you want to delete this document?"))try{const{error:v}=await Re.storage.from("student-documents").remove([h]);if(v)throw v;const{error:x}=await Re.from("student_documents").delete().eq("id",m);if(x)throw x;await c()}catch(v){console.error("Error deleting document:",v),alert("Failed to delete document")}},p=async(m,h)=>{try{const{data:v,error:x}=await Re.storage.from("student-documents").download(m);if(x)throw x;const S=URL.createObjectURL(v),y=document.createElement("a");y.href=S,y.download=`${h}_${new Date().toISOString().split("T")[0]}.${m.split(".").pop()}`,document.body.appendChild(y),y.click(),URL.revokeObjectURL(S),document.body.removeChild(y)}catch(v){console.error("Error downloading document:",v),alert("Failed to download document")}};return l.jsx(Ke,{title:"Student Documents",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-wrap gap-3",children:["birth_certificate","cnic","school_leaving","medical","other"].map(m=>l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:`upload_${m}`,onChange:u,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-document-type":m,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",disabled:i}),l.jsxs(Qe,{variant:"outline",disabled:i,children:[l.jsx(kS,{className:"w-4 h-4 mr-2"}),"Upload ",m.split("_").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ")]})]},m))}),l.jsx(Gn,{headers:["Document Type","Upload Date","Actions"],children:r.length===0?l.jsx(Ur,{children:l.jsx(De,{className:"text-center text-gray-500",colSpan:3,children:"No documents uploaded"})}):r.map(m=>l.jsxs(Ur,{children:[l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(F7,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"capitalize",children:m.document_type.replace(/_/g," ")})]})}),l.jsx(De,{children:new Date(m.uploaded_at).toLocaleDateString()}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>p(m.document_url,m.document_type),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"Download",children:l.jsx(xp,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>f(m.id,m.document_url),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition",title:"Delete",children:l.jsx(vp,{className:"w-4 h-4"})})]})})]},m.id))})]})})}function Q7({studentId:e}){const[t,r]=Z.useState([]),[n,i]=Z.useState(!1),[a,s]=Z.useState(null),[o,c]=Z.useState(!0),[u,f]=Z.useState([]);Z.useEffect(()=>{p()},[e]);const p=async()=>{try{const[h,v]=await Promise.all([Re.from("fee_records").select("*, academic_years(year_name)").eq("student_id",e).order("month",{ascending:!0}),Re.from("academic_years").select("id, year_name").eq("is_current",!0)]);if(h.error)throw h.error;if(v.error)throw v.error;r(h.data||[]),f(v.data||[])}catch(h){console.error("Error loading data:",h)}finally{c(!1)}},m=h=>{switch(h){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs(Ke,{title:"Fee Records",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Due"}),l.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["Rs. ",t.reduce((h,v)=>h+(v.amount-v.paid_amount),0)]})]}),l.jsx(P7,{className:"w-8 h-8 text-blue-600"})]})}),l.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Paid This Month"}),l.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["Rs. ",t.filter(h=>new Date(h.payment_date||"").getMonth()===new Date().getMonth()).reduce((h,v)=>h+v.paid_amount,0)]})]}),l.jsx(Yl,{className:"w-8 h-8 text-green-600"})]})}),l.jsx("div",{className:"bg-amber-50 p-4 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Upcoming Due"}),l.jsxs("p",{className:"text-2xl font-bold text-amber-900",children:["Rs. ",t.filter(h=>new Date(h.due_date)>new Date&&h.status!=="paid").reduce((h,v)=>h+(v.amount-v.paid_amount),0)]})]}),l.jsx(V0,{className:"w-8 h-8 text-amber-600"})]})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("div",{className:"flex justify-end mb-4",children:l.jsx(Qe,{onClick:()=>{s(null),i(!0)},children:"Add Fee Record"})}),l.jsx(Gn,{headers:["Month","Amount","Paid","Due Date","Status","Actions"],children:t.length===0?l.jsx(Ur,{children:l.jsx(De,{className:"text-center text-gray-500",children:"No fee records found"})}):t.map(h=>l.jsxs(Ur,{children:[l.jsx(De,{children:h.month}),l.jsxs(De,{children:["Rs. ",h.amount]}),l.jsxs(De,{children:["Rs. ",h.paid_amount]}),l.jsx(De,{children:new Date(h.due_date).toLocaleDateString()}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(h.status)}`,children:h.status})}),l.jsx(De,{children:l.jsx("button",{onClick:()=>{s(h),i(!0)},className:"text-blue-600 hover:text-blue-800",children:"Record Payment"})})]},h.id))})]})]}),l.jsx(wi,{isOpen:n,onClose:()=>{i(!1),s(null)},title:a?"Record Payment":"Add Fee Record",children:l.jsx(eL,{fee:a,studentId:e,academicYears:u,onClose:()=>{i(!1),s(null),p()}})})]})}function eL({fee:e,studentId:t,academicYears:r,onClose:n}){var u;const[i,a]=Z.useState({month:(e==null?void 0:e.month)||new Date().toISOString().split("-").slice(0,2).join("-"),amount:(e==null?void 0:e.amount)||0,paid_amount:(e==null?void 0:e.paid_amount)||0,due_date:(e==null?void 0:e.due_date)||new Date().toISOString().split("T")[0],payment_date:(e==null?void 0:e.payment_date)||"",payment_method:(e==null?void 0:e.payment_method)||"",receipt_number:(e==null?void 0:e.receipt_number)||"",academic_year_id:(e==null?void 0:e.academic_year_id)||((u=r[0])==null?void 0:u.id),status:(e==null?void 0:e.status)||"pending"}),[s,o]=Z.useState(!1),c=async f=>{f.preventDefault(),o(!0);try{const p=i.paid_amount===0?"pending":i.paid_amount<i.amount?"partial":"paid",m={...i,status:p,student_id:t};if(e){const{error:h}=await Re.from("fee_records").update(m).eq("id",e.id);if(h)throw h}else{const{error:h}=await Re.from("fee_records").insert([m]);if(h)throw h}n()}catch(p){console.error("Error saving fee record:",p),alert("Failed to save fee record")}finally{o(!1)}};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),l.jsx("select",{value:i.academic_year_id,onChange:f=>a({...i,academic_year_id:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:r.map(f=>l.jsx("option",{value:f.id,children:f.year_name},f.id))})]}),l.jsx(it,{label:"Month",type:"month",value:i.month,onChange:f=>a({...i,month:f.target.value}),required:!0}),l.jsx(it,{label:"Total Amount",type:"number",value:i.amount,onChange:f=>a({...i,amount:parseFloat(f.target.value)}),required:!0}),l.jsx(it,{label:"Paid Amount",type:"number",value:i.paid_amount,onChange:f=>a({...i,paid_amount:parseFloat(f.target.value)}),max:i.amount,required:!0}),l.jsx(it,{label:"Due Date",type:"date",value:i.due_date,onChange:f=>a({...i,due_date:f.target.value}),required:!0}),i.paid_amount>0&&l.jsxs(l.Fragment,{children:[l.jsx(it,{label:"Payment Date",type:"date",value:i.payment_date,onChange:f=>a({...i,payment_date:f.target.value}),required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),l.jsxs("select",{value:i.payment_method,onChange:f=>a({...i,payment_method:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[l.jsx("option",{value:"",children:"Select Method"}),l.jsx("option",{value:"cash",children:"Cash"}),l.jsx("option",{value:"bank",children:"Bank Transfer"}),l.jsx("option",{value:"cheque",children:"Cheque"})]})]}),l.jsx(it,{label:"Receipt Number",value:i.receipt_number,onChange:f=>a({...i,receipt_number:f.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(Qe,{type:"button",variant:"ghost",onClick:n,children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:s,children:s?"Saving...":e?"Update Record":"Add Record"})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var T1={};T1.version="0.18.5";var TS=1252,tL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jS=function(e){tL.indexOf(e)!=-1&&(TS=e)};function rL(){jS(1252)}var Dh=function(e){jS(e)};function nL(){Dh(1200),rL()}var p0=function(t){return String.fromCharCode(t)},d_=function(t){return String.fromCharCode(t)},Bl,Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mh(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=Mo.charAt(a)+Mo.charAt(s)+Mo.charAt(o)+Mo.charAt(c);return t}function ro(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Mo.indexOf(e.charAt(u++)),s=Mo.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=Mo.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Mo.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var sr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ao=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ac(e){return sr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function p_(e){return sr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ha=function(t){return sr?ao(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function yp(e){if(typeof ArrayBuffer>"u")return Ha(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function od(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function iL(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Hn=sr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ao(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function aL(e){for(var t=[],r=0,n=e.length+250,i=ac(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=ac(65535),n=65530)}return t.push(i.slice(0,r)),Hn(t)}var lh=/\u0000/g,m0=/[\u0001-\u0006]/g;function mu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Wa(e,t){var r=""+e;return r.length>=t?r:Jr("0",t-r.length)+r}function mv(e,t){var r=""+e;return r.length>=t?r:Jr(" ",t-r.length)+r}function j1(e,t){var r=""+e;return r.length>=t?r:r+Jr(" ",t-r.length)}function sL(e,t){var r=""+Math.round(e);return r.length>=t?r:Jr("0",t-r.length)+r}function oL(e,t){var r=""+e;return r.length>=t?r:Jr("0",t-r.length)+r}var m_=Math.pow(2,32);function Rc(e,t){if(e>m_||e<-m_)return sL(e,t);var r=Math.round(e);return oL(r,t)}function C1(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var g_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Wm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lL(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Zr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},x_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function L1(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,f=0,p=Math.floor(i);u<t&&(p=Math.floor(i),o=p*s+a,f=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=s,s=o,c=u,u=f;if(f>t&&(u>t?(f=c,o=a):(f=u,o=s)),!r)return[0,n*o,f];var m=Math.floor(n*o/f);return[m,n*o-m*f,f]}function g0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=gL(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var CS=new Date(1899,11,31,0,0,0),uL=CS.getTime(),fL=new Date(1900,2,1,0,0,0);function LS(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=fL&&(r+=24*60*60*1e3),(r-(uL+(e.getTimezoneOffset()-CS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function gv(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hL(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function dL(e){var t=e<0?12:11,r=gv(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function pL(e){var t=gv(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function mL(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=dL(e):t===10?r=e.toFixed(10).substr(0,12):r=pL(e),gv(hL(r.toUpperCase()))}function M2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):mL(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return rl(14,LS(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function gL(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function xL(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Wm[r.m-1][1];case 5:return Wm[r.m-1][0];default:return Wm[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return g_[r.q][0];default:return g_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Wa(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=Wa(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var f=u>0?Wa(c,u):"";return f}function Bo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var PS=/%/g;function vL(e,t,r){var n=t.replace(PS,""),i=t.length-n.length;return Ks(e,n,r*Math.pow(10,2*i))+Jr("%",i)}function yL(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ks(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function FS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+FS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var OS=/# (\?+)( ?)\/( ?)(\d+)/;function _L(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?Jr(" ",e[1].length+1+e[4].length):mv(s,e[1].length)+e[2]+"/"+e[3]+Wa(o,e[4].length))}function wL(e,t,r){return r+(t===0?"":""+t)+Jr(" ",e[1].length+2+e[4].length)}var IS=/^#*0*\.([0#]+)/,RS=/\).*[0#]/,DS=/\(###\) ###\\?-####/;function gi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function v_(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function y_(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function bL(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function SL(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ma(e,t,r){if(e.charCodeAt(0)===40&&!t.match(RS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ma("n",n,r):"("+ma("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yL(e,t,r);if(t.indexOf("%")!==-1)return vL(e,t,r);if(t.indexOf("E")!==-1)return FS(t,r);if(t.charCodeAt(0)===36)return"$"+ma(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Rc(c,t.length);if(t.match(/^[#?]+$/))return i=Rc(r,0),i==="0"&&(i=""),i.length>t.length?i:gi(t.substr(0,t.length-i.length))+i;if(a=t.match(OS))return _L(a,c,u);if(t.match(/^#+0+$/))return u+Rc(c,t.length-t.indexOf("0"));if(a=t.match(IS))return i=v_(r,a[1].length).replace(/^([^\.]+)$/,"$1."+gi(a[1])).replace(/\.$/,"."+gi(a[1])).replace(/\.(\d*)$/,function(v,x){return"."+x+Jr("0",gi(a[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+v_(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Bo(Rc(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ma(e,t,-r):Bo(""+(Math.floor(r)+bL(r,a[1].length)))+"."+Wa(y_(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ma(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mu(ma(e,t.replace(/[\\-]/g,""),r)),s=0,mu(mu(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(t.match(DS))return i=ma(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=L1(c,Math.pow(10,s)-1,!1),i=""+u,f=Ks("n",a[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=j1(o[2],s),f.length<a[4].length&&(f=gi(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=L1(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mv(o[1],s)+a[2]+"/"+a[3]+j1(o[2],s):Jr(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Rc(r,0),t.length<=i.length?i:gi(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return gi(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=y_(r,a[1].length),r<0?"-"+ma(e,t,-r):Bo(SL(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Wa(0,3-v.length):"")+v})+"."+Wa(s,a[1].length);switch(t){case"###,##0.00":return ma(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Bo(Rc(c,0));return h!=="0"?u+h:"";case"###,###.00":return ma(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ma(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function NL(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ks(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function AL(e,t,r){var n=t.replace(PS,""),i=t.length-n.length;return Ks(e,n,r*Math.pow(10,2*i))+Jr("%",i)}function MS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MS(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function us(e,t,r){if(e.charCodeAt(0)===40&&!t.match(RS)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?us("n",n,r):"("+us("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NL(e,t,r);if(t.indexOf("%")!==-1)return AL(e,t,r);if(t.indexOf("E")!==-1)return MS(t,r);if(t.charCodeAt(0)===36)return"$"+us(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Wa(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:gi(t.substr(0,t.length-i.length))+i;if(a=t.match(OS))return wL(a,c,u);if(t.match(/^#+0+$/))return u+Wa(c,t.length-t.indexOf("0"));if(a=t.match(IS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+gi(a[1])).replace(/\.$/,"."+gi(a[1])),i=i.replace(/\.(\d*)$/,function(v,x){return"."+x+Jr("0",gi(a[1]).length-x.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Bo(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+us(e,t,-r):Bo(""+r)+"."+Jr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return us(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mu(us(e,t.replace(/[\\-]/g,""),r)),s=0,mu(mu(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<i.length?i.charAt(s++):v==="0"?"0":""}));if(t.match(DS))return i=us(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=L1(c,Math.pow(10,s)-1,!1),i=""+u,f=Ks("n",a[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=j1(o[2],s),f.length<a[4].length&&(f=gi(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=L1(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mv(o[1],s)+a[2]+"/"+a[3]+j1(o[2],s):Jr(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:gi(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return gi(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+us(e,t,-r):Bo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Wa(0,3-v.length):"")+v})+"."+Wa(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Bo(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return us(e,t.slice(0,t.lastIndexOf(".")),r)+gi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ks(e,t,r){return(r|0)===r?us(e,t,r):ma(e,t,r)}function EL(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var BS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function US(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":C1(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(BS))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function kL(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,f,p,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!C1(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=e.charAt(++s),v=h==="("||h===")"?h:"t";i[i.length]={t:v,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=g0(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=g0(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var x={t:o,v:o};if(u==null&&(u=g0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",s+=5,m="h"):(x.t="t",++s),u==null&&x.t==="T")return"";i[i.length]=x,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(BS)){if(u==null&&(u=g0(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",US(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var S=0,y=0,w;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,c="h",S<1&&(S=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[s].v.match(/[Hh]/)&&(S=1),S<2&&i[s].v.match(/[Mm]/)&&(S=2),S<3&&i[s].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",A;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=xL(i[s].t.charCodeAt(0),i[s].v,u,y),i[s].t="t";break;case"n":case"?":for(A=s+1;i[A]!=null&&((o=i[A].t)==="?"||o==="D"||(o===" "||o==="t")&&i[A+1]!=null&&(i[A+1].t==="?"||i[A+1].t==="t"&&i[A+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[A].v==="/"||i[A].v===" "&&i[A+1]!=null&&i[A+1].t=="?"));)i[s].v+=i[A].v,i[A]={v:"",t:";"},++A;_+=i[s].v,s=A-1;break;case"G":i[s].t="t",i[s].v=M2(t,r);break}var H="",V,C;if(_.length>0){_.charCodeAt(0)==40?(V=t<0&&_.charCodeAt(0)===45?-t:t,C=Ks("n",_,V)):(V=t<0&&n>1?-t:t,C=Ks("n",_,V),V<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),A=C.length-1;var L=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){L=s;break}var j=i.length;if(L===i.length&&C.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(A>=i[s].v.length-1?(A-=i[s].v.length,i[s].v=C.substr(A+1,i[s].v.length)):A<0?i[s].v="":(i[s].v=C.substr(0,A+1),A=-1),i[s].t="t",j=s);A>=0&&j<i.length&&(i[j].v=C.substr(0,A+1)+i[j].v)}else if(L!==i.length&&C.indexOf("E")===-1){for(A=C.indexOf(".")-1,s=L;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(f=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")-1:i[s].v.length-1,H=i[s].v.substr(f+1);f>=0;--f)A>=0&&(i[s].v.charAt(f)==="0"||i[s].v.charAt(f)==="#")&&(H=C.charAt(A--)+H);i[s].v=H,i[s].t="t",j=s}for(A>=0&&j<i.length&&(i[j].v=C.substr(0,A+1)+i[j].v),A=C.indexOf(".")+1,s=L;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==L)){for(f=i[s].v.indexOf(".")>-1&&s===L?i[s].v.indexOf(".")+1:0,H=i[s].v.substr(0,f);f<i[s].v.length;++f)A<C.length&&(H+=C.charAt(A++));i[s].v=H,i[s].t="t",j=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(V=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Ks(i[s].t,i[s].v,V),i[s].t="t");var M="";for(s=0;s!==i.length;++s)i[s]!=null&&(M+=i[s].v);return M}var __=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function w_(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function TL(e,t){var r=EL(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(__),o=r[1].match(__);return w_(t,s)?[n,r[0]]:w_(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function rl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Zr)[e],n==null&&(n=r.table&&r.table[x_[e]]||Zr[x_[e]]),n==null&&(n=cL[e]||"General");break}if(C1(n,0))return M2(t,r);t instanceof Date&&(t=LS(t,r.date1904));var i=TL(n,t);if(C1(i[1]))return M2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return kL(i[1],t,r,i[0])}function zS(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Zr[r]==null){t<0&&(t=r);continue}if(Zr[r]==e){t=r;break}}t<0&&(t=391)}return Zr[t]=e,t}function _p(e){for(var t=0;t!=392;++t)e[t]!==void 0&&zS(e[t],t)}function wp(){Zr=lL()}var $S=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function jL(e){var t=typeof e=="number"?Zr[e]:e;return t=t.replace($S,"(\\d+)"),new RegExp("^"+t+"$")}function CL(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match($S)||[]).forEach(function(p,m){var h=parseInt(r[m+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":c=h;break;case"m":s>=0?o=h:i=h;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?f:u+"T"+f}var LL=function(){var e={};e.version="1.2.0";function t(){for(var C=0,L=new Array(256),j=0;j!=256;++j)C=j,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,L[j]=C;return typeof Int32Array<"u"?new Int32Array(L):L}var r=t();function n(C){var L=0,j=0,M=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)T[M]=C[M];for(M=0;M!=256;++M)for(j=C[M],L=256+M;L<4096;L+=256)j=T[L]=j>>>8^C[j&255];var P=[];for(M=1;M!=16;++M)P[M-1]=typeof Int32Array<"u"?T.subarray(M*256,M*256+256):T.slice(M*256,M*256+256);return P}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],f=i[5],p=i[6],m=i[7],h=i[8],v=i[9],x=i[10],S=i[11],y=i[12],w=i[13],_=i[14];function A(C,L){for(var j=L^-1,M=0,T=C.length;M<T;)j=j>>>8^r[(j^C.charCodeAt(M++))&255];return~j}function H(C,L){for(var j=L^-1,M=C.length-15,T=0;T<M;)j=_[C[T++]^j&255]^w[C[T++]^j>>8&255]^y[C[T++]^j>>16&255]^S[C[T++]^j>>>24]^x[C[T++]]^v[C[T++]]^h[C[T++]]^m[C[T++]]^p[C[T++]]^f[C[T++]]^u[C[T++]]^c[C[T++]]^o[C[T++]]^s[C[T++]]^a[C[T++]]^r[C[T++]];for(M+=15;T<M;)j=j>>>8^r[(j^C[T++])&255];return~j}function V(C,L){for(var j=L^-1,M=0,T=C.length,P=0,D=0;M<T;)P=C.charCodeAt(M++),P<128?j=j>>>8^r[(j^P)&255]:P<2048?(j=j>>>8^r[(j^(192|P>>6&31))&255],j=j>>>8^r[(j^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,D=C.charCodeAt(M++)&1023,j=j>>>8^r[(j^(240|P>>8&7))&255],j=j>>>8^r[(j^(128|P>>2&63))&255],j=j>>>8^r[(j^(128|D>>6&15|(P&3)<<4))&255],j=j>>>8^r[(j^(128|D&63))&255]):(j=j>>>8^r[(j^(224|P>>12&15))&255],j=j>>>8^r[(j^(128|P>>6&63))&255],j=j>>>8^r[(j^(128|P&63))&255]);return~j}return e.table=r,e.bstr=A,e.buf=H,e.str=V,e}(),wr=function(){var t={};t.version="1.2.1";function r(U,te){for(var K=U.split("/"),Y=te.split("/"),re=0,ie=0,ye=Math.min(K.length,Y.length);re<ye;++re){if(ie=K[re].length-Y[re].length)return ie;if(K[re]!=Y[re])return K[re]<Y[re]?-1:1}return K.length-Y.length}function n(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:n(U.slice(0,-1));var te=U.lastIndexOf("/");return te===-1?U:U.slice(0,te+1)}function i(U){if(U.charAt(U.length-1)=="/")return i(U.slice(0,-1));var te=U.lastIndexOf("/");return te===-1?U:U.slice(te+1)}function a(U,te){typeof te=="string"&&(te=new Date(te));var K=te.getHours();K=K<<6|te.getMinutes(),K=K<<5|te.getSeconds()>>>1,U.write_shift(2,K);var Y=te.getFullYear()-1980;Y=Y<<4|te.getMonth()+1,Y=Y<<5|te.getDate(),U.write_shift(2,Y)}function s(U){var te=U.read_shift(2)&65535,K=U.read_shift(2)&65535,Y=new Date,re=K&31;K>>>=5;var ie=K&15;K>>>=4,Y.setMilliseconds(0),Y.setFullYear(K+1980),Y.setMonth(ie-1),Y.setDate(re);var ye=te&31;te>>>=5;var je=te&63;return te>>>=6,Y.setHours(te),Y.setMinutes(je),Y.setSeconds(ye<<1),Y}function o(U){Ji(U,0);for(var te={},K=0;U.l<=U.length-4;){var Y=U.read_shift(2),re=U.read_shift(2),ie=U.l+re,ye={};switch(Y){case 21589:K=U.read_shift(1),K&1&&(ye.mtime=U.read_shift(4)),re>5&&(K&2&&(ye.atime=U.read_shift(4)),K&4&&(ye.ctime=U.read_shift(4))),ye.mtime&&(ye.mt=new Date(ye.mtime*1e3));break}U.l=ie,te[Y]=ye}return te}var c;function u(){return c||(c={})}function f(U,te){if(U[0]==80&&U[1]==75)return Ir(U,te);if((U[0]|32)==109&&(U[1]|32)==105)return bt(U,te);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var K=3,Y=512,re=0,ie=0,ye=0,je=0,_e=0,be=[],Ee=U.slice(0,512);Ji(Ee,0);var He=p(Ee);switch(K=He[0],K){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(He[1]==0)return Ir(U,te);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}Y!==512&&(Ee=U.slice(0,Y),Ji(Ee,28));var Ye=U.slice(0,Y);m(Ee,K);var nt=Ee.read_shift(4,"i");if(K===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);Ee.l+=4,ye=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),je=Ee.read_shift(4,"i"),re=Ee.read_shift(4,"i"),_e=Ee.read_shift(4,"i"),ie=Ee.read_shift(4,"i");for(var Ge=-1,rt=0;rt<109&&(Ge=Ee.read_shift(4,"i"),!(Ge<0));++rt)be[rt]=Ge;var kt=h(U,Y);S(_e,ie,kt,Y,be);var _r=w(kt,ye,be,Y);_r[ye].name="!Directory",re>0&&je!==D&&(_r[je].name="!MiniFAT"),_r[be[0]].name="!FAT",_r.fat_addrs=be,_r.ssz=Y;var Vt={},Wr=[],rs=[],Ca=[];_(ye,_r,kt,Wr,re,Vt,rs,je),v(rs,Ca,Wr),Wr.shift();var ns={FileIndex:rs,FullPaths:Ca};return te&&te.raw&&(ns.raw={header:Ye,sectors:kt}),ns}function p(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(G,"Header Signature: "),U.l+=16;var te=U.read_shift(2,"u");return[U.read_shift(2,"u"),te]}function m(U,te){var K=9;switch(U.l+=2,K=U.read_shift(2)){case 9:if(te!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(te!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function h(U,te){for(var K=Math.ceil(U.length/te)-1,Y=[],re=1;re<K;++re)Y[re-1]=U.slice(re*te,(re+1)*te);return Y[K-1]=U.slice(K*te),Y}function v(U,te,K){for(var Y=0,re=0,ie=0,ye=0,je=0,_e=K.length,be=[],Ee=[];Y<_e;++Y)be[Y]=Ee[Y]=Y,te[Y]=K[Y];for(;je<Ee.length;++je)Y=Ee[je],re=U[Y].L,ie=U[Y].R,ye=U[Y].C,be[Y]===Y&&(re!==-1&&be[re]!==re&&(be[Y]=be[re]),ie!==-1&&be[ie]!==ie&&(be[Y]=be[ie])),ye!==-1&&(be[ye]=Y),re!==-1&&Y!=be[Y]&&(be[re]=be[Y],Ee.lastIndexOf(re)<je&&Ee.push(re)),ie!==-1&&Y!=be[Y]&&(be[ie]=be[Y],Ee.lastIndexOf(ie)<je&&Ee.push(ie));for(Y=1;Y<_e;++Y)be[Y]===Y&&(ie!==-1&&be[ie]!==ie?be[Y]=be[ie]:re!==-1&&be[re]!==re&&(be[Y]=be[re]));for(Y=1;Y<_e;++Y)if(U[Y].type!==0){if(je=Y,je!=be[je])do je=be[je],te[Y]=te[je]+"/"+te[Y];while(je!==0&&be[je]!==-1&&je!=be[je]);be[Y]=-1}for(te[0]+="/",Y=1;Y<_e;++Y)U[Y].type!==2&&(te[Y]+="/")}function x(U,te,K){for(var Y=U.start,re=U.size,ie=[],ye=Y;K&&re>0&&ye>=0;)ie.push(te.slice(ye*P,ye*P+P)),re-=P,ye=Ul(K,ye*4);return ie.length===0?Ce(0):Hn(ie).slice(0,U.size)}function S(U,te,K,Y,re){var ie=D;if(U===D){if(te!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var ye=K[U],je=(Y>>>2)-1;if(!ye)return;for(var _e=0;_e<je&&(ie=Ul(ye,_e*4))!==D;++_e)re.push(ie);S(Ul(ye,Y-4),te-1,K,Y,re)}}function y(U,te,K,Y,re){var ie=[],ye=[];re||(re=[]);var je=Y-1,_e=0,be=0;for(_e=te;_e>=0;){re[_e]=!0,ie[ie.length]=_e,ye.push(U[_e]);var Ee=K[Math.floor(_e*4/Y)];if(be=_e*4&je,Y<4+be)throw new Error("FAT boundary crossed: "+_e+" 4 "+Y);if(!U[Ee])break;_e=Ul(U[Ee],be)}return{nodes:ie,data:j_([ye])}}function w(U,te,K,Y){var re=U.length,ie=[],ye=[],je=[],_e=[],be=Y-1,Ee=0,He=0,Ye=0,nt=0;for(Ee=0;Ee<re;++Ee)if(je=[],Ye=Ee+te,Ye>=re&&(Ye-=re),!ye[Ye]){_e=[];var Ge=[];for(He=Ye;He>=0;){Ge[He]=!0,ye[He]=!0,je[je.length]=He,_e.push(U[He]);var rt=K[Math.floor(He*4/Y)];if(nt=He*4&be,Y<4+nt)throw new Error("FAT boundary crossed: "+He+" 4 "+Y);if(!U[rt]||(He=Ul(U[rt],nt),Ge[He]))break}ie[Ye]={nodes:je,data:j_([_e])}}return ie}function _(U,te,K,Y,re,ie,ye,je){for(var _e=0,be=Y.length?2:0,Ee=te[U].data,He=0,Ye=0,nt;He<Ee.length;He+=128){var Ge=Ee.slice(He,He+128);Ji(Ge,64),Ye=Ge.read_shift(2),nt=wv(Ge,0,Ye-be),Y.push(nt);var rt={name:nt,type:Ge.read_shift(1),color:Ge.read_shift(1),L:Ge.read_shift(4,"i"),R:Ge.read_shift(4,"i"),C:Ge.read_shift(4,"i"),clsid:Ge.read_shift(16),state:Ge.read_shift(4,"i"),start:0,size:0},kt=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);kt!==0&&(rt.ct=A(Ge,Ge.l-8));var _r=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);_r!==0&&(rt.mt=A(Ge,Ge.l-8)),rt.start=Ge.read_shift(4,"i"),rt.size=Ge.read_shift(4,"i"),rt.size<0&&rt.start<0&&(rt.size=rt.type=0,rt.start=D,rt.name=""),rt.type===5?(_e=rt.start,re>0&&_e!==D&&(te[_e].name="!StreamData")):rt.size>=4096?(rt.storage="fat",te[rt.start]===void 0&&(te[rt.start]=y(K,rt.start,te.fat_addrs,te.ssz)),te[rt.start].name=rt.name,rt.content=te[rt.start].data.slice(0,rt.size)):(rt.storage="minifat",rt.size<0?rt.size=0:_e!==D&&rt.start!==D&&te[_e]&&(rt.content=x(rt,te[_e].data,(te[je]||{}).data))),rt.content&&Ji(rt.content,0),ie[nt]=rt,ye.push(rt)}}function A(U,te){return new Date((Qi(U,te+4)/1e7*Math.pow(2,32)+Qi(U,te)/1e7-11644473600)*1e3)}function H(U,te){return u(),f(c.readFileSync(U),te)}function V(U,te){var K=te&&te.type;switch(K||sr&&Buffer.isBuffer(U)&&(K="buffer"),K||"base64"){case"file":return H(U,te);case"base64":return f(Ha(ro(U)),te);case"binary":return f(Ha(U),te)}return f(U,te)}function C(U,te){var K=te||{},Y=K.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=Y+"/",U.FileIndex[0]={name:Y,type:5}),K.CLSID&&(U.FileIndex[0].clsid=K.CLSID),L(U)}function L(U){var te="Sh33tJ5";if(!wr.find(U,"/"+te)){var K=Ce(4);K[0]=55,K[1]=K[3]=50,K[2]=54,U.FileIndex.push({name:te,type:2,content:K,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+te),j(U)}}function j(U,te){C(U);for(var K=!1,Y=!1,re=U.FullPaths.length-1;re>=0;--re){var ie=U.FileIndex[re];switch(ie.type){case 0:Y?K=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(ie.R*ie.L*ie.C)&&(K=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!te)){var ye=new Date(1987,1,19),je=0,_e=Object.create?Object.create(null):{},be=[];for(re=0;re<U.FullPaths.length;++re)_e[U.FullPaths[re]]=!0,U.FileIndex[re].type!==0&&be.push([U.FullPaths[re],U.FileIndex[re]]);for(re=0;re<be.length;++re){var Ee=n(be[re][0]);Y=_e[Ee],Y||(be.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:ve,ct:ye,mt:ye,content:null}]),_e[Ee]=!0)}for(be.sort(function(nt,Ge){return r(nt[0],Ge[0])}),U.FullPaths=[],U.FileIndex=[],re=0;re<be.length;++re)U.FullPaths[re]=be[re][0],U.FileIndex[re]=be[re][1];for(re=0;re<be.length;++re){var He=U.FileIndex[re],Ye=U.FullPaths[re];if(He.name=i(Ye).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||ve,re===0)He.C=be.length>1?1:-1,He.size=0,He.type=5;else if(Ye.slice(-1)=="/"){for(je=re+1;je<be.length&&n(U.FullPaths[je])!=Ye;++je);for(He.C=je>=be.length?-1:je,je=re+1;je<be.length&&n(U.FullPaths[je])!=n(Ye);++je);He.R=je>=be.length?-1:je,He.type=1}else n(U.FullPaths[re+1]||"")==n(Ye)&&(He.R=re+1),He.type=2}}}function M(U,te){var K=te||{};if(K.fileType=="mad")return Ta(U,K);switch(j(U),K.fileType){case"zip":return ur(U,K)}var Y=function(nt){for(var Ge=0,rt=0,kt=0;kt<nt.FileIndex.length;++kt){var _r=nt.FileIndex[kt];if(_r.content){var Vt=_r.content.length;Vt>0&&(Vt<4096?Ge+=Vt+63>>6:rt+=Vt+511>>9)}}for(var Wr=nt.FullPaths.length+3>>2,rs=Ge+7>>3,Ca=Ge+127>>7,ns=rs+rt+Wr+Ca,ca=ns+127>>7,so=ca<=109?0:Math.ceil((ca-109)/127);ns+ca+so+127>>7>ca;)so=++ca<=109?0:Math.ceil((ca-109)/127);var Zn=[1,so,ca,Ca,Wr,rt,Ge,0];return nt.FileIndex[0].size=Ge<<6,Zn[7]=(nt.FileIndex[0].start=Zn[0]+Zn[1]+Zn[2]+Zn[3]+Zn[4]+Zn[5])+(Zn[6]+7>>3),Zn}(U),re=Ce(Y[7]<<9),ie=0,ye=0;{for(ie=0;ie<8;++ie)re.write_shift(1,oe[ie]);for(ie=0;ie<8;++ie)re.write_shift(2,0);for(re.write_shift(2,62),re.write_shift(2,3),re.write_shift(2,65534),re.write_shift(2,9),re.write_shift(2,6),ie=0;ie<3;++ie)re.write_shift(2,0);for(re.write_shift(4,0),re.write_shift(4,Y[2]),re.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),re.write_shift(4,0),re.write_shift(4,4096),re.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:D),re.write_shift(4,Y[3]),re.write_shift(-4,Y[1]?Y[0]-1:D),re.write_shift(4,Y[1]),ie=0;ie<109;++ie)re.write_shift(-4,ie<Y[2]?Y[1]+ie:-1)}if(Y[1])for(ye=0;ye<Y[1];++ye){for(;ie<236+ye*127;++ie)re.write_shift(-4,ie<Y[2]?Y[1]+ie:-1);re.write_shift(-4,ye===Y[1]-1?D:ye+1)}var je=function(nt){for(ye+=nt;ie<ye-1;++ie)re.write_shift(-4,ie+1);nt&&(++ie,re.write_shift(-4,D))};for(ye=ie=0,ye+=Y[1];ie<ye;++ie)re.write_shift(-4,we.DIFSECT);for(ye+=Y[2];ie<ye;++ie)re.write_shift(-4,we.FATSECT);je(Y[3]),je(Y[4]);for(var _e=0,be=0,Ee=U.FileIndex[0];_e<U.FileIndex.length;++_e)Ee=U.FileIndex[_e],Ee.content&&(be=Ee.content.length,!(be<4096)&&(Ee.start=ye,je(be+511>>9)));for(je(Y[6]+7>>3);re.l&511;)re.write_shift(-4,we.ENDOFCHAIN);for(ye=ie=0,_e=0;_e<U.FileIndex.length;++_e)Ee=U.FileIndex[_e],Ee.content&&(be=Ee.content.length,!(!be||be>=4096)&&(Ee.start=ye,je(be+63>>6)));for(;re.l&511;)re.write_shift(-4,we.ENDOFCHAIN);for(ie=0;ie<Y[4]<<2;++ie){var He=U.FullPaths[ie];if(!He||He.length===0){for(_e=0;_e<17;++_e)re.write_shift(4,0);for(_e=0;_e<3;++_e)re.write_shift(4,-1);for(_e=0;_e<12;++_e)re.write_shift(4,0);continue}Ee=U.FileIndex[ie],ie===0&&(Ee.start=Ee.size?Ee.start-1:D);var Ye=ie===0&&K.root||Ee.name;if(be=2*(Ye.length+1),re.write_shift(64,Ye,"utf16le"),re.write_shift(2,be),re.write_shift(1,Ee.type),re.write_shift(1,Ee.color),re.write_shift(-4,Ee.L),re.write_shift(-4,Ee.R),re.write_shift(-4,Ee.C),Ee.clsid)re.write_shift(16,Ee.clsid,"hex");else for(_e=0;_e<4;++_e)re.write_shift(4,0);re.write_shift(4,Ee.state||0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,Ee.start),re.write_shift(4,Ee.size),re.write_shift(4,0)}for(ie=1;ie<U.FileIndex.length;++ie)if(Ee=U.FileIndex[ie],Ee.size>=4096)if(re.l=Ee.start+1<<9,sr&&Buffer.isBuffer(Ee.content))Ee.content.copy(re,re.l,0,Ee.size),re.l+=Ee.size+511&-512;else{for(_e=0;_e<Ee.size;++_e)re.write_shift(1,Ee.content[_e]);for(;_e&511;++_e)re.write_shift(1,0)}for(ie=1;ie<U.FileIndex.length;++ie)if(Ee=U.FileIndex[ie],Ee.size>0&&Ee.size<4096)if(sr&&Buffer.isBuffer(Ee.content))Ee.content.copy(re,re.l,0,Ee.size),re.l+=Ee.size+63&-64;else{for(_e=0;_e<Ee.size;++_e)re.write_shift(1,Ee.content[_e]);for(;_e&63;++_e)re.write_shift(1,0)}if(sr)re.l=re.length;else for(;re.l<re.length;)re.write_shift(1,0);return re}function T(U,te){var K=U.FullPaths.map(function(_e){return _e.toUpperCase()}),Y=K.map(function(_e){var be=_e.split("/");return be[be.length-(_e.slice(-1)=="/"?2:1)]}),re=!1;te.charCodeAt(0)===47?(re=!0,te=K[0].slice(0,-1)+te):re=te.indexOf("/")!==-1;var ie=te.toUpperCase(),ye=re===!0?K.indexOf(ie):Y.indexOf(ie);if(ye!==-1)return U.FileIndex[ye];var je=!ie.match(m0);for(ie=ie.replace(lh,""),je&&(ie=ie.replace(m0,"!")),ye=0;ye<K.length;++ye)if((je?K[ye].replace(m0,"!"):K[ye]).replace(lh,"")==ie||(je?Y[ye].replace(m0,"!"):Y[ye]).replace(lh,"")==ie)return U.FileIndex[ye];return null}var P=64,D=-2,G="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",we={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(U,te,K){u();var Y=M(U,K);c.writeFileSync(te,Y)}function me(U){for(var te=new Array(U.length),K=0;K<U.length;++K)te[K]=String.fromCharCode(U[K]);return te.join("")}function Te(U,te){var K=M(U,te);switch(te&&te.type||"buffer"){case"file":return u(),c.writeFileSync(te.filename,K),K;case"binary":return typeof K=="string"?K:me(K);case"base64":return Mh(typeof K=="string"?K:me(K));case"buffer":if(sr)return Buffer.isBuffer(K)?K:ao(K);case"array":return typeof K=="string"?Ha(K):K}return K}var ke;function E(U){try{var te=U.InflateRaw,K=new te;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)ke=U;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function R(U,te){if(!ke)return qt(U,te);var K=ke.InflateRaw,Y=new K,re=Y._processChunk(U.slice(U.l),Y._finishFlushFlag);return U.l+=Y.bytesRead,re}function F(U){return ke?ke.deflateRawSync(U):Nt(U)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(U){var te=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(te>>16|te>>8|te)&255}for(var fe=typeof Uint8Array<"u",de=fe?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)de[Fe]=he(Fe);function Be(U,te){var K=de[U&255];return te<=8?K>>>8-te:(K=K<<8|de[U>>8&255],te<=16?K>>>16-te:(K=K<<8|de[U>>16&255],K>>>24-te))}function Xe(U,te){var K=te&7,Y=te>>>3;return(U[Y]|(K<=6?0:U[Y+1]<<8))>>>K&3}function Se(U,te){var K=te&7,Y=te>>>3;return(U[Y]|(K<=5?0:U[Y+1]<<8))>>>K&7}function ae(U,te){var K=te&7,Y=te>>>3;return(U[Y]|(K<=4?0:U[Y+1]<<8))>>>K&15}function pt(U,te){var K=te&7,Y=te>>>3;return(U[Y]|(K<=3?0:U[Y+1]<<8))>>>K&31}function Ue(U,te){var K=te&7,Y=te>>>3;return(U[Y]|(K<=1?0:U[Y+1]<<8))>>>K&127}function st(U,te,K){var Y=te&7,re=te>>>3,ie=(1<<K)-1,ye=U[re]>>>Y;return K<8-Y||(ye|=U[re+1]<<8-Y,K<16-Y)||(ye|=U[re+2]<<16-Y,K<24-Y)||(ye|=U[re+3]<<24-Y),ye&ie}function qe(U,te,K){var Y=te&7,re=te>>>3;return Y<=5?U[re]|=(K&7)<<Y:(U[re]|=K<<Y&255,U[re+1]=(K&7)>>8-Y),te+3}function lt(U,te,K){var Y=te&7,re=te>>>3;return K=(K&1)<<Y,U[re]|=K,te+1}function et(U,te,K){var Y=te&7,re=te>>>3;return K<<=Y,U[re]|=K&255,K>>>=8,U[re+1]=K,te+8}function Ft(U,te,K){var Y=te&7,re=te>>>3;return K<<=Y,U[re]|=K&255,K>>>=8,U[re+1]=K&255,U[re+2]=K>>>8,te+16}function gt(U,te){var K=U.length,Y=2*K>te?2*K:te+5,re=0;if(K>=te)return U;if(sr){var ie=p_(Y);if(U.copy)U.copy(ie);else for(;re<U.length;++re)ie[re]=U[re];return ie}else if(fe){var ye=new Uint8Array(Y);if(ye.set)ye.set(U);else for(;re<K;++re)ye[re]=U[re];return ye}return U.length=Y,U}function Mt(U){for(var te=new Array(U),K=0;K<U;++K)te[K]=0;return te}function Et(U,te,K){var Y=1,re=0,ie=0,ye=0,je=0,_e=U.length,be=fe?new Uint16Array(32):Mt(32);for(ie=0;ie<32;++ie)be[ie]=0;for(ie=_e;ie<K;++ie)U[ie]=0;_e=U.length;var Ee=fe?new Uint16Array(_e):Mt(_e);for(ie=0;ie<_e;++ie)be[re=U[ie]]++,Y<re&&(Y=re),Ee[ie]=0;for(be[0]=0,ie=1;ie<=Y;++ie)be[ie+16]=je=je+be[ie-1]<<1;for(ie=0;ie<_e;++ie)je=U[ie],je!=0&&(Ee[ie]=be[je+16]++);var He=0;for(ie=0;ie<_e;++ie)if(He=U[ie],He!=0)for(je=Be(Ee[ie],Y)>>Y-He,ye=(1<<Y+4-He)-1;ye>=0;--ye)te[je|ye<<He]=He&15|ie<<4;return Y}var Tt=fe?new Uint16Array(512):Mt(512),tr=fe?new Uint16Array(32):Mt(32);if(!fe){for(var St=0;St<512;++St)Tt[St]=0;for(St=0;St<32;++St)tr[St]=0}(function(){for(var U=[],te=0;te<32;te++)U.push(5);Et(U,tr,32);var K=[];for(te=0;te<=143;te++)K.push(8);for(;te<=255;te++)K.push(9);for(;te<=279;te++)K.push(7);for(;te<=287;te++)K.push(8);Et(K,Tt,288)})();var _t=function(){for(var te=fe?new Uint8Array(32768):[],K=0,Y=0;K<le.length-1;++K)for(;Y<le[K+1];++Y)te[Y]=K;for(;Y<32768;++Y)te[Y]=29;var re=fe?new Uint8Array(259):[];for(K=0,Y=0;K<J.length-1;++K)for(;Y<J[K+1];++Y)re[Y]=K;function ie(je,_e){for(var be=0;be<je.length;){var Ee=Math.min(65535,je.length-be),He=be+Ee==je.length;for(_e.write_shift(1,+He),_e.write_shift(2,Ee),_e.write_shift(2,~Ee&65535);Ee-- >0;)_e[_e.l++]=je[be++]}return _e.l}function ye(je,_e){for(var be=0,Ee=0,He=fe?new Uint16Array(32768):[];Ee<je.length;){var Ye=Math.min(65535,je.length-Ee);if(Ye<10){for(be=qe(_e,be,+(Ee+Ye==je.length)),be&7&&(be+=8-(be&7)),_e.l=be/8|0,_e.write_shift(2,Ye),_e.write_shift(2,~Ye&65535);Ye-- >0;)_e[_e.l++]=je[Ee++];be=_e.l*8;continue}be=qe(_e,be,+(Ee+Ye==je.length)+2);for(var nt=0;Ye-- >0;){var Ge=je[Ee];nt=(nt<<5^Ge)&32767;var rt=-1,kt=0;if((rt=He[nt])&&(rt|=Ee&-32768,rt>Ee&&(rt-=32768),rt<Ee))for(;je[rt+kt]==je[Ee+kt]&&kt<250;)++kt;if(kt>2){Ge=re[kt],Ge<=22?be=et(_e,be,de[Ge+1]>>1)-1:(et(_e,be,3),be+=5,et(_e,be,de[Ge-23]>>5),be+=3);var _r=Ge<8?0:Ge-4>>2;_r>0&&(Ft(_e,be,kt-J[Ge]),be+=_r),Ge=te[Ee-rt],be=et(_e,be,de[Ge]>>3),be-=3;var Vt=Ge<4?0:Ge-2>>1;Vt>0&&(Ft(_e,be,Ee-rt-le[Ge]),be+=Vt);for(var Wr=0;Wr<kt;++Wr)He[nt]=Ee&32767,nt=(nt<<5^je[Ee])&32767,++Ee;Ye-=kt-1}else Ge<=143?Ge=Ge+48:be=lt(_e,be,1),be=et(_e,be,de[Ge]),He[nt]=Ee&32767,++Ee}be=et(_e,be,0)-1}return _e.l=(be+7)/8|0,_e.l}return function(_e,be){return _e.length<8?ie(_e,be):ye(_e,be)}}();function Nt(U){var te=Ce(50+Math.floor(U.length*1.1)),K=_t(U,te);return te.slice(0,K)}var xt=fe?new Uint16Array(32768):Mt(32768),lr=fe?new Uint16Array(32768):Mt(32768),Yt=fe?new Uint16Array(128):Mt(128),ft=1,Ct=1;function cr(U,te){var K=pt(U,te)+257;te+=5;var Y=pt(U,te)+1;te+=5;var re=ae(U,te)+4;te+=4;for(var ie=0,ye=fe?new Uint8Array(19):Mt(19),je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,be=fe?new Uint8Array(8):Mt(8),Ee=fe?new Uint8Array(8):Mt(8),He=ye.length,Ye=0;Ye<re;++Ye)ye[B[Ye]]=ie=Se(U,te),_e<ie&&(_e=ie),be[ie]++,te+=3;var nt=0;for(be[0]=0,Ye=1;Ye<=_e;++Ye)Ee[Ye]=nt=nt+be[Ye-1]<<1;for(Ye=0;Ye<He;++Ye)(nt=ye[Ye])!=0&&(je[Ye]=Ee[nt]++);var Ge=0;for(Ye=0;Ye<He;++Ye)if(Ge=ye[Ye],Ge!=0){nt=de[je[Ye]]>>8-Ge;for(var rt=(1<<7-Ge)-1;rt>=0;--rt)Yt[nt|rt<<Ge]=Ge&7|Ye<<3}var kt=[];for(_e=1;kt.length<K+Y;)switch(nt=Yt[Ue(U,te)],te+=nt&7,nt>>>=3){case 16:for(ie=3+Xe(U,te),te+=2,nt=kt[kt.length-1];ie-- >0;)kt.push(nt);break;case 17:for(ie=3+Se(U,te),te+=3;ie-- >0;)kt.push(0);break;case 18:for(ie=11+Ue(U,te),te+=7;ie-- >0;)kt.push(0);break;default:kt.push(nt),_e<nt&&(_e=nt);break}var _r=kt.slice(0,K),Vt=kt.slice(K);for(Ye=K;Ye<286;++Ye)_r[Ye]=0;for(Ye=Y;Ye<30;++Ye)Vt[Ye]=0;return ft=Et(_r,xt,286),Ct=Et(Vt,lr,30),te}function wt(U,te){if(U[0]==3&&!(U[1]&3))return[ac(te),2];for(var K=0,Y=0,re=p_(te||1<<18),ie=0,ye=re.length>>>0,je=0,_e=0;!(Y&1);){if(Y=Se(U,K),K+=3,Y>>>1)Y>>1==1?(je=9,_e=5):(K=cr(U,K),je=ft,_e=Ct);else{K&7&&(K+=8-(K&7));var be=U[K>>>3]|U[(K>>>3)+1]<<8;if(K+=32,be>0)for(!te&&ye<ie+be&&(re=gt(re,ie+be),ye=re.length);be-- >0;)re[ie++]=U[K>>>3],K+=8;continue}for(;;){!te&&ye<ie+32767&&(re=gt(re,ie+32767),ye=re.length);var Ee=st(U,K,je),He=Y>>>1==1?Tt[Ee]:xt[Ee];if(K+=He&15,He>>>=4,!(He>>>8&255))re[ie++]=He;else{if(He==256)break;He-=257;var Ye=He<8?0:He-4>>2;Ye>5&&(Ye=0);var nt=ie+J[He];Ye>0&&(nt+=st(U,K,Ye),K+=Ye),Ee=st(U,K,_e),He=Y>>>1==1?tr[Ee]:lr[Ee],K+=He&15,He>>>=4;var Ge=He<4?0:He-2>>1,rt=le[He];for(Ge>0&&(rt+=st(U,K,Ge),K+=Ge),!te&&ye<nt&&(re=gt(re,nt+100),ye=re.length);ie<nt;)re[ie]=re[ie-rt],++ie}}}return te?[re,K+7>>>3]:[re.slice(0,ie),K+7>>>3]}function qt(U,te){var K=U.slice(U.l||0),Y=wt(K,te);return U.l+=Y[1],Y[0]}function Lt(U,te){if(U)typeof console<"u"&&console.error(te);else throw new Error(te)}function Ir(U,te){var K=U;Ji(K,0);var Y=[],re=[],ie={FileIndex:Y,FullPaths:re};C(ie,{root:te.root});for(var ye=K.length-4;(K[ye]!=80||K[ye+1]!=75||K[ye+2]!=5||K[ye+3]!=6)&&ye>=0;)--ye;K.l=ye+4,K.l+=4;var je=K.read_shift(2);K.l+=6;var _e=K.read_shift(4);for(K.l=_e,ye=0;ye<je;++ye){K.l+=20;var be=K.read_shift(4),Ee=K.read_shift(4),He=K.read_shift(2),Ye=K.read_shift(2),nt=K.read_shift(2);K.l+=8;var Ge=K.read_shift(4),rt=o(K.slice(K.l+He,K.l+He+Ye));K.l+=He+Ye+nt;var kt=K.l;K.l=Ge+4,Qr(K,be,Ee,ie,rt),K.l=kt}return ie}function Qr(U,te,K,Y,re){U.l+=2;var ie=U.read_shift(2),ye=U.read_shift(2),je=s(U);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var _e=U.read_shift(4),be=U.read_shift(4),Ee=U.read_shift(4),He=U.read_shift(2),Ye=U.read_shift(2),nt="",Ge=0;Ge<He;++Ge)nt+=String.fromCharCode(U[U.l++]);if(Ye){var rt=o(U.slice(U.l,U.l+Ye));(rt[21589]||{}).mt&&(je=rt[21589].mt),((re||{})[21589]||{}).mt&&(je=re[21589].mt)}U.l+=Ye;var kt=U.slice(U.l,U.l+be);switch(ye){case 8:kt=R(U,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ye)}var _r=!1;ie&8&&(_e=U.read_shift(4),_e==134695760&&(_e=U.read_shift(4),_r=!0),be=U.read_shift(4),Ee=U.read_shift(4)),be!=te&&Lt(_r,"Bad compressed size: "+te+" != "+be),Ee!=K&&Lt(_r,"Bad uncompressed size: "+K+" != "+Ee),Jn(Y,nt,kt,{unsafe:!0,mt:je})}function ur(U,te){var K=te||{},Y=[],re=[],ie=Ce(1),ye=K.compression?8:0,je=0,_e=0,be=0,Ee=0,He=0,Ye=U.FullPaths[0],nt=Ye,Ge=U.FileIndex[0],rt=[],kt=0;for(_e=1;_e<U.FullPaths.length;++_e)if(nt=U.FullPaths[_e].slice(Ye.length),Ge=U.FileIndex[_e],!(!Ge.size||!Ge.content||nt=="Sh33tJ5")){var _r=Ee,Vt=Ce(nt.length);for(be=0;be<nt.length;++be)Vt.write_shift(1,nt.charCodeAt(be)&127);Vt=Vt.slice(0,Vt.l),rt[He]=LL.buf(Ge.content,0);var Wr=Ge.content;ye==8&&(Wr=F(Wr)),ie=Ce(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,je),ie.write_shift(2,ye),Ge.mt?a(ie,Ge.mt):ie.write_shift(4,0),ie.write_shift(-4,rt[He]),ie.write_shift(4,Wr.length),ie.write_shift(4,Ge.content.length),ie.write_shift(2,Vt.length),ie.write_shift(2,0),Ee+=ie.length,Y.push(ie),Ee+=Vt.length,Y.push(Vt),Ee+=Wr.length,Y.push(Wr),ie=Ce(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,je),ie.write_shift(2,ye),ie.write_shift(4,0),ie.write_shift(-4,rt[He]),ie.write_shift(4,Wr.length),ie.write_shift(4,Ge.content.length),ie.write_shift(2,Vt.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,_r),kt+=ie.l,re.push(ie),kt+=Vt.length,re.push(Vt),++He}return ie=Ce(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,He),ie.write_shift(2,He),ie.write_shift(4,kt),ie.write_shift(4,Ee),ie.write_shift(2,0),Hn([Hn(Y),Hn(re),ie])}var At={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rr(U,te){if(U.ctype)return U.ctype;var K=U.name||"",Y=K.match(/\.([^\.]+)$/);return Y&&At[Y[1]]||te&&(Y=(K=te).match(/[\.\\]([^\.\\])+$/),Y&&At[Y[1]])?At[Y[1]]:"application/octet-stream"}function Ns(U){for(var te=Mh(U),K=[],Y=0;Y<te.length;Y+=76)K.push(te.slice(Y,Y+76));return K.join(`\r
`)+`\r
`}function Tn(U){var te=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Ee=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});te=te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),te.charAt(0)==`
`&&(te="=0D"+te.slice(1)),te=te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],Y=te.split(`\r
`),re=0;re<Y.length;++re){var ie=Y[re];if(ie.length==0){K.push("");continue}for(var ye=0;ye<ie.length;){var je=76,_e=ie.slice(ye,ye+je);_e.charAt(je-1)=="="?je--:_e.charAt(je-2)=="="?je-=2:_e.charAt(je-3)=="="&&(je-=3),_e=ie.slice(ye,ye+je),ye+=je,ye<ie.length&&(_e+="="),K.push(_e)}}return K.join(`\r
`)}function ka(U){for(var te=[],K=0;K<U.length;++K){for(var Y=U[K];K<=U.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+U[++K];te.push(Y)}for(var re=0;re<te.length;++re)te[re]=te[re].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return Ha(te.join(`\r
`))}function la(U,te,K){for(var Y="",re="",ie="",ye,je=0;je<10;++je){var _e=te[je];if(!_e||_e.match(/^\s*$/))break;var be=_e.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":Y=be[2].trim();break;case"content-type":ie=be[2].trim();break;case"content-transfer-encoding":re=be[2].trim();break}}switch(++je,re.toLowerCase()){case"base64":ye=Ha(ro(te.slice(je).join("")));break;case"quoted-printable":ye=ka(te.slice(je));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+re)}var Ee=Jn(U,Y.slice(K.length),ye,{unsafe:!0});ie&&(Ee.ctype=ie)}function bt(U,te){if(me(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=te&&te.root||"",Y=(sr&&Buffer.isBuffer(U)?U.toString("binary"):me(U)).split(`\r
`),re=0,ie="";for(re=0;re<Y.length;++re)if(ie=Y[re],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),K||(K=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),ie.slice(0,K.length)!=K););var ye=(Y[1]||"").match(/boundary="(.*?)"/);if(!ye)throw new Error("MAD cannot find boundary");var je="--"+(ye[1]||""),_e=[],be=[],Ee={FileIndex:_e,FullPaths:be};C(Ee);var He,Ye=0;for(re=0;re<Y.length;++re){var nt=Y[re];nt!==je&&nt!==je+"--"||(Ye++&&la(Ee,Y.slice(He,re),K),He=re)}return Ee}function Ta(U,te){var K=te||{},Y=K.boundary||"SheetJS";Y="------="+Y;for(var re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],ie=U.FullPaths[0],ye=ie,je=U.FileIndex[0],_e=1;_e<U.FullPaths.length;++_e)if(ye=U.FullPaths[_e].slice(ie.length),je=U.FileIndex[_e],!(!je.size||!je.content||ye=="Sh33tJ5")){ye=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var be=je.content,Ee=sr&&Buffer.isBuffer(be)?be.toString("binary"):me(be),He=0,Ye=Math.min(1024,Ee.length),nt=0,Ge=0;Ge<=Ye;++Ge)(nt=Ee.charCodeAt(Ge))>=32&&nt<128&&++He;var rt=He>=Ye*4/5;re.push(Y),re.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+ye),re.push("Content-Transfer-Encoding: "+(rt?"quoted-printable":"base64")),re.push("Content-Type: "+rr(je,ye)),re.push(""),re.push(rt?Tn(Ee):Ns(Ee))}return re.push(Y+`--\r
`),re.join(`\r
`)}function ja(U){var te={};return C(te,U),te}function Jn(U,te,K,Y){var re=Y&&Y.unsafe;re||C(U);var ie=!re&&wr.find(U,te);if(!ie){var ye=U.FullPaths[0];te.slice(0,ye.length)==ye?ye=te:(ye.slice(-1)!="/"&&(ye+="/"),ye=(ye+te).replace("//","/")),ie={name:i(te),type:2},U.FileIndex.push(ie),U.FullPaths.push(ye),re||wr.utils.cfb_gc(U)}return ie.content=K,ie.size=K?K.length:0,Y&&(Y.CLSID&&(ie.clsid=Y.CLSID),Y.mt&&(ie.mt=Y.mt),Y.ct&&(ie.ct=Y.ct)),ie}function Ni(U,te){C(U);var K=wr.find(U,te);if(K){for(var Y=0;Y<U.FileIndex.length;++Y)if(U.FileIndex[Y]==K)return U.FileIndex.splice(Y,1),U.FullPaths.splice(Y,1),!0}return!1}function Rr(U,te,K){C(U);var Y=wr.find(U,te);if(Y){for(var re=0;re<U.FileIndex.length;++re)if(U.FileIndex[re]==Y)return U.FileIndex[re].name=i(K),U.FullPaths[re]=K,!0}return!1}function un(U){j(U,!0)}return t.find=T,t.read=V,t.parse=f,t.write=Te,t.writeFile=se,t.utils={cfb_new:ja,cfb_add:Jn,cfb_del:Ni,cfb_mov:Rr,cfb_gc:un,ReadShift:uh,CheckField:s6,prep_blob:Ji,bconcat:Hn,use_zlib:E,_deflateRaw:Nt,_inflateRaw:qt,consts:we},t}();function PL(e){return typeof e=="string"?yp(e):Array.isArray(e)?iL(e):e}function ld(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=yp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Uh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([PL(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=od(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Yn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function b_(e,t){for(var r=[],n=Yn(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function xv(e){for(var t=[],r=Yn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function bp(e){for(var t=[],r=Yn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function FL(e){for(var t=[],r=Yn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var P1=new Date(1899,11,30,0,0,0);function Ri(e,t){var r=e.getTime(),n=P1.getTime()+(e.getTimezoneOffset()-P1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var qS=new Date,OL=P1.getTime()+(qS.getTimezoneOffset()-P1.getTimezoneOffset())*6e4,S_=qS.getTimezoneOffset();function HS(e){var t=new Date;return t.setTime(e*24*60*60*1e3+OL),t.getTimezoneOffset()!==S_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-S_)*6e4),t}var N_=new Date("2017-02-19T19:06:09.000Z"),WS=isNaN(N_.getFullYear())?new Date("2/19/17"):N_,IL=WS.getFullYear()==2017;function _i(e,t){var r=new Date(e);if(IL)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(WS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Sp(e,t){if(sr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Di(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Di(e[r]));return t}function Jr(e,t){for(var r="";r.length<t;)r+=e;return r}function Xs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var RL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&RL.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function $t(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return sr?n=ao(r):n=aL(r),wr.utils.cfb_add(e,t,n)}wr.utils.cfb_add(e,t,r)}else e.file(t,r)}function vv(){return wr.utils.cfb_new()}var xn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yv=xv(DL),_v=/[&<>'"]/g,ML=/[\u0000-\u0008\u000b-\u001f]/g;function xr(e){var t=e+"";return t.replace(_v,function(r){return yv[r]}).replace(ML,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function A_(e){return xr(e).replace(/ /g,"_x0020_")}var VS=/[\u0000-\u001f]/g;function BL(e){var t=e+"";return t.replace(_v,function(r){return yv[r]}).replace(/\n/g,"<br/>").replace(VS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function UL(e){var t=e+"";return t.replace(_v,function(r){return yv[r]}).replace(VS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function zL(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function $L(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vm(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function E_(e){var t=ac(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function k_(e){return ao(e,"binary").toString("utf8")}var x0="foo bar baz",ch=sr&&(k_(x0)==Vm(x0)&&k_||E_(x0)==Vm(x0)&&E_)||Vm,Uh=sr?function(e){return ao(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},qL=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),GS=/(^\s|\s$|\n)/;function Wn(e,t){return"<"+e+(t.match(GS)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function zh(e){return Yn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Je(e,t,r){return"<"+e+(r!=null?zh(r):"")+(t!=null?(t.match(GS)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function B2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function HL(e,t){switch(typeof e){case"string":var r=Je("vt:lpwstr",xr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Je((e|0)==e?"vt:i4":"vt:r8",xr(String(e)));case"boolean":return Je("vt:bool",e?"true":"false")}if(e instanceof Date)return Je("vt:filetime",B2(e));throw new Error("Unable to serialize "+e)}var Pn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Gu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Zi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function WL(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function VL(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var T_=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},j_=sr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ao(t)})):T_(e)}:T_,C_=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Wf(e,i)));return n.join("").replace(lh,"")},wv=sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(lh,""):C_(e,t,r)}:C_,L_=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},KS=sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):L_(e,t,r)}:L_,P_=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Vc(e,i)));return n.join("")},cd=sr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):P_(t,r,n)}:P_,XS=function(e,t){var r=Qi(e,t);return r>0?cd(e,t+4,t+4+r-1):""},YS=XS,JS=function(e,t){var r=Qi(e,t);return r>0?cd(e,t+4,t+4+r-1):""},ZS=JS,QS=function(e,t){var r=2*Qi(e,t);return r>0?cd(e,t+4,t+4+r-1):""},e6=QS,t6=function(t,r){var n=Qi(t,r);return n>0?wv(t,r+4,r+4+n):""},r6=t6,n6=function(e,t){var r=Qi(e,t);return r>0?cd(e,t+4,t+4+r):""},i6=n6,a6=function(e,t){return WL(e,t)},F1=a6,bv=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};sr&&(YS=function(t,r){if(!Buffer.isBuffer(t))return XS(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},ZS=function(t,r){if(!Buffer.isBuffer(t))return JS(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},e6=function(t,r){if(!Buffer.isBuffer(t))return QS(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},r6=function(t,r){if(!Buffer.isBuffer(t))return t6(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},i6=function(t,r){if(!Buffer.isBuffer(t))return n6(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},F1=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):a6(t,r)},bv=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Vc=function(e,t){return e[t]},Wf=function(e,t){return e[t+1]*256+e[t]},GL=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Qi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ul=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},KL=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function uh(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Wf(this,u)),u+=2;e*=2;break;case"utf8":r=cd(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wv(this,this.l,this.l+e);break;case"wstr":return uh.call(this,e,"dbcs");case"lpstr-ansi":r=YS(this,this.l),e=4+Qi(this,this.l);break;case"lpstr-cp":r=ZS(this,this.l),e=4+Qi(this,this.l);break;case"lpwstr":r=e6(this,this.l),e=4+2*Qi(this,this.l);break;case"lpp4":e=4+Qi(this,this.l),r=r6(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Qi(this,this.l),r=i6(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Vc(this,this.l+e++))!==0;)a.push(p0(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Wf(this,this.l+e))!==0;)a.push(p0(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Vc(this,u),this.l=u+1,o=uh.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(p0(Wf(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Vc(this,u),this.l=u+1,o=uh.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(p0(Vc(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Vc(this,this.l),this.l++,n;case 2:return n=(t==="i"?GL:Wf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ul:KL)(this,this.l),this.l+=4,n):(i=Qi(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=F1(this,this.l):i=F1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=KS(this,this.l,e);break}}return this.l+=e,r}var XL=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},YL=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},JL=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ZL(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)JL(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,XL(this,t,this.l);break;case 8:if(n=8,r==="f"){VL(this,t,this.l);break}case 16:break;case-4:n=4,YL(this,t,this.l);break}return this.l+=n,this}function s6(e,t){var r=KS(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ji(e,t){e.l=t,e.read_shift=uh,e.chk=s6,e.write_shift=ZL}function bs(e,t){e.l+=t}function Ce(e){var t=ac(e);return Ji(t,0),t}function Ii(){var e=[],t=sr?256:2048,r=function(u){var f=Ce(u);return Ji(f,0),f},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Hn(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Me(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=WD[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&bv(r)&&e.push(r)}}function fh(e,t,r){var n=Di(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function F_(e,t,r){var n=Di(e);return n.s=fh(n.s,t.s,r),n.e=fh(n.e,t.s,r),n}function hh(e,t){if(e.cRel&&e.c<0)for(e=Di(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Di(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=yr(e);return!e.cRel&&e.cRel!=null&&(r=tP(r)),!e.rRel&&e.rRel!=null&&(r=QL(r)),r}function Gm(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+li(e.s.c)+":"+(e.e.cRel?"":"$")+li(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Kn(e.s.r)+":"+(e.e.rRel?"":"$")+Kn(e.e.r):hh(e.s,t.biff)+":"+hh(e.e,t.biff)}function Sv(e){return parseInt(eP(e),10)-1}function Kn(e){return""+(e+1)}function QL(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eP(e){return e.replace(/\$(\d+)$/,"$1")}function Nv(e){for(var t=rP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function li(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tP(e){return e.replace(/^([A-Z])/,"$$$1")}function rP(e){return e.replace(/^\$([A-Z])/,"$1")}function nP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Fn(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function yr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function aa(e){var t=e.indexOf(":");return t==-1?{s:Fn(e),e:Fn(e)}:{s:Fn(e.slice(0,t)),e:Fn(e.slice(t+1))}}function gn(e,t){return typeof t>"u"||typeof t=="number"?gn(e.s,e.e):(typeof e!="string"&&(e=yr(e)),typeof t!="string"&&(t=yr(t)),e==t?e:e+":"+t)}function Or(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function O_(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=rl(e.z,r?Ri(t):t)}catch{}try{return e.w=rl((e.XF||{}).numFmtId||(r?14:0),r?Ri(t):t)}catch{return""+t}}function no(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ud[e.v]||e.v:t==null?O_(e,e.v):O_(e,t))}function pc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function o6(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Fn(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=Or(a["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(u.e.r=s=f.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[p].length;++m)if(!(typeof t[p][m]>"u")){var h={v:t[p][m]},v=s+p,x=o+m;if(u.s.r>v&&(u.s.r=v),u.s.c>x&&(u.s.c=x),u.e.r<v&&(u.e.r=v),u.e.c<x&&(u.e.c=x),t[p][m]&&typeof t[p][m]=="object"&&!Array.isArray(t[p][m])&&!(t[p][m]instanceof Date))h=t[p][m];else if(Array.isArray(h.v)&&(h.f=t[p][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Zr[14],n.cellDates?(h.t="d",h.w=rl(h.z,Ri(h.v))):(h.t="n",h.v=Ri(h.v),h.w=rl(h.z,h.v))):h.t="s";if(i)a[v]||(a[v]=[]),a[v][x]&&a[v][x].z&&(h.z=a[v][x].z),a[v][x]=h;else{var S=yr({c:x,r:v});a[S]&&a[S].z&&(h.z=a[S].z),a[S]=h}}}return u.s.c<1e7&&(a["!ref"]=gn(u)),a}function Ku(e,t){return o6(null,e,t)}function iP(e){return e.read_shift(4,"i")}function Ka(e,t){return t||(t=Ce(4)),t.write_shift(4,e),t}function ci(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function On(e,t){var r=!1;return t==null&&(r=!0,t=Ce(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function aP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sP(e,t){return t||(t=Ce(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Av(e,t){var r=e.l,n=e.read_shift(1),i=ci(e),a=[],s={t:i,h:i};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(aP(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function oP(e,t){var r=!1;return t==null&&(r=!0,t=Ce(15+4*e.t.length)),t.write_shift(1,0),On(e.t,t),r?t.slice(0,t.l):t}var lP=Av;function cP(e,t){var r=!1;return t==null&&(r=!0,t=Ce(23+4*e.t.length)),t.write_shift(1,1),On(e.t,t),t.write_shift(4,1),sP({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Ea(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function mc(e,t){return t==null&&(t=Ce(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xc(e,t){return t==null&&(t=Ce(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var uP=ci,l6=On;function Ev(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function O1(e,t){var r=!1;return t==null&&(r=!0,t=Ce(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var fP=ci,U2=Ev,kv=O1;function c6(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?F1([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ul(t,0)>>2;return r?i/100:i}function u6(e,t){t==null&&(t=Ce(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function f6(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function hP(e,t){return t||(t=Ce(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var vc=f6,Xu=hP;function Yu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function sc(e,t){return(t||Ce(8)).write_shift(8,e,"f")}function dP(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=bP[i];u&&(t.rgb=W_(u));break;case 2:t.rgb=W_([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function I1(e,t){if(t||(t=Ce(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function pP(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function mP(e,t){t||(t=Ce(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var h6=2,Xi=3,v0=11,R1=19,y0=64,gP=65,xP=71,vP=4108,yP=4126,qn=80,I_={1:{n:"CodePage",t:h6},2:{n:"Category",t:qn},3:{n:"PresentationFormat",t:qn},4:{n:"ByteCount",t:Xi},5:{n:"LineCount",t:Xi},6:{n:"ParagraphCount",t:Xi},7:{n:"SlideCount",t:Xi},8:{n:"NoteCount",t:Xi},9:{n:"HiddenCount",t:Xi},10:{n:"MultimediaClipCount",t:Xi},11:{n:"ScaleCrop",t:v0},12:{n:"HeadingPairs",t:vP},13:{n:"TitlesOfParts",t:yP},14:{n:"Manager",t:qn},15:{n:"Company",t:qn},16:{n:"LinksUpToDate",t:v0},17:{n:"CharacterCount",t:Xi},19:{n:"SharedDoc",t:v0},22:{n:"HyperlinksChanged",t:v0},23:{n:"AppVersion",t:Xi,p:"version"},24:{n:"DigSig",t:gP},26:{n:"ContentType",t:qn},27:{n:"ContentStatus",t:qn},28:{n:"Language",t:qn},29:{n:"Version",t:qn},255:{},2147483648:{n:"Locale",t:R1},2147483651:{n:"Behavior",t:R1},1919054434:{}},R_={1:{n:"CodePage",t:h6},2:{n:"Title",t:qn},3:{n:"Subject",t:qn},4:{n:"Author",t:qn},5:{n:"Keywords",t:qn},6:{n:"Comments",t:qn},7:{n:"Template",t:qn},8:{n:"LastAuthor",t:qn},9:{n:"RevNumber",t:qn},10:{n:"EditTime",t:y0},11:{n:"LastPrinted",t:y0},12:{n:"CreatedDate",t:y0},13:{n:"ModifiedDate",t:y0},14:{n:"PageCount",t:Xi},15:{n:"WordCount",t:Xi},16:{n:"CharCount",t:Xi},17:{n:"Thumbnail",t:xP},18:{n:"Application",t:qn},19:{n:"DocSecurity",t:Xi},255:{},2147483648:{n:"Locale",t:R1},2147483651:{n:"Behavior",t:R1},1919054434:{}};function _P(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var wP=_P([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bP=Di(wP),ud={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},SP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},_0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function d6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p6(e,t){var r=FL(SP),n=[],i;n[n.length]=xn,n[n.length]=Je("Types",null,{xmlns:Pn.CT,"xmlns:xsd":Pn.xsd,"xmlns:xsi":Pn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Je("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=Je("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:_0[c][t.bookType]||_0[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Je("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:_0[c][t.bookType]||_0[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Je("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var nr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function m6(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function gu(e){var t=[xn,Je("Relationships",null,{xmlns:Pn.RELS})];return Yn(e["!id"]).forEach(function(r){t[t.length]=Je("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function mr(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[nr.HLINK,nr.XPATH,nr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function NP(e){var t=[xn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function D_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function AP(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function EP(e){var t=[xn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(D_(e[r][0],e[r][1])),t.push(AP("",e[r][0]));return t.push(D_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function g6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+T1.version+"</meta:generator></office:meta></office:document-meta>"}var Jl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Km(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=xr(t),n[n.length]=r?Je(e,t,r):Wn(e,t))}function x6(e,t){var r=t||{},n=[xn,Je("cp:coreProperties",null,{"xmlns:cp":Pn.CORE_PROPS,"xmlns:dc":Pn.dc,"xmlns:dcterms":Pn.dcterms,"xmlns:dcmitype":Pn.dcmitype,"xmlns:xsi":Pn.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Km("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:B2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&Km("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:B2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Jl.length;++a){var s=Jl[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Km(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var xu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],v6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function y6(e){var t=[],r=Je;return e||(e={}),e.Application="SheetJS",t[t.length]=xn,t[t.length]=Je("Properties",null,{xmlns:Pn.EXT_PROPS,"xmlns:vt":Pn.vt}),xu.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=xr(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+xr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function _6(e){var t=[xn,Je("Properties",null,{xmlns:Pn.CUST_PROPS,"xmlns:vt":Pn.vt})];if(!e)return t.join("");var r=1;return Yn(e).forEach(function(i){++r,t[t.length]=Je("property",HL(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:xr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var M_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function kP(e,t){var r=[];return Yn(M_).map(function(n){for(var i=0;i<Jl.length;++i)if(Jl[i][1]==n)return Jl[i];for(i=0;i<xu.length;++i)if(xu[i][1]==n)return xu[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Wn(M_[n[1]]||n[1],i))}}),Je("DocumentProperties",r.join(""),{xmlns:Zi.o})}function TP(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Yn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<Jl.length;++s)if(a==Jl[s][1])return;for(s=0;s<xu.length;++s)if(a==xu[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(Je(A_(a),o,{"dt:dt":c}))}}),t&&Yn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Je(A_(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Zi.o+'">'+i.join("")+"</"+n+">"}function jP(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=Ce(8);return s.write_shift(4,n),s.write_shift(4,i),s}function B_(e,t){var r=Ce(4),n=Ce(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ce(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=jP(t);break;case 31:case 80:for(n=Ce(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Hn([r,n])}var w6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function CP(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function U_(e,t,r){var n=Ce(8),i=[],a=[],s=8,o=0,c=Ce(8),u=Ce(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),s+=8+c.length,!t){u=Ce(8),u.write_shift(4,0),i.unshift(u);var f=[Ce(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var p=e[o][0];for(c=Ce(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Hn(f),a.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(w6.indexOf(e[o][0])>-1||v6.indexOf(e[o][0])>-1)&&e[o][1]!=null){var m=e[o][1],h=0;if(t){h=+t[e[o][0]];var v=r[h];if(v.p=="version"&&typeof m=="string"){var x=m.split(".");m=(+x[0]<<16)+(+x[1]||0)}c=B_(v.t,m)}else{var S=CP(m);S==-1&&(S=31,m=String(m)),c=B_(S,m)}a.push(c),u=Ce(8),u.write_shift(4,t?h:2+o),i.push(u),s+=8+c.length}var y=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,y),y+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),Hn([n].concat(i).concat(a))}function z_(e,t,r,n,i,a){var s=Ce(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,wr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var c=U_(e,r,n);if(o.push(c),i){var u=U_(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Hn(o)}function LP(e,t){t||(t=Ce(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function PP(e,t){return e.read_shift(t)===1}function xi(e,t){return t||(t=Ce(2)),t.write_shift(2,+!!e),t}function b6(e){return e.read_shift(2,"u")}function ga(e,t){return t||(t=Ce(2)),t.write_shift(2,e),t}function S6(e,t,r){return r||(r=Ce(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function N6(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function FP(e){var t=e.t||"",r=Ce(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ce(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Hn(i)}function OP(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function IP(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):OP(e,n,r)}function RP(e,t,r){if(r.biff>5)return IP(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function A6(e,t,r){return r||(r=Ce(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function $_(e,t){t||(t=Ce(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function DP(e){var t=Ce(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),$_(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&$_(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function oc(e,t,r,n){return n||(n=Ce(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function MP(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function BP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function E6(e,t){return t||(t=Ce(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Tv(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ce(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function UP(e,t){var r=!t||t.biff==8,n=Ce(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function zP(e,t){var r=!t||t.biff>=8?2:1,n=Ce(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function $P(e,t){var r=Ce(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=FP(e[i]);var a=Hn([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function qP(){var e=Ce(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function HP(e){var t=Ce(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function WP(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=Ce(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function VP(e,t,r,n){var i=Ce(10);return oc(e,t,n,i),i.write_shift(4,r),i}function GP(e,t,r,n,i){var a=!i||i.biff==8,s=Ce(8+ +a+(1+a)*r.length);return oc(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function KP(e,t,r,n){var i=r&&r.biff==5;n||(n=Ce(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function XP(e,t){var r=t.biff==8||!t.biff?4:2,n=Ce(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function q_(e,t,r,n){var i=r&&r.biff==5;n||(n=Ce(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function YP(e){var t=Ce(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function JP(e,t,r,n,i,a){var s=Ce(8);return oc(e,t,n,s),S6(r,a,s),s}function ZP(e,t,r,n){var i=Ce(14);return oc(e,t,n,i),sc(r,i),i}function QP(e,t,r){if(r.biff<8)return eF(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(MP(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function eF(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=N6(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function tF(e){var t=Ce(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)E6(e[r],t);return t}function rF(e){var t=Ce(24),r=Fn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Hn([t,DP(e[1])])}function nF(e){var t=e[1].Tooltip,r=Ce(10+2*(t.length+1));r.write_shift(2,2048);var n=Fn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function iF(e){return e||(e=Ce(4)),e.write_shift(2,1),e.write_shift(2,1),e}function aF(e,t,r){if(!r.cellStyles)return bs(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function sF(e,t){var r=Ce(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oF(e){for(var t=Ce(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function lF(e,t,r){var n=Ce(15);return hd(n,e,t),n.write_shift(8,r,"f"),n}function cF(e,t,r){var n=Ce(9);return hd(n,e,t),n.write_shift(2,r),n}var uF=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],f=ac(1);switch(c.type){case"base64":f=Ha(ro(o));break;case"binary":f=Ha(o);break;case"buffer":case"array":f=o;break}Ji(f,0);var p=f.read_shift(1),m=!!(p&136),h=!1,v=!1;switch(p){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,S=521;p==2&&(x=f.read_shift(2)),f.l+=3,p!=2&&(x=f.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(S=f.read_shift(2));var y=f.read_shift(2),w=c.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(w=e[f[f.l]]),f.l+=1,f.l+=2),v&&(f.l+=36);for(var _=[],A={},H=Math.min(f.length,p==2?521:S-10-(h?264:0)),V=v?32:11;f.l<H&&f[f.l]!=13;)switch(A={},A.name=Bl.utils.decode(w,f.slice(f.l,f.l+V)).replace(/[\u0000\r\n].*$/g,""),f.l+=V,A.type=String.fromCharCode(f.read_shift(1)),p!=2&&!v&&(A.offset=f.read_shift(4)),A.len=f.read_shift(1),p==2&&(A.offset=f.read_shift(2)),A.dec=f.read_shift(1),A.name.length&&_.push(A),p!=2&&(f.l+=v?13:14),A.type){case"B":(!h||A.len!=8)&&c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(f[f.l]!==13&&(f.l=S-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=S;var C=0,L=0;for(u[0]=[],L=0;L!=_.length;++L)u[0][L]=_[L].name;for(;x-- >0;){if(f[f.l]===42){f.l+=y;continue}for(++f.l,u[++C]=[],L=0,L=0;L!=_.length;++L){var j=f.slice(f.l,f.l+_[L].len);f.l+=_[L].len,Ji(j,0);var M=Bl.utils.decode(w,j);switch(_[L].type){case"C":M.trim().length&&(u[C][L]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[C][L]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[C][L]=M;break;case"F":u[C][L]=parseFloat(M.trim());break;case"+":case"I":u[C][L]=v?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[C][L]=!0;break;case"N":case"F":u[C][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[C][L]="##MEMO##"+(v?parseInt(M.trim(),10):j.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[C][L]=+M||0);break;case"@":u[C][L]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":u[C][L]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":u[C][L]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[C][L]=-j.read_shift(-8,"f");break;case"B":if(h&&_[L].len==8){u[C][L]=j.read_shift(8,"f");break}case"G":case"P":j.l+=_[L].len;break;case"0":if(_[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[L].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Ku(r(o,u),u);return f["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,f}function i(o,c){try{return pc(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Dh(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ii(),p=z1(o,{header:1,raw:!0,cellDates:!0}),m=p[0],h=p.slice(1),v=o["!cols"]||[],x=0,S=0,y=0,w=1;for(x=0;x<m.length;++x){if(((v[x]||{}).DBF||{}).name){m[x]=v[x].DBF.name,++y;continue}if(m[x]!=null){if(++y,typeof m[x]=="number"&&(m[x]=m[x].toString(10)),typeof m[x]!="string")throw new Error("DBF Invalid column name "+m[x]+" |"+typeof m[x]+"|");if(m.indexOf(m[x])!==x){for(S=0;S<1024;++S)if(m.indexOf(m[x]+"_"+S)==-1){m[x]+="_"+S;break}}}}var _=Or(o["!ref"]),A=[],H=[],V=[];for(x=0;x<=_.e.c-_.s.c;++x){var C="",L="",j=0,M=[];for(S=0;S<h.length;++S)h[S][x]!=null&&M.push(h[S][x]);if(M.length==0||m[x]==null){A[x]="?";continue}for(S=0;S<M.length;++S){switch(typeof M[S]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=M[S]instanceof Date?"D":"C";break;default:L="C"}j=Math.max(j,String(M[S]).length),C=C&&C!=L?"C":L}j>250&&(j=250),L=((v[x]||{}).DBF||{}).type,L=="C"&&v[x].DBF.len>j&&(j=v[x].DBF.len),C=="B"&&L=="N"&&(C="N",V[x]=v[x].DBF.dec,j=v[x].DBF.len),H[x]=C=="C"||L=="N"?j:a[C]||0,w+=H[x],A[x]=C}var T=f.next(32);for(T.write_shift(4,318902576),T.write_shift(4,h.length),T.write_shift(2,296+32*y),T.write_shift(2,w),x=0;x<4;++x)T.write_shift(4,0);for(T.write_shift(4,0|(+t[TS]||3)<<8),x=0,S=0;x<m.length;++x)if(m[x]!=null){var P=f.next(32),D=(m[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,D,"sbcs"),P.write_shift(1,A[x]=="?"?"C":A[x],"sbcs"),P.write_shift(4,S),P.write_shift(1,H[x]||a[A[x]]||0),P.write_shift(1,V[x]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),S+=H[x]||a[A[x]]||0}var G=f.next(264);for(G.write_shift(4,13),x=0;x<65;++x)G.write_shift(4,0);for(x=0;x<h.length;++x){var oe=f.next(w);for(oe.write_shift(1,0),S=0;S<m.length;++S)if(m[S]!=null)switch(A[S]){case"L":oe.write_shift(1,h[x][S]==null?63:h[x][S]?84:70);break;case"B":oe.write_shift(8,h[x][S]||0,"f");break;case"N":var ve="0";for(typeof h[x][S]=="number"&&(ve=h[x][S].toFixed(V[S]||0)),y=0;y<H[S]-ve.length;++y)oe.write_shift(1,32);oe.write_shift(1,ve,"sbcs");break;case"D":h[x][S]?(oe.write_shift(4,("0000"+h[x][S].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(h[x][S].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+h[x][S].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var we=String(h[x][S]!=null?h[x][S]:"").slice(0,H[S]);for(oe.write_shift(1,we,"sbcs"),y=0;y<H[S]-we.length;++y)oe.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),fF=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Yn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var v=e[h];return typeof v=="number"?d_(v):v},n=function(m,h,v){var x=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return x==59?m:d_(x)};e["|"]=254;function i(m,h){switch(h.type){case"base64":return a(ro(m),h);case"binary":return a(m,h);case"buffer":return a(sr&&Buffer.isBuffer(m)?m.toString("binary"):od(m),h);case"array":return a(Sp(m),h)}throw new Error("Unrecognized type "+h.type)}function a(m,h){var v=m.split(/[\n\r]+/),x=-1,S=-1,y=0,w=0,_=[],A=[],H=null,V={},C=[],L=[],j=[],M=0,T;for(+h.codepage>=0&&Dh(+h.codepage);y!==v.length;++y){M=0;var P=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=P.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),G=D[0],oe;if(P.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&A.push(P.slice(3).replace(/;;/g,";"));break;case"C":var ve=!1,we=!1,se=!1,me=!1,Te=-1,ke=-1;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"A":break;case"X":S=parseInt(D[w].slice(1))-1,we=!0;break;case"Y":for(x=parseInt(D[w].slice(1))-1,we||(S=0),T=_.length;T<=x;++T)_[T]=[];break;case"K":oe=D[w].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(Xs(oe))?isNaN(Bh(oe).getDate())||(oe=_i(oe)):(oe=Xs(oe),H!==null&&US(H)&&(oe=HS(oe))),ve=!0;break;case"E":me=!0;var E=cO(D[w].slice(1),{r:x,c:S});_[x][S]=[_[x][S],E];break;case"S":se=!0,_[x][S]=[_[x][S],"S5S"];break;case"G":break;case"R":Te=parseInt(D[w].slice(1))-1;break;case"C":ke=parseInt(D[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}if(ve&&(_[x][S]&&_[x][S].length==2?_[x][S][0]=oe:_[x][S]=oe,H=null),se){if(me)throw new Error("SYLK shared formula cannot have own formula");var R=Te>-1&&_[Te][ke];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");_[x][S][1]=uO(R[1],{r:x-Te,c:S-ke})}break;case"F":var F=0;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"X":S=parseInt(D[w].slice(1))-1,++F;break;case"Y":for(x=parseInt(D[w].slice(1))-1,T=_.length;T<=x;++T)_[T]=[];break;case"M":M=parseInt(D[w].slice(1))/20;break;case"F":break;case"G":break;case"P":H=A[parseInt(D[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=D[w].slice(1).split(" "),T=parseInt(j[0],10);T<=parseInt(j[1],10);++T)M=parseInt(j[2],10),L[T-1]=M===0?{hidden:!0}:{wch:M},jv(L[T-1]);break;case"C":S=parseInt(D[w].slice(1))-1,L[S]||(L[S]={});break;case"R":x=parseInt(D[w].slice(1))-1,C[x]||(C[x]={}),M>0?(C[x].hpt=M,C[x].hpx=L6(M)):M===0&&(C[x].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}F<1&&(H=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}}return C.length>0&&(V["!rows"]=C),L.length>0&&(V["!cols"]=L),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,V]}function s(m,h){var v=i(m,h),x=v[0],S=v[1],y=Ku(x,h);return Yn(S).forEach(function(w){y[w]=S[w]}),y}function o(m,h){return pc(s(m,h),h)}function c(m,h,v,x){var S="C;Y"+(v+1)+";X"+(x+1)+";K";switch(m.t){case"n":S+=m.v||0,m.f&&!m.F&&(S+=";E"+Lv(m.f,{r:v,c:x}));break;case"b":S+=m.v?"TRUE":"FALSE";break;case"e":S+=m.w||m.v;break;case"d":S+='"'+(m.w||m.v)+'"';break;case"s":S+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(m,h){h.forEach(function(v,x){var S="F;W"+(x+1)+" "+(x+1)+" ";v.hidden?S+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=D1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=M1(v.wpx)),typeof v.wch=="number"&&(S+=Math.round(v.wch))),S.charAt(S.length-1)!=" "&&m.push(S)})}function f(m,h){h.forEach(function(v,x){var S="F;";v.hidden?S+="M0;":v.hpt?S+="M"+20*v.hpt+";":v.hpx&&(S+="M"+20*B1(v.hpx)+";"),S.length>2&&m.push(S+"R"+(x+1))})}function p(m,h){var v=["ID;PWXL;N;E"],x=[],S=Or(m["!ref"]),y,w=Array.isArray(m),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&u(v,m["!cols"]),m["!rows"]&&f(v,m["!rows"]),v.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var A=S.s.r;A<=S.e.r;++A)for(var H=S.s.c;H<=S.e.c;++H){var V=yr({r:A,c:H});y=w?(m[A]||[])[H]:m[V],!(!y||y.v==null&&(!y.f||y.F))&&x.push(c(y,m,A,H))}return v.join(_)+_+x.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:p}}(),hF=function(){function e(a,s){switch(s.type){case"base64":return t(ro(a),s);case"binary":return t(a,s);case"buffer":return t(sr&&Buffer.isBuffer(a)?a.toString("binary"):od(a),s);case"array":return t(Sp(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,f=0,p=[];f!==o.length;++f){if(o[f].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var m=o[f].trim().split(","),h=m[0],v=m[1];++f;for(var x=o[f]||"";(x.match(/["]/g)||[]).length&1&&f<o.length-1;)x+=`
`+o[++f];switch(x=x.trim(),+h){case-1:if(x==="BOT"){p[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[c][u]=!0:x==="FALSE"?p[c][u]=!1:isNaN(Xs(v))?isNaN(Bh(v).getDate())?p[c][u]=v:p[c][u]=_i(v):p[c][u]=Xs(v),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function r(a,s){return Ku(e(a,s),s)}function n(a,s){return pc(r(a,s),s)}var i=function(){var a=function(c,u,f,p,m){c.push(u),c.push(f+","+p),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,f,p){c.push(u+","+f),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],f=Or(c["!ref"]),p,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,f.e.r-f.s.r+1,""),a(u,"TUPLES",0,f.e.c-f.s.c+1,""),a(u,"DATA",0,0,"");for(var h=f.s.r;h<=f.e.r;++h){s(u,-1,0,"BOT");for(var v=f.s.c;v<=f.e.c;++v){var x=yr({r:h,c:v});if(p=m?(c[h]||[])[v]:c[x],!p){s(u,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?s(u,1,0,"="+p.f):s(u,1,0,""):s(u,0,S,"V");break;case"b":s(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=rl(p.z||Zr[14],Ri(_i(p.v)))),s(u,0,p.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var y=`\r
`,w=u.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),k6=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,m){for(var h=p.split(`
`),v=-1,x=-1,S=0,y=[];S!==h.length;++S){var w=h[S].trim().split(":");if(w[0]==="cell"){var _=Fn(w[1]);if(y.length<=_.r)for(v=y.length;v<=_.r;++v)y[v]||(y[v]=[]);switch(v=_.r,x=_.c,w[2]){case"t":y[v][x]=e(w[3]);break;case"v":y[v][x]=+w[3];break;case"vtf":var A=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[v][x]=!!+w[4];break;default:y[v][x]=+w[4];break}w[2]=="vtf"&&(y[v][x]=[y[v][x],A])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(p,m){return Ku(r(p,m),m)}function i(p,m){return pc(n(p,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var m=[],h=[],v,x="",S=aa(p["!ref"]),y=Array.isArray(p),w=S.s.r;w<=S.e.r;++w)for(var _=S.s.c;_<=S.e.c;++_)if(x=yr({r:w,c:_}),v=y?(p[w]||[])[_]:p[x],!(!v||v.v==null||v.t==="z")){switch(h=["cell",x,"t"],v.t){case"s":case"str":h.push(t(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=t(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var A=Ri(_i(v.v));h[2]="vtc",h[3]="nd",h[4]=""+A,h[5]=v.w||rl(v.z||Zr[14],A);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(p){return[a,s,o,s,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),dF=function(){function e(f,p,m,h,v){v.raw?p[m][h]=f:f===""||(f==="TRUE"?p[m][h]=!0:f==="FALSE"?p[m][h]=!1:isNaN(Xs(f))?isNaN(Bh(f).getDate())?p[m][h]=f:p[m][h]=_i(f):p[m][h]=Xs(f))}function t(f,p){var m=p||{},h=[];if(!f||f.length===0)return h;for(var v=f.split(/[\r\n]/),x=v.length-1;x>=0&&v[x].length===0;)--x;for(var S=10,y=0,w=0;w<=x;++w)y=v[w].indexOf(" "),y==-1?y=v[w].length:y++,S=Math.max(S,y);for(w=0;w<=x;++w){h[w]=[];var _=0;for(e(v[w].slice(0,S).trim(),h,w,_,m),_=1;_<=(v[w].length-S)/10+1;++_)e(v[w].slice(S+(_-1)*10,S+_*10).trim(),h,w,_,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var p={},m=!1,h=0,v=0;h<f.length;++h)(v=f.charCodeAt(h))==34?m=!m:!m&&v in r&&(p[v]=(p[v]||0)+1);v=[];for(h in p)Object.prototype.hasOwnProperty.call(p,h)&&v.push([p[h],h]);if(!v.length){p=n;for(h in p)Object.prototype.hasOwnProperty.call(p,h)&&v.push([p[h],h])}return v.sort(function(x,S){return x[0]-S[0]||n[x[1]]-n[S[1]]}),r[v.pop()[1]]||44}function a(f,p){var m=p||{},h="",v=m.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(h=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(h=f.charAt(4),f=f.slice(6)):h=i(f.slice(0,1024)):m&&m.FS?h=m.FS:h=i(f.slice(0,1024));var S=0,y=0,w=0,_=0,A=0,H=h.charCodeAt(0),V=!1,C=0,L=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var j=m.dateNF!=null?jL(m.dateNF):null;function M(){var T=f.slice(_,A),P={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)P.t="z";else if(m.raw)P.t="s",P.v=T;else if(T.trim().length===0)P.t="s",P.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(P.t="s",P.v=T.slice(2,-1).replace(/""/g,'"')):fO(T)?(P.t="n",P.f=T.slice(1)):(P.t="s",P.v=T);else if(T=="TRUE")P.t="b",P.v=!0;else if(T=="FALSE")P.t="b",P.v=!1;else if(!isNaN(w=Xs(T)))P.t="n",m.cellText!==!1&&(P.w=T),P.v=w;else if(!isNaN(Bh(T).getDate())||j&&T.match(j)){P.z=m.dateNF||Zr[14];var D=0;j&&T.match(j)&&(T=CL(T,m.dateNF,T.match(j)||[]),D=1),m.cellDates?(P.t="d",P.v=_i(T,D)):(P.t="n",P.v=Ri(_i(T,D))),m.cellText!==!1&&(P.w=rl(P.z,P.v instanceof Date?Ri(P.v):P.v)),m.cellNF||delete P.z}else P.t="s",P.v=T;if(P.t=="z"||(m.dense?(v[S]||(v[S]=[]),v[S][y]=P):v[yr({c:y,r:S})]=P),_=A+1,L=f.charCodeAt(_),x.e.c<y&&(x.e.c=y),x.e.r<S&&(x.e.r=S),C==H)++y;else if(y=0,++S,m.sheetRows&&m.sheetRows<=S)return!0}e:for(;A<f.length;++A)switch(C=f.charCodeAt(A)){case 34:L===34&&(V=!V);break;case H:case 10:case 13:if(!V&&M())break e;break}return A-_>0&&M(),v["!ref"]=gn(x),v}function s(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,p):Ku(t(f,p),p)}function o(f,p){var m="",h=p.type=="string"?[0,0,0,0]:A9(f,p);switch(p.type){case"base64":m=ro(f);break;case"binary":m=f;break;case"buffer":p.codepage==65001?m=f.toString("utf8"):p.codepage&&typeof Bl<"u"?m=Bl.utils.decode(p.codepage,f):m=sr&&Buffer.isBuffer(f)?f.toString("binary"):od(f);break;case"array":m=Sp(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+p.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=ch(m.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?m=ch(m):p.type=="binary"&&typeof Bl<"u"&&p.codepage&&(m=Bl.utils.decode(p.codepage,Bl.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?k6.to_sheet(p.type=="string"?m:ch(m),p):s(m,p)}function c(f,p){return pc(o(f,p),p)}function u(f){for(var p=[],m=Or(f["!ref"]),h,v=Array.isArray(f),x=m.s.r;x<=m.e.r;++x){for(var S=[],y=m.s.c;y<=m.e.c;++y){var w=yr({r:x,c:y});if(h=v?(f[x]||[])[y]:f[w],!h||h.v==null){S.push("          ");continue}for(var _=(h.w||(no(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";S.push(_+(y===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),H_=function(){function e(E,R,F){if(E){Ji(E,E.l||0);for(var B=F.Enum||Te;E.l<E.length;){var J=E.read_shift(2),le=B[J]||B[65535],he=E.read_shift(2),fe=E.l+he,de=le.f&&le.f(E,he,F);if(E.l=fe,R(de,le,J))return}}}function t(E,R){switch(R.type){case"base64":return r(Ha(ro(E)),R);case"binary":return r(Ha(E),R);case"buffer":case"array":return r(E,R)}throw"Unsupported type "+R.type}function r(E,R){if(!E)return E;var F=R||{},B=F.dense?[]:{},J="Sheet1",le="",he=0,fe={},de=[],Fe=[],Be={s:{r:0,c:0},e:{r:0,c:0}},Xe=F.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)F.Enum=Te,e(E,function(Ue,st,qe){switch(qe){case 0:F.vers=Ue,Ue>=4096&&(F.qpro=!0);break;case 6:Be=Ue;break;case 204:Ue&&(le=Ue);break;case 222:le=Ue;break;case 15:case 51:F.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:qe==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=F.dateNF||Zr[14],F.cellDates&&(Ue[1].t="d",Ue[1].v=HS(Ue[1].v))),F.qpro&&Ue[3]>he&&(B["!ref"]=gn(Be),fe[J]=B,de.push(J),B=F.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},he=Ue[3],J=le||"Sheet"+(he+1),le="");var lt=F.dense?(B[Ue[0].r]||[])[Ue[0].c]:B[yr(Ue[0])];if(lt){lt.t=Ue[1].t,lt.v=Ue[1].v,Ue[1].z!=null&&(lt.z=Ue[1].z),Ue[1].f!=null&&(lt.f=Ue[1].f);break}F.dense?(B[Ue[0].r]||(B[Ue[0].r]=[]),B[Ue[0].r][Ue[0].c]=Ue[1]):B[yr(Ue[0])]=Ue[1];break}},F);else if(E[2]==26||E[2]==14)F.Enum=ke,E[2]==14&&(F.qpro=!0,E.l=0),e(E,function(Ue,st,qe){switch(qe){case 204:J=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>he&&(B["!ref"]=gn(Be),fe[J]=B,de.push(J),B=F.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},he=Ue[3],J="Sheet"+(he+1)),Xe>0&&Ue[0].r>=Xe)break;F.dense?(B[Ue[0].r]||(B[Ue[0].r]=[]),B[Ue[0].r][Ue[0].c]=Ue[1]):B[yr(Ue[0])]=Ue[1],Be.e.c<Ue[0].c&&(Be.e.c=Ue[0].c),Be.e.r<Ue[0].r&&(Be.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(Fe[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:Fe[Ue[0]]=Ue[1],Ue[0]==he&&(J=Ue[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(B["!ref"]=gn(Be),fe[le||J]=B,de.push(le||J),!Fe.length)return{SheetNames:de,Sheets:fe};for(var Se={},ae=[],pt=0;pt<Fe.length;++pt)fe[de[pt]]?(ae.push(Fe[pt]||de[pt]),Se[Fe[pt]]=fe[Fe[pt]]||fe[de[pt]]):(ae.push(Fe[pt]),Se[Fe[pt]]={"!ref":"A1"});return{SheetNames:ae,Sheets:Se}}function n(E,R){var F=R||{};if(+F.codepage>=0&&Dh(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var B=Ii(),J=Or(E["!ref"]),le=Array.isArray(E),he=[];Ze(B,0,a(1030)),Ze(B,6,c(J));for(var fe=Math.min(J.e.r,8191),de=J.s.r;de<=fe;++de)for(var Fe=Kn(de),Be=J.s.c;Be<=J.e.c;++Be){de===J.s.r&&(he[Be]=li(Be));var Xe=he[Be]+Fe,Se=le?(E[de]||[])[Be]:E[Xe];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?Ze(B,13,h(de,Be,Se.v)):Ze(B,14,x(de,Be,Se.v));else{var ae=no(Se);Ze(B,15,p(de,Be,ae.slice(0,239)))}}return Ze(B,1),B.end()}function i(E,R){var F=R||{};if(+F.codepage>=0&&Dh(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var B=Ii();Ze(B,0,s(E));for(var J=0,le=0;J<E.SheetNames.length;++J)(E.Sheets[E.SheetNames[J]]||{})["!ref"]&&Ze(B,27,me(E.SheetNames[J],le++));var he=0;for(J=0;J<E.SheetNames.length;++J){var fe=E.Sheets[E.SheetNames[J]];if(!(!fe||!fe["!ref"])){for(var de=Or(fe["!ref"]),Fe=Array.isArray(fe),Be=[],Xe=Math.min(de.e.r,8191),Se=de.s.r;Se<=Xe;++Se)for(var ae=Kn(Se),pt=de.s.c;pt<=de.e.c;++pt){Se===de.s.r&&(Be[pt]=li(pt));var Ue=Be[pt]+ae,st=Fe?(fe[Se]||[])[pt]:fe[Ue];if(!(!st||st.t=="z"))if(st.t=="n")Ze(B,23,M(Se,pt,he,st.v));else{var qe=no(st);Ze(B,22,C(Se,pt,he,qe.slice(0,239)))}}++he}}return Ze(B,1),B.end()}function a(E){var R=Ce(2);return R.write_shift(2,E),R}function s(E){var R=Ce(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var F=0,B=0,J=0,le=0;le<E.SheetNames.length;++le){var he=E.SheetNames[le],fe=E.Sheets[he];if(!(!fe||!fe["!ref"])){++J;var de=aa(fe["!ref"]);F<de.e.r&&(F=de.e.r),B<de.e.c&&(B=de.e.c)}}return F>8191&&(F=8191),R.write_shift(2,F),R.write_shift(1,J),R.write_shift(1,B),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(E,R,F){var B={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&F.qpro?(B.s.c=E.read_shift(1),E.l++,B.s.r=E.read_shift(2),B.e.c=E.read_shift(1),E.l++,B.e.r=E.read_shift(2),B):(B.s.c=E.read_shift(2),B.s.r=E.read_shift(2),R==12&&F.qpro&&(E.l+=2),B.e.c=E.read_shift(2),B.e.r=E.read_shift(2),R==12&&F.qpro&&(E.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(E){var R=Ce(8);return R.write_shift(2,E.s.c),R.write_shift(2,E.s.r),R.write_shift(2,E.e.c),R.write_shift(2,E.e.r),R}function u(E,R,F){var B=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(B[0].c=E.read_shift(1),B[3]=E.read_shift(1),B[0].r=E.read_shift(2),E.l+=2):(B[2]=E.read_shift(1),B[0].c=E.read_shift(2),B[0].r=E.read_shift(2)),B}function f(E,R,F){var B=E.l+R,J=u(E,R,F);if(J[1].t="s",F.vers==20768){E.l++;var le=E.read_shift(1);return J[1].v=E.read_shift(le,"utf8"),J}return F.qpro&&E.l++,J[1].v=E.read_shift(B-E.l,"cstr"),J}function p(E,R,F){var B=Ce(7+F.length);B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,E),B.write_shift(1,39);for(var J=0;J<B.length;++J){var le=F.charCodeAt(J);B.write_shift(1,le>=128?95:le)}return B.write_shift(1,0),B}function m(E,R,F){var B=u(E,R,F);return B[1].v=E.read_shift(2,"i"),B}function h(E,R,F){var B=Ce(7);return B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,E),B.write_shift(2,F,"i"),B}function v(E,R,F){var B=u(E,R,F);return B[1].v=E.read_shift(8,"f"),B}function x(E,R,F){var B=Ce(13);return B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,E),B.write_shift(8,F,"f"),B}function S(E,R,F){var B=E.l+R,J=u(E,R,F);if(J[1].v=E.read_shift(8,"f"),F.qpro)E.l=B;else{var le=E.read_shift(2);A(E.slice(E.l,E.l+le),J),E.l+=le}return J}function y(E,R,F){var B=R&32768;return R&=-32769,R=(B?E:0)+(R>=8192?R-16384:R),(B?"":"$")+(F?li(R):Kn(R))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(E,R){Ji(E,0);for(var F=[],B=0,J="",le="",he="",fe="";E.l<E.length;){var de=E[E.l++];switch(de){case 0:F.push(E.read_shift(8,"f"));break;case 1:le=y(R[0].c,E.read_shift(2),!0),J=y(R[0].r,E.read_shift(2),!1),F.push(le+J);break;case 2:{var Fe=y(R[0].c,E.read_shift(2),!0),Be=y(R[0].r,E.read_shift(2),!1);le=y(R[0].c,E.read_shift(2),!0),J=y(R[0].r,E.read_shift(2),!1),F.push(Fe+Be+":"+le+J)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(E.read_shift(2));break;case 6:{for(var Xe="";de=E[E.l++];)Xe+=String.fromCharCode(de);F.push('"'+Xe.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:fe=F.pop(),he=F.pop(),F.push(["AND","OR"][de-20]+"("+he+","+fe+")");break;default:if(de<32&&_[de])fe=F.pop(),he=F.pop(),F.push(he+_[de]+fe);else if(w[de]){if(B=w[de][1],B==69&&(B=E[E.l++]),B>F.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+F.join("|")+"|");return}var Se=F.slice(-B);F.length-=B,F.push(w[de][0]+"("+Se.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}F.length==1?R[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function H(E){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=E.read_shift(2),R[3]=E[E.l++],R[0].c=E[E.l++],R}function V(E,R){var F=H(E);return F[1].t="s",F[1].v=E.read_shift(R-4,"cstr"),F}function C(E,R,F,B){var J=Ce(6+B.length);J.write_shift(2,E),J.write_shift(1,F),J.write_shift(1,R),J.write_shift(1,39);for(var le=0;le<B.length;++le){var he=B.charCodeAt(le);J.write_shift(1,he>=128?95:he)}return J.write_shift(1,0),J}function L(E,R){var F=H(E);F[1].v=E.read_shift(2);var B=F[1].v>>1;if(F[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return F[1].v=B,F}function j(E,R){var F=H(E),B=E.read_shift(4),J=E.read_shift(4),le=E.read_shift(2);if(le==65535)return B===0&&J===3221225472?(F[1].t="e",F[1].v=15):B===0&&J===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var he=le&32768;return le=(le&32767)-16446,F[1].v=(1-he*2)*(J*Math.pow(2,le+32)+B*Math.pow(2,le)),F}function M(E,R,F,B){var J=Ce(14);if(J.write_shift(2,E),J.write_shift(1,F),J.write_shift(1,R),B==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var le=0,he=0,fe=0,de=0;return B<0&&(le=1,B=-B),he=Math.log2(B)|0,B/=Math.pow(2,he-31),de=B>>>0,de&2147483648||(B/=2,++he,de=B>>>0),B-=de,de|=2147483648,de>>>=0,B*=Math.pow(2,32),fe=B>>>0,J.write_shift(4,fe),J.write_shift(4,de),he+=16383+(le?32768:0),J.write_shift(2,he),J}function T(E,R){var F=j(E);return E.l+=R-14,F}function P(E,R){var F=H(E),B=E.read_shift(4);return F[1].v=B>>6,F}function D(E,R){var F=H(E),B=E.read_shift(8,"f");return F[1].v=B,F}function G(E,R){var F=D(E);return E.l+=R-10,F}function oe(E,R){return E[E.l+R-1]==0?E.read_shift(R,"cstr"):""}function ve(E,R){var F=E[E.l++];F>R-1&&(F=R-1);for(var B="";B.length<F;)B+=String.fromCharCode(E[E.l++]);return B}function we(E,R,F){if(!(!F.qpro||R<21)){var B=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var J=E.read_shift(R-21,"cstr");return[B,J]}}function se(E,R){for(var F={},B=E.l+R;E.l<B;){var J=E.read_shift(2);if(J==14e3){for(F[J]=[0,""],F[J][0]=E.read_shift(2);E[E.l];)F[J][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return F}function me(E,R){var F=Ce(5+E.length);F.write_shift(2,14e3),F.write_shift(2,R);for(var B=0;B<E.length;++B){var J=E.charCodeAt(B);F[F.l++]=J>127?95:J}return F[F.l++]=0,F}var Te={0:{n:"BOF",f:b6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:ve},65535:{n:""}},ke={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:we},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),pF=/^\s|\s$|[\t\n\r]/;function T6(e,t){if(!t.bookSST)return"";var r=[xn];r[r.length]=Je("sst",null,{xmlns:Gu[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(pF)&&(a+=' xml:space="preserve"'),a+=">"+xr(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function mF(e){return[e.read_shift(4),e.read_shift(4)]}function gF(e,t){return t||(t=Ce(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var xF=oP;function vF(e){var t=Ii();Me(t,159,gF(e));for(var r=0;r<e.length;++r)Me(t,19,xF(e[r]));return Me(t,160),t.end()}function yF(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function j6(e){var t=0,r,n=yF(e),i=n.length+1,a,s,o,c,u;for(r=ac(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var _F=function(){function e(i,a){switch(a.type){case"base64":return t(ro(i),a);case"binary":return t(i,a);case"buffer":return t(sr&&Buffer.isBuffer(i)?i.toString("binary"):od(i),a);case"array":return t(Sp(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,p){Array.isArray(o)&&(o[p]=[]);for(var m=/\\\w+\b/g,h=0,v,x=-1;v=m.exec(f);){switch(v[0]){case"\\cell":var S=f.slice(h,m.lastIndex-v[0].length);if(S[0]==" "&&(S=S.slice(1)),++x,S.length){var y={v:S,t:"s"};Array.isArray(o)?o[p][x]=y:o[yr({r:p,c:x})]=y}break}h=m.lastIndex}x>u.e.c&&(u.e.c=x)}),o["!ref"]=gn(u),o}function r(i,a){return pc(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Or(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var p=yr({r:u,c:f});o=c?(i[u]||[])[f]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(no(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function W_(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var wF=6,Ys=wF;function D1(e){return Math.floor((e+Math.round(128/Ys)/256)*Ys)}function M1(e){return Math.floor((e-5)/Ys*100+.5)/100}function z2(e){return Math.round((e*Ys+5)/Ys*256)/256}function jv(e){e.width?(e.wpx=D1(e.width),e.wch=M1(e.wpx),e.MDW=Ys):e.wpx?(e.wch=M1(e.wpx),e.width=z2(e.wch),e.MDW=Ys):typeof e.wch=="number"&&(e.width=z2(e.wch),e.wpx=D1(e.width),e.MDW=Ys),e.customWidth&&delete e.customWidth}var bF=96,C6=bF;function B1(e){return e*96/C6}function L6(e){return e*C6/96}function SF(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Je("numFmt",null,{numFmtId:n,formatCode:xr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Je("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function NF(e){var t=[];return t[t.length]=Je("cellXfs",null),e.forEach(function(r){t[t.length]=Je("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Je("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function P6(e,t){var r=[xn,Je("styleSheet",null,{xmlns:Gu[0],"xmlns:vt":Pn.vt})],n;return e.SSF&&(n=SF(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=NF(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function AF(e,t){var r=e.read_shift(2),n=ci(e);return[r,n]}function EF(e,t,r){r||(r=Ce(6+4*t.length)),r.write_shift(2,e),On(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function kF(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=pP(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=dP(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ci(e),n}function TF(e,t){t||(t=Ce(25+4*32)),t.write_shift(2,e.sz*20),mP(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),I1(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),On(e.name,t),t.length>t.l?t.slice(0,t.l):t}var jF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Xm,CF=bs;function V_(e,t){t||(t=Ce(4*3+8*7+16*1)),Xm||(Xm=xv(jF));var r=Xm[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(I1({auto:1},t),I1({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function LF(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function F6(e,t,r){r||(r=Ce(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Rf(e,t){return t||(t=Ce(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var PF=bs;function FF(e,t){return t||(t=Ce(51)),t.write_shift(1,0),Rf(null,t),Rf(null,t),Rf(null,t),Rf(null,t),Rf(null,t),t.length>t.l?t.slice(0,t.l):t}function OF(e,t){return t||(t=Ce(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),O1(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function IF(e,t,r){var n=Ce(2052);return n.write_shift(4,e),O1(t,n),O1(r,n),n.length>n.l?n.slice(0,n.l):n}function RF(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Me(e,615,Ka(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Me(e,44,EF(i,t[i]))}),Me(e,616))}}function DF(e){var t=1;Me(e,611,Ka(t)),Me(e,43,TF({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Me(e,612)}function MF(e){var t=2;Me(e,603,Ka(t)),Me(e,45,V_({patternType:"none"})),Me(e,45,V_({patternType:"gray125"})),Me(e,604)}function BF(e){var t=1;Me(e,613,Ka(t)),Me(e,46,FF()),Me(e,614)}function UF(e){var t=1;Me(e,626,Ka(t)),Me(e,47,F6({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Me(e,627)}function zF(e,t){Me(e,617,Ka(t.length)),t.forEach(function(r){Me(e,47,F6(r,0))}),Me(e,618)}function $F(e){var t=1;Me(e,619,Ka(t)),Me(e,48,OF({xfId:0,builtinId:0,name:"Normal"})),Me(e,620)}function qF(e){var t=0;Me(e,505,Ka(t)),Me(e,506)}function HF(e){var t=0;Me(e,508,IF(t,"TableStyleMedium9","PivotStyleMedium4")),Me(e,509)}function WF(e,t){var r=Ii();return Me(r,278),RF(r,e.SSF),DF(r),MF(r),BF(r),UF(r),zF(r,t.cellXfs),$F(r),qF(r),HF(r),Me(r,279),r.end()}function O6(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[xn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function VF(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ci(e)}}function GF(e){var t=Ce(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),On(e.name,t),t.slice(0,t.l)}function KF(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function XF(e){var t=Ce(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function YF(e,t){var r=Ce(8+2*t.length);return r.write_shift(4,e),On(t,r),r.slice(0,r.l)}function JF(e){return e.l+=4,e.read_shift(4)!=0}function ZF(e,t){var r=Ce(8);return r.write_shift(4,e),r.write_shift(4,1),r}function QF(){var e=Ii();return Me(e,332),Me(e,334,Ka(1)),Me(e,335,GF({name:"XLDAPR",version:12e4,flags:3496657072})),Me(e,336),Me(e,339,YF(1,"XLDAPR")),Me(e,52),Me(e,35,Ka(514)),Me(e,4096,Ka(0)),Me(e,4097,ga(1)),Me(e,36),Me(e,53),Me(e,340),Me(e,337,ZF(1)),Me(e,51,XF([[1,0]])),Me(e,338),Me(e,333),e.end()}function I6(){var e=[xn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function eO(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=yr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var ou=1024;function R6(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Je("xml",null,{"xmlns:v":Zi.v,"xmlns:o":Zi.o,"xmlns:x":Zi.x,"xmlns:mv":Zi.mv}).replace(/\/>/,">"),Je("o:shapelayout",Je("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Je("v:shapetype",[Je("v:stroke",null,{joinstyle:"miter"}),Je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ou<e*1e3;)ou+=1e3;return t.forEach(function(a){var s=Fn(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Je("v:fill",c,o),f={on:"t",obscured:"t"};++ou,i=i.concat(["<v:shape"+zh({id:"_x0000_s"+ou,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Je("v:shadow",null,f),Je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Wn("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Wn("x:AutoFill","False"),Wn("x:Row",String(s.r)),Wn("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function D6(e){var t=[xn,Je("comments",null,{xmlns:Gu[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=xr(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(xr(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Wn("t",xr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(Wn("t",xr(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function tO(e,t,r){var n=[xn,Je("ThreadedComments",null,{xmlns:Pn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Je("threadedComment",Wn("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function rO(e){var t=[xn,Je("personList",null,{xmlns:Pn.TCMNT,"xmlns:x":Gu[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Je("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function nO(e){var t={};t.iauthor=e.read_shift(4);var r=vc(e);return t.rfx=r.s,t.ref=yr(r.s),e.l+=16,t}function iO(e,t){return t==null&&(t=Ce(36)),t.write_shift(4,e[1].iauthor),Xu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var aO=ci;function sO(e){return On(e.slice(0,54))}function oO(e){var t=Ii(),r=[];return Me(t,628),Me(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Me(t,632,sO(i.a)))})}),Me(t,631),Me(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Fn(n[0]),e:Fn(n[0])};Me(t,635,iO([a,i])),i.t&&i.t.length>0&&Me(t,637,cP(i)),Me(t,636),delete i.iauthor})}),Me(t,634),Me(t,629),t.end()}function lO(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&wr.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var M6=["xlsb","xlsm","xlam","biff8","xla"],cO=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,c?u+=t.r:--u,i+(o?"":"$")+li(f)+(c?"":"$")+Kn(u)}return function(i,a){return t=a,i.replace(e,r)}}(),Cv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Lv=function(){return function(t,r){return t.replace(Cv,function(n,i,a,s,o,c){var u=Nv(s)-(a?0:r.c),f=Sv(c)-(o?0:r.r),p=f==0?"":o?f+1:"["+f+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+m})}}();function uO(e,t){return e.replace(Cv,function(r,n,i,a,s,o){return n+(i=="$"?i+a:li(Nv(a)+t.c))+(s=="$"?s+o:Kn(Sv(o)+t.r))})}function fO(e){return e.length!=1}function pn(e){e.l+=1}function nl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function B6(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return U6(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=nl(e),o=nl(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function U6(e){var t=nl(e),r=nl(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function hO(e,t,r){if(r.biff<8)return U6(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=nl(e),s=nl(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function z6(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return dO(e);var n=e.read_shift(r&&r.biff==12?4:2),i=nl(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function dO(e){var t=nl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function pO(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function mO(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gO(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function gO(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function xO(e,t,r){var n=(e[e.l++]&96)>>5,i=B6(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function vO(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=B6(e,a,r);return[n,i,s]}function yO(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _O(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function wO(e,t,r){var n=(e[e.l++]&96)>>5,i=hO(e,t-1,r);return[n,i]}function bO(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function G_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function SO(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function NO(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function AO(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function EO(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function kO(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function $6(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function TO(e){return e.read_shift(2),$6(e)}function jO(e){return e.read_shift(2),$6(e)}function CO(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=z6(e,0,r);return[n,i]}function LO(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=mO(e,0,r);return[n,i]}function PO(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=z6(e,0,r);return[n,i,a]}function FO(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[FI[i],W6[i],n]}function OO(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:IO(e);return[i,(a[0]===0?W6:PI)[a[1]]]}function IO(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function RO(e,t,r){e.l+=r&&r.biff==2?3:4}function DO(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function MO(e){return e.l++,ud[e.read_shift(1)]}function BO(e){return e.l++,e.read_shift(2)}function UO(e){return e.l++,e.read_shift(1)!==0}function zO(e){return e.l++,Yu(e)}function $O(e,t,r){return e.l++,N6(e,t-1,r)}function qO(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=PP(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ud[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yu(e);break;case 2:r[1]=RP(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function HO(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?vc:BP)(e));return i}function WO(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=qO(e,r.biff);return s}function VO(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function GO(e,t,r){if(r.biff==5)return KO(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function KO(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function XO(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function YO(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function JO(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function ZO(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var QO=bs,eI=bs,tI=bs;function fd(e,t,r){return e.l+=2,[pO(e)]}function Pv(e){return e.l+=6,[]}var rI=fd,nI=Pv,iI=Pv,aI=fd;function q6(e){return e.l+=2,[b6(e),e.read_shift(2)&1]}var sI=fd,oI=q6,lI=Pv,cI=fd,uI=fd,fI=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hI(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=fI[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function dI(e){return e.l+=2,[e.read_shift(4)]}function pI(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function mI(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gI(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function xI(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function vI(e){return e.l+=4,[0,0]}var K_={1:{n:"PtgExp",f:DO},2:{n:"PtgTbl",f:tI},3:{n:"PtgAdd",f:pn},4:{n:"PtgSub",f:pn},5:{n:"PtgMul",f:pn},6:{n:"PtgDiv",f:pn},7:{n:"PtgPower",f:pn},8:{n:"PtgConcat",f:pn},9:{n:"PtgLt",f:pn},10:{n:"PtgLe",f:pn},11:{n:"PtgEq",f:pn},12:{n:"PtgGe",f:pn},13:{n:"PtgGt",f:pn},14:{n:"PtgNe",f:pn},15:{n:"PtgIsect",f:pn},16:{n:"PtgUnion",f:pn},17:{n:"PtgRange",f:pn},18:{n:"PtgUplus",f:pn},19:{n:"PtgUminus",f:pn},20:{n:"PtgPercent",f:pn},21:{n:"PtgParen",f:pn},22:{n:"PtgMissArg",f:pn},23:{n:"PtgStr",f:$O},26:{n:"PtgSheet",f:pI},27:{n:"PtgEndSheet",f:mI},28:{n:"PtgErr",f:MO},29:{n:"PtgBool",f:UO},30:{n:"PtgInt",f:BO},31:{n:"PtgNum",f:zO},32:{n:"PtgArray",f:bO},33:{n:"PtgFunc",f:FO},34:{n:"PtgFuncVar",f:OO},35:{n:"PtgName",f:VO},36:{n:"PtgRef",f:CO},37:{n:"PtgArea",f:xO},38:{n:"PtgMemArea",f:XO},39:{n:"PtgMemErr",f:QO},40:{n:"PtgMemNoMem",f:eI},41:{n:"PtgMemFunc",f:YO},42:{n:"PtgRefErr",f:JO},43:{n:"PtgAreaErr",f:yO},44:{n:"PtgRefN",f:LO},45:{n:"PtgAreaN",f:wO},46:{n:"PtgMemAreaN",f:gI},47:{n:"PtgMemNoMemN",f:xI},57:{n:"PtgNameX",f:GO},58:{n:"PtgRef3d",f:PO},59:{n:"PtgArea3d",f:vO},60:{n:"PtgRefErr3d",f:ZO},61:{n:"PtgAreaErr3d",f:_O},255:{}},yI={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_I={1:{n:"PtgElfLel",f:q6},2:{n:"PtgElfRw",f:cI},3:{n:"PtgElfCol",f:rI},6:{n:"PtgElfRwV",f:uI},7:{n:"PtgElfColV",f:aI},10:{n:"PtgElfRadical",f:sI},11:{n:"PtgElfRadicalS",f:lI},13:{n:"PtgElfColS",f:nI},15:{n:"PtgElfColSV",f:iI},16:{n:"PtgElfRadicalLel",f:oI},25:{n:"PtgList",f:hI},29:{n:"PtgSxName",f:dI},255:{}},wI={0:{n:"PtgAttrNoop",f:vI},1:{n:"PtgAttrSemi",f:kO},2:{n:"PtgAttrIf",f:AO},4:{n:"PtgAttrChoose",f:SO},8:{n:"PtgAttrGoto",f:NO},16:{n:"PtgAttrSum",f:RO},32:{n:"PtgAttrBaxcel",f:G_},33:{n:"PtgAttrBaxcel",f:G_},64:{n:"PtgAttrSpace",f:TO},65:{n:"PtgAttrSpaceSemi",f:jO},128:{n:"PtgAttrIfError",f:EO},255:{}};function bI(e,t,r,n){if(n.biff<8)return bs(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=WO(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=HO(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(bs(e,t)),a}function SI(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=K_[a]||K_[yI[a]],(a===24||a===25)&&(i=(a===24?_I:wI)[e[e.l+1]]),!i||!i.f?bs(e,t):s.push([i.n,i.f(e,t,r)]);return s}function NI(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var AI={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function EI(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function H6(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function X_(e,t,r){var n=H6(e,t,r);return n=="#REF"?n:EI(n,r)}function Iu(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,f,p=0,m=0,h,v="";if(!e[0]||!e[0][0])return"";for(var x=-1,S="",y=0,w=e[0].length;y<w;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:S=Jr(" ",e[0][x][1][1]);break;case 1:S=Jr("\r",e[0][x][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+S,x=-1}o.push(u+AI[_[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=fh(_[1][1],s,i),o.push(hh(f,a));break;case"PtgRefN":f=r?fh(_[1][1],r,i):_[1][1],o.push(hh(f,a));break;case"PtgRef3d":p=_[1][1],f=fh(_[1][2],s,i),v=X_(n,p,i),o.push(v+"!"+hh(f,a));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],H=_[1][1];A||(A=0),A&=127;var V=A==0?[]:o.slice(-A);o.length-=A,H==="User"&&(H=V.shift()),o.push(H+"("+V.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":h=F_(_[1][1],r?{s:r}:s,i),o.push(Gm(h,i));break;case"PtgArea":h=F_(_[1][1],s,i),o.push(Gm(h,i));break;case"PtgArea3d":p=_[1][1],h=_[1][2],v=X_(n,p,i),o.push(v+"!"+Gm(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var C=(n.names||[])[m-1]||(n[0]||[])[m],L=C?C.Name:"SH33TJSNAME"+String(m);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var j=_[1][1];m=_[1][2];var M;if(i.biff<=5)j<0&&(j=-j),n[j]&&(M=n[j][m]);else{var T="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][m]&&n[j][m].itab>0&&(T=n.SheetNames[n[j][m].itab-1]+"!"):T=n.SheetNames[m-1]+"!"),n[j]&&n[j][m])T+=n[j][m].Name;else if(n[0]&&n[0][m])T+=n[0][m].Name;else{var P=(H6(n,j,i)||"").split(";;");P[m-1]?T=P[m-1]:T+="SH33TJSERRX"}o.push(T);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var D="(",G=")";if(x>=0){switch(S="",e[0][x][1][0]){case 2:D=Jr(" ",e[0][x][1][1])+D;break;case 3:D=Jr("\r",e[0][x][1][1])+D;break;case 4:G=Jr(" ",e[0][x][1][1])+G;break;case 5:G=Jr("\r",e[0][x][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(D+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var oe={c:r.c,r:r.r};if(n.sharedf[yr(f)]){var ve=n.sharedf[yr(f)];o.push(Iu(ve,s,oe,n,i))}else{var we=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(Iu(u[1],s,oe,n,i)),we=!0;break}we||o.push(_[1])}break;case"PtgArray":o.push("{"+NI(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&x>=0&&se.indexOf(e[0][y][0])==-1){_=e[0][x];var me=!0;switch(_[1][0]){case 4:me=!1;case 0:S=Jr(" ",_[1][1]);break;case 5:me=!1;case 1:S=Jr("\r",_[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((me?S:"")+o.pop()+(me?"":S)),x=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function kI(e){if(e==null){var t=Ce(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return sc(e);return sc(0)}function TI(e,t,r,n,i){var a=oc(t,r,i),s=kI(e.v),o=Ce(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=Ce(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var p=Hn([a,s,o,u]);return p}function Np(e,t,r){var n=e.read_shift(4),i=SI(e,n,r),a=e.read_shift(4),s=a>0?bI(e,a,i,r):null;return[i,s]}var jI=Np,Ap=Np,CI=Np,LI=Np,PI={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},W6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FI={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function OI(e){var t="of:="+e.replace(Cv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function II(e){return e.replace(/\./,"!")}var dh=typeof Map<"u";function Fv(e,t,r){var n=0,i=e.length;if(r){if(dh?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=dh?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(dh?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function Ep(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ys=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=M1(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=z2(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function V6(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function fl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){zS(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function RI(e,t,r){if(e&&e["!ref"]){var n=Or(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function DI(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+gn(e[r])+'"/>';return t+"</mergeCells>"}function MI(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,s.codeName=Uh(xr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+Je("outlinePr",null,u)}!a&&!o||(i[i.length]=Je("sheetPr",o,s))}var BI=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UI=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zI(e){var t={sheet:1};return BI.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),UI.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=j6(e.password).toString(16).toUpperCase()),Je("sheetProtection",null,t)}function $I(e){return V6(e),Je("pageMargins",null,e)}function qI(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Je("col",null,Ep(i,n)));return r[r.length]="</cols>",r.join("")}function HI(e,t,r,n){var i=typeof e.ref=="string"?e.ref:gn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=aa(i);s.s.r==s.e.r&&(s.e.r=aa(t["!ref"]).e.r,i=gn(s));for(var o=0;o<a.length;++o){var c=a[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Je("autoFilter",null,{ref:i})}function WI(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Je("sheetViews",Je("sheetView",null,i),{})}function VI(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=ud[e.v];break;case"d":n&&n.cellDates?i=_i(e.v,-1).toISOString():(e=Di(e),e.t="n",i=""+(e.v=Ri(_i(e.v)))),typeof e.z>"u"&&(e.z=Zr[14]);break;default:i=e.v;break}var o=Wn("v",xr(i)),c={r:t},u=fl(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Wn("v",""+Fv(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Je("f",xr(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Je("c",o,c)}function GI(e,t,r,n){var i=[],a=[],s=Or(e["!ref"]),o="",c,u="",f=[],p=0,m=0,h=e["!rows"],v=Array.isArray(e),x={r:u},S,y=-1;for(m=s.s.c;m<=s.e.c;++m)f[m]=li(m);for(p=s.s.r;p<=s.e.r;++p){for(a=[],u=Kn(p),m=s.s.c;m<=s.e.c;++m){c=f[m]+u;var w=v?(e[p]||[])[m]:e[c];w!==void 0&&(o=VI(w,c,e,t))!=null&&a.push(o)}(a.length>0||h&&h[p])&&(x={r:u},h&&h[p]&&(S=h[p],S.hidden&&(x.hidden=1),y=-1,S.hpx?y=B1(S.hpx):S.hpt&&(y=S.hpt),y>-1&&(x.ht=y,x.customHeight=1),S.level&&(x.outlineLevel=S.level)),i[i.length]=Je("row",a.join(""),x))}if(h)for(;p<h.length;++p)h&&h[p]&&(x={r:p+1},S=h[p],S.hidden&&(x.hidden=1),y=-1,S.hpx?y=B1(S.hpx):S.hpt&&(y=S.hpt),y>-1&&(x.ht=y,x.customHeight=1),S.level&&(x.outlineLevel=S.level),i[i.length]=Je("row","",x));return i.join("")}function G6(e,t,r,n){var i=[xn,Je("worksheet",null,{xmlns:Gu[0],"xmlns:r":Pn.r})],a=r.SheetNames[e],s=0,o="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",f=Or(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=gn(f)}n||(n={}),c["!comments"]=[];var p=[];MI(c,r,e,t,i),i[i.length]=Je("dimension",null,{ref:u}),i[i.length]=WI(c,t,e,r),t.sheetFormat&&(i[i.length]=Je("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=qI(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=GI(c,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=zI(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=HI(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=DI(c["!merges"]));var m=-1,h,v=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(h={ref:x[0]},x[1].Target.charAt(0)!="#"&&(v=mr(n,-1,xr(x[1].Target).replace(/#.*$/,""),nr.HLINK),h["r:id"]="rId"+v),(m=x[1].Target.indexOf("#"))>-1&&(h.location=xr(x[1].Target.slice(m+1))),x[1].Tooltip&&(h.tooltip=xr(x[1].Tooltip)),i[i.length]=Je("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=$I(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Wn("ignoredErrors",Je("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(v=mr(n,-1,"../drawings/drawing"+(e+1)+".xml",nr.DRAW),i[i.length]=Je("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=p),c["!comments"].length>0&&(v=mr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",nr.VML),i[i.length]=Je("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function KI(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function XI(e,t,r){var n=Ce(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=B1(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var p=-1,m=-1,h=f<<10;h<f+1<<10;++h){u.c=h;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[yr(u)];v&&(p<0&&(p=h),m=h)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,m))}var x=n.l;return n.l=c,n.write_shift(4,o),n.l=x,n.length>n.l?n.slice(0,n.l):n}function YI(e,t,r,n){var i=XI(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Me(e,0,i)}var JI=vc,ZI=Xu;function QI(){}function eR(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=uP(e),r}function tR(e,t,r){r==null&&(r=Ce(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return I1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),l6(e,r),r.slice(0,r.l)}function rR(e){var t=Ea(e);return[t]}function nR(e,t,r){return r==null&&(r=Ce(8)),mc(t,r)}function iR(e){var t=gc(e);return[t]}function aR(e,t,r){return r==null&&(r=Ce(4)),xc(t,r)}function sR(e){var t=Ea(e),r=e.read_shift(1);return[t,r,"b"]}function oR(e,t,r){return r==null&&(r=Ce(9)),mc(t,r),r.write_shift(1,e.v?1:0),r}function lR(e){var t=gc(e),r=e.read_shift(1);return[t,r,"b"]}function cR(e,t,r){return r==null&&(r=Ce(5)),xc(t,r),r.write_shift(1,e.v?1:0),r}function uR(e){var t=Ea(e),r=e.read_shift(1);return[t,r,"e"]}function fR(e,t,r){return r==null&&(r=Ce(9)),mc(t,r),r.write_shift(1,e.v),r}function hR(e){var t=gc(e),r=e.read_shift(1);return[t,r,"e"]}function dR(e,t,r){return r==null&&(r=Ce(8)),xc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function pR(e){var t=Ea(e),r=e.read_shift(4);return[t,r,"s"]}function mR(e,t,r){return r==null&&(r=Ce(12)),mc(t,r),r.write_shift(4,t.v),r}function gR(e){var t=gc(e),r=e.read_shift(4);return[t,r,"s"]}function xR(e,t,r){return r==null&&(r=Ce(8)),xc(t,r),r.write_shift(4,t.v),r}function vR(e){var t=Ea(e),r=Yu(e);return[t,r,"n"]}function yR(e,t,r){return r==null&&(r=Ce(16)),mc(t,r),sc(e.v,r),r}function _R(e){var t=gc(e),r=Yu(e);return[t,r,"n"]}function wR(e,t,r){return r==null&&(r=Ce(12)),xc(t,r),sc(e.v,r),r}function bR(e){var t=Ea(e),r=c6(e);return[t,r,"n"]}function SR(e,t,r){return r==null&&(r=Ce(12)),mc(t,r),u6(e.v,r),r}function NR(e){var t=gc(e),r=c6(e);return[t,r,"n"]}function AR(e,t,r){return r==null&&(r=Ce(8)),xc(t,r),u6(e.v,r),r}function ER(e){var t=Ea(e),r=Av(e);return[t,r,"is"]}function kR(e){var t=Ea(e),r=ci(e);return[t,r,"str"]}function TR(e,t,r){return r==null&&(r=Ce(12+4*e.v.length)),mc(t,r),On(e.v,r),r.length>r.l?r.slice(0,r.l):r}function jR(e){var t=gc(e),r=ci(e);return[t,r,"str"]}function CR(e,t,r){return r==null&&(r=Ce(8+4*e.v.length)),xc(t,r),On(e.v,r),r.length>r.l?r.slice(0,r.l):r}function LR(e,t,r){var n=e.l+t,i=Ea(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=Ap(e,n-e.l,r);s[3]=Iu(o,null,i,r.supbooks,r)}else e.l=n;return s}function PR(e,t,r){var n=e.l+t,i=Ea(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=Ap(e,n-e.l,r);s[3]=Iu(o,null,i,r.supbooks,r)}else e.l=n;return s}function FR(e,t,r){var n=e.l+t,i=Ea(e);i.r=r["!row"];var a=Yu(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=Ap(e,n-e.l,r);s[3]=Iu(o,null,i,r.supbooks,r)}else e.l=n;return s}function OR(e,t,r){var n=e.l+t,i=Ea(e);i.r=r["!row"];var a=ci(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=Ap(e,n-e.l,r);s[3]=Iu(o,null,i,r.supbooks,r)}else e.l=n;return s}var IR=vc,RR=Xu;function DR(e,t){return t==null&&(t=Ce(4)),t.write_shift(4,e),t}function MR(e,t){var r=e.l+t,n=vc(e),i=Ev(e),a=ci(e),s=ci(e),o=ci(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function BR(e,t){var r=Ce(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Xu({s:Fn(e[0]),e:Fn(e[0])},r),kv("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return On(i||"",r),On(e[1].Tooltip||"",r),On("",r),r.slice(0,r.l)}function UR(){}function zR(e,t,r){var n=e.l+t,i=f6(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=jI(e,n-e.l,r);s[1]=o}else e.l=n;return s}function $R(e,t,r){var n=e.l+t,i=vc(e),a=[i];if(r.cellFormula){var s=LI(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function qR(e,t,r){r==null&&(r=Ce(18));var n=Ep(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var K6=["left","right","top","bottom","header","footer"];function HR(e){var t={};return K6.forEach(function(r){t[r]=Yu(e)}),t}function WR(e,t){return t==null&&(t=Ce(6*8)),V6(e),K6.forEach(function(r){sc(e[r],t)}),t}function VR(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function GR(e,t,r){r==null&&(r=Ce(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function KR(e){var t=Ce(24);return t.write_shift(4,4),t.write_shift(4,1),Xu(e,t),t}function XR(e,t){return t==null&&(t=Ce(16*4+2)),t.write_shift(2,e.password?j6(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function YR(){}function JR(){}function ZR(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Di(t),t.z=t.z||Zr[14],t.v=Ri(_i(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=fl(i.cellXfs,t,i),t.l&&a["!links"].push([yr(c),t.l]),t.c&&a["!comments"].push([yr(c),t.c]),t.t){case"s":case"str":return i.bookSST?(o=Fv(i.Strings,t.v,i.revStrings),c.t="s",c.v=o,s?Me(e,18,xR(t,c)):Me(e,7,mR(t,c))):(c.t="str",s?Me(e,17,CR(t,c)):Me(e,6,TR(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Me(e,13,AR(t,c)):Me(e,2,SR(t,c)):s?Me(e,16,wR(t,c)):Me(e,5,yR(t,c)),!0;case"b":return c.t="b",s?Me(e,15,cR(t,c)):Me(e,4,oR(t,c)),!0;case"e":return c.t="e",s?Me(e,14,dR(t,c)):Me(e,3,fR(t,c)),!0}return s?Me(e,12,aR(t,c)):Me(e,1,nR(t,c)),!0}function QR(e,t,r,n){var i=Or(t["!ref"]||"A1"),a,s="",o=[];Me(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var f=i.s.r;f<=u;++f){s=Kn(f),YI(e,t,i,f);var p=!1;if(f<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){f===i.s.r&&(o[m]=li(m)),a=o[m]+s;var h=c?(t[f]||[])[m]:t[a];if(!h){p=!1;continue}p=ZR(e,h,f,m,n,t,p)}}Me(e,146)}function eD(e,t){!t||!t["!merges"]||(Me(e,177,DR(t["!merges"].length)),t["!merges"].forEach(function(r){Me(e,176,RR(r))}),Me(e,178))}function tD(e,t){!t||!t["!cols"]||(Me(e,390),t["!cols"].forEach(function(r,n){r&&Me(e,60,qR(n,r))}),Me(e,391))}function rD(e,t){!t||!t["!ref"]||(Me(e,648),Me(e,649,KR(Or(t["!ref"]))),Me(e,650))}function nD(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=mr(r,-1,n[1].Target.replace(/#.*$/,""),nr.HLINK);Me(e,494,BR(n,i))}}),delete t["!links"]}function iD(e,t,r,n){if(t["!comments"].length>0){var i=mr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",nr.VML);Me(e,551,kv("rId"+i)),t["!legacy"]=i}}function aD(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:gn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=aa(a);o.s.r==o.e.r&&(o.e.r=aa(t["!ref"]).e.r,a=gn(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Me(e,161,Xu(Or(a))),Me(e,162)}}function sD(e,t,r){Me(e,133),Me(e,137,GR(t,r)),Me(e,138),Me(e,134)}function oD(e,t){t["!protect"]&&Me(e,535,XR(t["!protect"]))}function lD(e,t,r,n){var i=Ii(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Or(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Me(i,129),(r.vbaraw||s["!outline"])&&Me(i,147,tR(o,s["!outline"])),Me(i,148,ZI(c)),sD(i,s,r.Workbook),tD(i,s),QR(i,s,e,t),oD(i,s),aD(i,s,r,e),eD(i,s),nD(i,s,n),s["!margins"]&&Me(i,476,WR(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&rD(i,s),iD(i,s,e,n),Me(i,130),i.end()}function cD(e,t){e.l+=10;var r=ci(e);return{name:r}}var uD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function fD(e){return!e.Workbook||!e.Workbook.WBProps?"false":$L(e.Workbook.WBProps.date1904)?"true":"false"}var hD="][*?/\\".split("");function X6(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return hD.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function dD(e,t,r){e.forEach(function(n,i){X6(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function pD(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];dD(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)RI(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Y6(e){var t=[xn];t[t.length]=Je("workbook",null,{xmlns:Gu[0],"xmlns:r":Pn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(uD.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Je("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:xr(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Je("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Je("definedName",xr(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function mD(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=U2(e),r.name=ci(e),r}function gD(e,t){return t||(t=Ce(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),kv(e.strRelID,t),On(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function xD(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?ci(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function vD(e,t){t||(t=Ce(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),l6(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function yD(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=fP(e),s=CI(e,0,r),o=Ev(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function _D(e,t){Me(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Me(e,156,gD(i))}Me(e,144)}function wD(e,t){t||(t=Ce(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return On("SheetJS",t),On(T1.version,t),On(T1.version,t),On("7262",t),t.length>t.l?t.slice(0,t.l):t}function bD(e,t){t||(t=Ce(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function SD(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Me(e,135),Me(e,158,bD(i)),Me(e,136))}}function ND(e,t){var r=Ii();return Me(r,131),Me(r,128,wD()),Me(r,153,vD(e.Workbook&&e.Workbook.WBProps||null)),SD(r,e),_D(r,e),Me(r,132),r.end()}function AD(e,t,r){return(t.slice(-4)===".bin"?ND:Y6)(e)}function ED(e,t,r,n,i){return(t.slice(-4)===".bin"?lD:G6)(e,r,n,i)}function kD(e,t,r){return(t.slice(-4)===".bin"?WF:P6)(e,r)}function TD(e,t,r){return(t.slice(-4)===".bin"?vF:T6)(e,r)}function jD(e,t,r){return(t.slice(-4)===".bin"?oO:D6)(e)}function CD(e){return(e.slice(-4)===".bin"?QF:I6)()}function LD(e,t){var r=[];return e.Props&&r.push(kP(e.Props,t)),e.Custprops&&r.push(TP(e.Props,e.Custprops)),r.join("")}function PD(){return""}function FD(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(Je("NumberFormat",null,{"ss:Format":xr(Zr[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Je("Style",a.join(""),s))}),Je("Styles",r.join(""))}function J6(e){return Je("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Lv(e.Ref,{r:0,c:0})})}function OD(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(J6(i)))}return Je("Names",r.join(""))}function ID(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(J6(o)))}return a.join("")}function RD(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Je("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Je("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Je("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Je("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Wn("ProtectContents","True")),e["!protect"].objects&&i.push(Wn("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Wn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Wn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Wn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Je("WorksheetOptions",i.join(""),{xmlns:Zi.x})}function DD(e){return e.map(function(t){var r=zL(t.t||""),n=Je("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Je("Comment",n,{"ss:Author":t.a})}).join("")}function MD(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+xr(Lv(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Fn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=xr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=xr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=s.c||u[f].s.r!=s.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var p="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",m=String(e.v);break;case"b":p="Boolean",m=e.v?"1":"0";break;case"e":p="Error",m=ud[e.v];break;case"d":p="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Zr[14]);break;case"s":p="String",m=UL(e.v||"");break}var h=fl(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var v=e.v!=null?m:"",x=e.t=="z"?"":'<Data ss:Type="'+p+'">'+v+"</Data>";return(e.c||[]).length>0&&(x+=DD(e.c)),Je("Cell",x,o)}function BD(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=L6(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function UD(e,t,r,n){if(!e["!ref"])return"";var i=Or(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(S,y){jv(S);var w=!!S.width,_=Ep(y,S),A={"ss:Index":y+1};w&&(A["ss:Width"]=D1(_.width)),S.hidden&&(A["ss:Hidden"]="1"),o.push(Je("Column",null,A))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var f=[BD(u,(e["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var m=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>p)&&!(a[s].s.r>u)&&!(a[s].e.c<p)&&!(a[s].e.r<u)){(a[s].s.c!=p||a[s].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:p},v=yr(h),x=c?(e[u]||[])[p]:e[v];f.push(MD(x,v,e,t,r,n,h))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function zD(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?ID(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?UD(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(RD(a,t,e,r)),n.join("")}function $D(e,t){t||(t={}),e.SSF||(e.SSF=Di(Zr)),e.SSF&&(wp(),_p(e.SSF),t.revssf=bp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(LD(e,t)),r.push(PD()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Je("Worksheet",zD(n,t,e),{"ss:Name":xr(e.SheetNames[n])}));return r[2]=FD(e,t),r[3]=OD(e),xn+Je("Workbook",r.join(""),{xmlns:Zi.ss,"xmlns:o":Zi.o,"xmlns:x":Zi.x,"xmlns:ss":Zi.ss,"xmlns:dt":Zi.dt,"xmlns:html":Zi.html})}var Ym={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function qD(e,t){var r=[],n=[],i=[],a=0,s,o=b_(I_,"n"),c=b_(R_,"n");if(e.Props)for(s=Yn(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=Yn(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)w6.indexOf(i[a][0])>-1||v6.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&wr.utils.cfb_add(t,"/SummaryInformation",z_(n,Ym.SI,c,R_)),(r.length||u.length)&&wr.utils.cfb_add(t,"/DocumentSummaryInformation",z_(r,Ym.DSI,o,I_,u.length?u:null,Ym.UDI))}function HD(e,t){var r=t||{},n=wr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return wr.utils.cfb_add(n,i,Z6(e,r)),r.biff==8&&(e.Props||e.Custprops)&&qD(e,n),r.biff==8&&e.vbaraw&&lO(n,wr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var WD={0:{f:KI},1:{f:rR},2:{f:bR},3:{f:uR},4:{f:sR},5:{f:vR},6:{f:kR},7:{f:pR},8:{f:OR},9:{f:FR},10:{f:LR},11:{f:PR},12:{f:iR},13:{f:NR},14:{f:hR},15:{f:lR},16:{f:_R},17:{f:jR},18:{f:gR},19:{f:Av},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yD},40:{},42:{},43:{f:kF},44:{f:AF},45:{f:CF},46:{f:PF},47:{f:LF},48:{},49:{f:iP},50:{},51:{f:KF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aF},62:{f:ER},63:{f:eO},64:{f:YR},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:bs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:VR},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eR},148:{f:JI,p:16},151:{f:UR},152:{},153:{f:xD},154:{},155:{},156:{f:mD},157:{},158:{},159:{T:1,f:mF},160:{T:-1},161:{T:1,f:vc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:IR},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VF},336:{T:-1},337:{f:JF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:U2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:QP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zR},427:{f:$R},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:HR},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:QI},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MR},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:U2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aO},633:{T:1},634:{T:-1},635:{T:1,f:nO},636:{T:-1},637:{f:lP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cD},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:JR},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ze(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&bv(r)&&e.push(r)}}function VD(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return Ze(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,a),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function hd(e,t,r){return e||(e=Ce(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function GD(e,t,r,n){var i=Ce(9);return hd(i,e,t),S6(r,n||"b",i),i}function KD(e,t,r){var n=Ce(8+2*r.length);return hd(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function XD(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?Ri(_i(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?Ze(e,2,cF(r,n,i)):Ze(e,3,lF(r,n,i));return;case"b":case"e":Ze(e,5,GD(r,n,t.v,t.t));return;case"s":case"str":Ze(e,4,KD(r,n,(t.v||"").slice(0,255)));return}Ze(e,1,hd(null,r,n))}function YD(e,t,r,n){var i=Array.isArray(t),a=Or(t["!ref"]||"A1"),s,o="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=gn(a)}for(var u=a.s.r;u<=a.e.r;++u){o=Kn(u);for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(c[f]=li(f)),s=c[f]+o;var p=i?(t[u]||[])[f]:t[s];p&&XD(e,p,u,f)}}}function JD(e,t){for(var r=t||{},n=Ii(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ze(n,r.biff==4?1033:r.biff==3?521:9,Tv(e,16,r)),YD(n,e.Sheets[e.SheetNames[i]],i,r),Ze(n,10),n.end()}function ZD(e,t,r){Ze(e,49,WP({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function QD(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ze(e,1054,KP(i,t[i],r))})}function e9(e,t){var r=Ce(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ze(e,2151,r),r=Ce(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),E6(Or(t["!ref"]||"A1"),r),r.write_shift(4,4),Ze(e,2152,r)}function t9(e,t){for(var r=0;r<16;++r)Ze(e,224,q_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ze(e,224,q_(n,0,t))})}function r9(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ze(e,440,rF(n)),n[1].Tooltip&&Ze(e,2048,nF(n))}delete t["!links"]}function n9(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&Ze(e,125,sF(Ep(i,n),i))})}}function i9(e,t,r,n,i){var a=16+fl(i.cellXfs,t,i);if(t.v==null&&!t.bf){Ze(e,513,oc(r,n,a));return}if(t.bf)Ze(e,6,TI(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?Ri(_i(t.v)):t.v;Ze(e,515,ZP(r,n,s,a));break;case"b":case"e":Ze(e,517,JP(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=Fv(i.Strings,t.v,i.revStrings);Ze(e,253,VP(r,n,o,a))}else Ze(e,516,GP(r,n,(t.v||"").slice(0,255),a,i));break;default:Ze(e,513,oc(r,n,a))}}function a9(e,t,r){var n=Ii(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,f,p="",m=[],h=Or(a["!ref"]||"A1"),v=u?65536:16384;if(h.e.c>255||h.e.r>=v){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,v-1)}Ze(n,2057,Tv(r,16,t)),Ze(n,13,ga(1)),Ze(n,12,ga(100)),Ze(n,15,xi(!0)),Ze(n,17,xi(!1)),Ze(n,16,sc(.001)),Ze(n,95,xi(!0)),Ze(n,42,xi(!1)),Ze(n,43,xi(!1)),Ze(n,130,ga(1)),Ze(n,128,YP()),Ze(n,131,xi(!1)),Ze(n,132,xi(!1)),u&&n9(n,a["!cols"]),Ze(n,512,XP(h,t)),u&&(a["!links"]=[]);for(var x=h.s.r;x<=h.e.r;++x){p=Kn(x);for(var S=h.s.c;S<=h.e.c;++S){x===h.s.r&&(m[S]=li(S)),f=m[S]+p;var y=c?(a[x]||[])[S]:a[f];y&&(i9(n,y,x,S,t),u&&y.l&&a["!links"].push([f,y.l]))}}var w=o.CodeName||o.name||i;return u&&Ze(n,574,HP((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&Ze(n,229,tF(a["!merges"])),u&&r9(n,a),Ze(n,442,A6(w)),u&&e9(n,a),Ze(n,10),n.end()}function s9(e,t,r){var n=Ii(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,c=r.biff==5;if(Ze(n,2057,Tv(e,5,r)),r.bookType=="xla"&&Ze(n,135),Ze(n,225,o?ga(1200):null),Ze(n,193,LP(2)),c&&Ze(n,191),c&&Ze(n,192),Ze(n,226),Ze(n,92,UP("SheetJS",r)),Ze(n,66,ga(o?1200:1252)),o&&Ze(n,353,ga(0)),o&&Ze(n,448),Ze(n,317,oF(e.SheetNames.length)),o&&e.vbaraw&&Ze(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";Ze(n,442,A6(u))}Ze(n,156,ga(17)),Ze(n,25,xi(!1)),Ze(n,18,xi(!1)),Ze(n,19,ga(0)),o&&Ze(n,431,xi(!1)),o&&Ze(n,444,ga(0)),Ze(n,61,qP()),Ze(n,64,xi(!1)),Ze(n,141,ga(0)),Ze(n,34,xi(fD(e)=="true")),Ze(n,14,xi(!0)),o&&Ze(n,439,xi(!1)),Ze(n,218,ga(0)),ZD(n,e,r),QD(n,e.SSF,r),t9(n,r),o&&Ze(n,352,xi(!1));var f=n.end(),p=Ii();o&&Ze(p,140,iF()),o&&r.Strings&&VD(p,252,$P(r.Strings)),Ze(p,10);var m=p.end(),h=Ii(),v=0,x=0;for(x=0;x<e.SheetNames.length;++x)v+=(o?12:11)+(o?2:1)*e.SheetNames[x].length;var S=f.length+v+m.length;for(x=0;x<e.SheetNames.length;++x){var y=a[x]||{};Ze(h,133,zP({pos:S,hs:y.Hidden||0,dt:0,name:e.SheetNames[x]},r)),S+=t[x].length}var w=h.end();if(v!=w.length)throw new Error("BS8 "+v+" != "+w.length);var _=[];return f.length&&_.push(f),w.length&&_.push(w),m.length&&_.push(m),Hn(_)}function o9(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Di(Zr)),e&&e.SSF&&(wp(),_p(e.SSF),r.revssf=bp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ov(r),r.cellXfs=[],fl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=a9(i,r,e);return n.unshift(s9(e,n,r)),Hn(n)}function Z6(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=aa(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return o9(e,t);case 4:case 3:case 2:return JD(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function l9(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var f=yr({r,c:s}),p=n.dense?(e[r]||[])[s]:e[f],m=p&&p.v!=null&&(p.h||BL(p.w||(no(p),p.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":p&&(h["data-t"]=p&&p.t||"z",p.v!=null&&(h["data-v"]=p.v),p.z!=null&&(h["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+p.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+f,a.push(Je("td",m,h))}}var v="<tr>";return v+a.join("")+"</tr>"}var c9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',u9="</body></html>";function f9(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Q6(e,t){var r=t||{},n=r.header!=null?r.header:c9,i=r.footer!=null?r.footer:u9,a=[n],s=aa(e["!ref"]);r.dense=Array.isArray(e),a.push(f9(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(l9(e,s,o,r));return a.push("</table>"+i),a.join("")}function eN(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Fn(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var f=aa(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var p=[],m=0,h=e["!rows"]||(e["!rows"]=[]),v=0,x=0,S=0,y=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&x<c;++v){var A=o[v];if(Y_(A)){if(n.display)continue;h[x]={hidden:!0}}var H=A.children;for(S=y=0;S<H.length;++S){var V=H[S];if(!(n.display&&Y_(V))){var C=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):qL(V.innerHTML),L=V.getAttribute("data-z")||V.getAttribute("z");for(m=0;m<p.length;++m){var j=p[m];j.s.c==y+a&&j.s.r<x+i&&x+i<=j.e.r&&(y=j.e.c+1-a,m=-1)}_=+V.getAttribute("colspan")||1,((w=+V.getAttribute("rowspan")||1)>1||_>1)&&p.push({s:{r:x+i,c:y+a},e:{r:x+i+(w||1)-1,c:y+a+(_||1)-1}});var M={t:"s",v:C},T=V.getAttribute("data-t")||V.getAttribute("t")||"";C!=null&&(C.length==0?M.t=T||"z":n.raw||C.trim().length==0||T=="s"||(C==="TRUE"?M={t:"b",v:!0}:C==="FALSE"?M={t:"b",v:!1}:isNaN(Xs(C))?isNaN(Bh(C).getDate())||(M={t:"d",v:_i(C)},n.cellDates||(M={t:"n",v:Ri(M.v)}),M.z=n.dateNF||Zr[14]):M={t:"n",v:Xs(C)})),M.z===void 0&&L!=null&&(M.z=L);var P="",D=V.getElementsByTagName("A");if(D&&D.length)for(var G=0;G<D.length&&!(D[G].hasAttribute("href")&&(P=D[G].getAttribute("href"),P.charAt(0)!="#"));++G);P&&P.charAt(0)!="#"&&(M.l={Target:P}),n.dense?(e[x+i]||(e[x+i]=[]),e[x+i][y+a]=M):e[yr({c:y+a,r:x+i})]=M,u.e.c<y+a&&(u.e.c=y+a),y+=_}}++x}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,x-1+i),e["!ref"]=gn(u),x>=c&&(e["!fullref"]=gn((u.e.r=o.length-v+x-1+i,u))),e}function tN(e,t){var r=t||{},n=r.dense?[]:{};return eN(n,e,t)}function h9(e,t){return pc(tN(e,t),t)}function Y_(e){var t="",r=d9(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function d9(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var p9=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+zh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return xn+t}}(),J_=function(){var e=function(a){return xr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var c=[];c.push('      <table:table table:name="'+xr(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,p=aa(a["!ref"]||"A1"),m=a["!merges"]||[],h=0,v=Array.isArray(a);if(a["!cols"])for(f=0;f<=p.e.c;++f)c.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var x="",S=a["!rows"]||[];for(u=0;u<p.s.r;++u)x=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=p.e.r;++u){for(x=S[u]?' table:style-name="ro'+S[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),f=0;f<p.s.c;++f)c.push(t);for(;f<=p.e.c;++f){var y=!1,w={},_="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>f)&&!(m[h].s.r>u)&&!(m[h].e.c<f)&&!(m[h].e.r<u)){(m[h].s.c!=f||m[h].s.r!=u)&&(y=!0),w["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,w["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(y){c.push(r);continue}var A=yr({r:u,c:f}),H=v?(a[u]||[])[f]:a[A];if(H&&H.f&&(w["table:formula"]=xr(OI(H.f)),H.F&&H.F.slice(0,A.length)==A)){var V=aa(H.F);w["table:number-matrix-columns-spanned"]=V.e.c-V.s.c+1,w["table:number-matrix-rows-spanned"]=V.e.r-V.s.r+1}if(!H){c.push(t);continue}switch(H.t){case"b":_=H.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=H.v?"true":"false";break;case"n":_=H.w||String(H.v||0),w["office:value-type"]="float",w["office:value"]=H.v||0;break;case"s":case"str":_=H.v==null?"":H.v,w["office:value-type"]="string";break;case"d":_=H.w||_i(H.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=_i(H.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(_);if(H.l&&H.l.Target){var L=H.l.Target;L=L.charAt(0)=="#"?"#"+II(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),C=Je("text:a",C,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+Je("table:table-cell",Je("text:p",C,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var p=u["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;jv(p),p.ods=o;var m=u["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),a.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var p=u["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var c=[xn],u=zh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=zh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(g6().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)c.push(n(s.Sheets[s.SheetNames[p]],s,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function rN(e,t){if(t.bookType=="fods")return J_(e,t);var r=vv(),n="",i=[],a=[];return n="mimetype",$t(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$t(r,n,J_(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",$t(r,n,p9(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",$t(r,n,xn+g6()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",$t(r,n,EP(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$t(r,n,NP(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function U1(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function m9(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ha(Uh(e))}function g9(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function il(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function x9(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function $h(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function pr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function vu(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Nn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=$h(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=$h(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function Un(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(pr(n*8+i.type)),i.type==2&&t.push(pr(i.data.length)),t.push(i.data))})}),il(t)}function Ra(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=$h(e,n),a=Nn(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:vu(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Nn(o.data),u=vu(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=vu(a[3][0].data)>>>0>0),r.push(s)}return r}function Dc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:pr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:pr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:pr(s.data.length)}],n[2].push({data:Un(s.meta),type:2})});var a=Un(n);t.push(pr(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),il(t)}function v9(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=$h(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[il(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var f=il(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Da(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(v9(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return il(t)}function Mc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=pr(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return il(t)}function Jm(e,t){var r=new Uint8Array(32),n=U1(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,x9(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function Zm(e,t){var r=new Uint8Array(32),n=U1(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Eo(e){var t=Nn(e);return $h(t[1][0].data)}function y9(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&vu(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=U1(e[7][0].data),f=0,p=[],m=U1(e[4][0].data),h=0,v=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535);continue}u.setUint16(x*2,f,!0),m.setUint16(x*2,h,!0);var S,y;switch(typeof t[x]){case"string":S=Jm({t:"s",v:t[x]},r),y=Zm({t:"s",v:t[x]},r);break;case"number":S=Jm({t:"n",v:t[x]},r),y=Zm({t:"n",v:t[x]},r);break;case"boolean":S=Jm({t:"b",v:t[x]},r),y=Zm({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}p.push(S),f+=S.length,v.push(y),h+=y.length,++c}for(e[2][0].data=pr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),m.setUint16(x*2,65535,!0);return e[6][0].data=il(p),e[3][0].data=il(v),c}function _9(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=aa(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(gn(n)));var a=z1(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(R){return R.forEach(function(F){typeof F=="string"&&s.push(F)})});var o={},c=[],u=wr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(R,F){return[R,u.FullPaths[F]]}).forEach(function(R){var F=R[0],B=R[1];if(F.type==2&&F.name.match(/\.iwa/)){var J=F.content,le=Da(J),he=Ra(le);he.forEach(function(fe){c.push(fe.id),o[fe.id]={deps:[],location:B,type:vu(fe.messages[0].meta[1][0].data)}})}}),c.sort(function(R,F){return R-F});var f=c.filter(function(R){return R>1}).map(function(R){return[R,pr(R)]});u.FileIndex.map(function(R,F){return[R,u.FullPaths[F]]}).forEach(function(R){var F=R[0];if(R[1],!!F.name.match(/\.iwa/)){var B=Ra(Da(F.content));B.forEach(function(J){J.messages.forEach(function(le){f.forEach(function(he){J.messages.some(function(fe){return vu(fe.meta[1][0].data)!=11006&&g9(fe.data,he[1])})&&o[he[0]].deps.push(J.id)})})})}});for(var p=wr.find(u,o[1].location),m=Ra(Da(p.content)),h,v=0;v<m.length;++v){var x=m[v];x.id==1&&(h=x)}var S=Eo(Nn(h.messages[0].data)[1][0].data);for(p=wr.find(u,o[S].location),m=Ra(Da(p.content)),v=0;v<m.length;++v)x=m[v],x.id==S&&(h=x);for(S=Eo(Nn(h.messages[0].data)[2][0].data),p=wr.find(u,o[S].location),m=Ra(Da(p.content)),v=0;v<m.length;++v)x=m[v],x.id==S&&(h=x);for(S=Eo(Nn(h.messages[0].data)[2][0].data),p=wr.find(u,o[S].location),m=Ra(Da(p.content)),v=0;v<m.length;++v)x=m[v],x.id==S&&(h=x);var y=Nn(h.messages[0].data);{y[6][0].data=pr(n.e.r+1),y[7][0].data=pr(n.e.c+1);var w=Eo(y[46][0].data),_=wr.find(u,o[w].location),A=Ra(Da(_.content));{for(var H=0;H<A.length&&A[H].id!=w;++H);if(A[H].id!=w)throw"Bad ColumnRowUIDMapArchive";var V=Nn(A[H].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var C=0;C<=n.e.c;++C){var L=[];L[1]=L[2]=[{type:0,data:pr(C+420690)}],V[1].push({type:2,data:Un(L)}),V[2].push({type:0,data:pr(C)}),V[3].push({type:0,data:pr(C)})}V[4]=[],V[5]=[],V[6]=[];for(var j=0;j<=n.e.r;++j)L=[],L[1]=L[2]=[{type:0,data:pr(j+726270)}],V[4].push({type:2,data:Un(L)}),V[5].push({type:0,data:pr(j)}),V[6].push({type:0,data:pr(j)});A[H].messages[0].data=Un(V)}_.content=Mc(Dc(A)),_.size=_.content.length,delete y[46];var M=Nn(y[4][0].data);{M[7][0].data=pr(n.e.r+1);var T=Nn(M[1][0].data),P=Eo(T[2][0].data);_=wr.find(u,o[P].location),A=Ra(Da(_.content));{if(A[0].id!=P)throw"Bad HeaderStorageBucket";var D=Nn(A[0].messages[0].data);for(j=0;j<a.length;++j){var G=Nn(D[2][0].data);G[1][0].data=pr(j),G[4][0].data=pr(a[j].length),D[2][j]={type:D[2][0].type,data:Un(G)}}A[0].messages[0].data=Un(D)}_.content=Mc(Dc(A)),_.size=_.content.length;var oe=Eo(M[2][0].data);_=wr.find(u,o[oe].location),A=Ra(Da(_.content));{if(A[0].id!=oe)throw"Bad HeaderStorageBucket";for(D=Nn(A[0].messages[0].data),C=0;C<=n.e.c;++C)G=Nn(D[2][0].data),G[1][0].data=pr(C),G[4][0].data=pr(n.e.r+1),D[2][C]={type:D[2][0].type,data:Un(G)};A[0].messages[0].data=Un(D)}_.content=Mc(Dc(A)),_.size=_.content.length;var ve=Eo(M[4][0].data);(function(){for(var R=wr.find(u,o[ve].location),F=Ra(Da(R.content)),B,J=0;J<F.length;++J){var le=F[J];le.id==ve&&(B=le)}var he=Nn(B.messages[0].data);{he[3]=[];var fe=[];s.forEach(function(Be,Xe){fe[1]=[{type:0,data:pr(Xe)}],fe[2]=[{type:0,data:pr(1)}],fe[3]=[{type:2,data:m9(Be)}],he[3].push({type:2,data:Un(fe)})})}B.messages[0].data=Un(he);var de=Dc(F),Fe=Mc(de);R.content=Fe,R.size=R.content.length})();var we=Nn(M[3][0].data);{var se=we[1][0];delete we[2];var me=Nn(se.data);{var Te=Eo(me[2][0].data);(function(){for(var R=wr.find(u,o[Te].location),F=Ra(Da(R.content)),B,J=0;J<F.length;++J){var le=F[J];le.id==Te&&(B=le)}var he=Nn(B.messages[0].data);{delete he[6],delete we[7];var fe=new Uint8Array(he[5][0].data);he[5]=[];for(var de=0,Fe=0;Fe<=n.e.r;++Fe){var Be=Nn(fe);de+=y9(Be,a[Fe],s),Be[1][0].data=pr(Fe),he[5].push({data:Un(Be),type:2})}he[1]=[{type:0,data:pr(n.e.c+1)}],he[2]=[{type:0,data:pr(n.e.r+1)}],he[3]=[{type:0,data:pr(de)}],he[4]=[{type:0,data:pr(n.e.r+1)}]}B.messages[0].data=Un(he);var Xe=Dc(F),Se=Mc(Xe);R.content=Se,R.size=R.content.length})()}se.data=Un(me)}M[3][0].data=Un(we)}y[4][0].data=Un(M)}h.messages[0].data=Un(y);var ke=Dc(m),E=Mc(ke);return p.content=E,p.size=p.content.length,u}function w9(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Ov(e){w9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function b9(e,t){return t.bookType=="ods"?rN(e,t):t.bookType=="numbers"?_9(e,t):t.bookType=="xlsb"?S9(e,t):N9(e,t)}function S9(e,t){ou=1024,e&&!e.SSF&&(e.SSF=Di(Zr)),e&&e.SSF&&(wp(),_p(e.SSF),t.revssf=bp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=M6.indexOf(t.bookType)>-1,i=d6();Ov(t=t||{});var a=vv(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",$t(a,s,x6(e.Props,t)),i.coreprops.push(s),mr(t.rels,2,s,nr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,$t(a,s,y6(e.Props)),i.extprops.push(s),mr(t.rels,3,s,nr.EXT_PROPS),e.Custprops!==e.Props&&Yn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",$t(a,s,_6(e.Custprops)),i.custprops.push(s),mr(t.rels,4,s,nr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,$t(a,s,ED(o-1,s,t,e,f)),i.sheets.push(s),mr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nr.WS[0])}if(p){var h=p["!comments"],v=!1,x="";h&&h.length>0&&(x="xl/comments"+o+"."+r,$t(a,x,jD(h,x)),i.comments.push(x),mr(f,-1,"../comments"+o+"."+r,nr.CMNT),v=!0),p["!legacy"]&&v&&$t(a,"xl/drawings/vmlDrawing"+o+".vml",R6(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&$t(a,m6(s),gu(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,$t(a,s,TD(t.Strings,s,t)),i.strs.push(s),mr(t.wbrels,-1,"sharedStrings."+r,nr.SST)),s="xl/workbook."+r,$t(a,s,AD(e,s)),i.workbooks.push(s),mr(t.rels,1,s,nr.WB),s="xl/theme/theme1.xml",$t(a,s,O6(e.Themes,t)),i.themes.push(s),mr(t.wbrels,-1,"theme/theme1.xml",nr.THEME),s="xl/styles."+r,$t(a,s,kD(e,s,t)),i.styles.push(s),mr(t.wbrels,-1,"styles."+r,nr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",$t(a,s,e.vbaraw),i.vba.push(s),mr(t.wbrels,-1,"vbaProject.bin",nr.VBA)),s="xl/metadata."+r,$t(a,s,CD(s)),i.metadata.push(s),mr(t.wbrels,-1,"metadata."+r,nr.XLMETA),$t(a,"[Content_Types].xml",p6(i,t)),$t(a,"_rels/.rels",gu(t.rels)),$t(a,"xl/_rels/workbook."+r+".rels",gu(t.wbrels)),delete t.revssf,delete t.ssf,a}function N9(e,t){ou=1024,e&&!e.SSF&&(e.SSF=Di(Zr)),e&&e.SSF&&(wp(),_p(e.SSF),t.revssf=bp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=M6.indexOf(t.bookType)>-1,i=d6();Ov(t=t||{});var a=vv(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",$t(a,s,x6(e.Props,t)),i.coreprops.push(s),mr(t.rels,2,s,nr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,$t(a,s,y6(e.Props)),i.extprops.push(s),mr(t.rels,3,s,nr.EXT_PROPS),e.Custprops!==e.Props&&Yn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",$t(a,s,_6(e.Custprops)),i.custprops.push(s),mr(t.rels,4,s,nr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var p={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,$t(a,s,G6(o-1,t,e,p)),i.sheets.push(s),mr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,nr.WS[0])}if(m){var v=m["!comments"],x=!1,S="";if(v&&v.length>0){var y=!1;v.forEach(function(w){w[1].forEach(function(_){_.T==!0&&(y=!0)})}),y&&(S="xl/threadedComments/threadedComment"+o+"."+r,$t(a,S,tO(v,f,t)),i.threadedcomments.push(S),mr(p,-1,"../threadedComments/threadedComment"+o+"."+r,nr.TCMNT)),S="xl/comments"+o+"."+r,$t(a,S,D6(v)),i.comments.push(S),mr(p,-1,"../comments"+o+"."+r,nr.CMNT),x=!0}m["!legacy"]&&x&&$t(a,"xl/drawings/vmlDrawing"+o+".vml",R6(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&$t(a,m6(s),gu(p))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,$t(a,s,T6(t.Strings,t)),i.strs.push(s),mr(t.wbrels,-1,"sharedStrings."+r,nr.SST)),s="xl/workbook."+r,$t(a,s,Y6(e)),i.workbooks.push(s),mr(t.rels,1,s,nr.WB),s="xl/theme/theme1.xml",$t(a,s,O6(e.Themes,t)),i.themes.push(s),mr(t.wbrels,-1,"theme/theme1.xml",nr.THEME),s="xl/styles."+r,$t(a,s,P6(e,t)),i.styles.push(s),mr(t.wbrels,-1,"styles."+r,nr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",$t(a,s,e.vbaraw),i.vba.push(s),mr(t.wbrels,-1,"vbaProject.bin",nr.VBA)),s="xl/metadata."+r,$t(a,s,I6()),i.metadata.push(s),mr(t.wbrels,-1,"metadata."+r,nr.XLMETA),f.length>1&&(s="xl/persons/person.xml",$t(a,s,rO(f)),i.people.push(s),mr(t.wbrels,-1,"persons/person.xml",nr.PEOPLE)),$t(a,"[Content_Types].xml",p6(i,t)),$t(a,"_rels/.rels",gu(t.rels)),$t(a,"xl/_rels/workbook."+r+".rels",gu(t.wbrels)),delete t.revssf,delete t.ssf,a}function A9(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ro(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function nN(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ld(t.file,wr.write(e,{type:sr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return wr.write(e,t)}function E9(e,t){var r=Di(t||{}),n=b9(e,r);return k9(n,r)}function k9(e,t){var r={},n=sr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?wr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(yp(i))}return t.password&&typeof encrypt_agile<"u"?nN(encrypt_agile(i,t.password),t):t.type==="file"?ld(t.file,i):t.type=="string"?ch(i):i}function T9(e,t){var r=t||{},n=HD(e,r);return nN(n,r)}function fs(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Mh(Uh(n));case"binary":return Uh(n);case"string":return e;case"file":return ld(t.file,n,"utf8");case"buffer":return sr?ao(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):fs(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function j9(e,t){switch(t.type){case"base64":return Mh(e);case"binary":return e;case"string":return e;case"file":return ld(t.file,e,"binary");case"buffer":return sr?ao(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function w0(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Mh(r):t.type=="string"?ch(r):r;case"file":return ld(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function iN(e,t){nL(),pD(e);var r=Di(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=iN(e,r);return r.type="array",yp(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return fs($D(e,r),r);case"slk":case"sylk":return fs(fF.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return fs(Q6(e.Sheets[e.SheetNames[i]],r),r);case"txt":return j9(aN(e.Sheets[e.SheetNames[i]],r),r);case"csv":return fs(Iv(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return fs(hF.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return w0(uF.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return fs(dF.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return fs(_F.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return fs(k6.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return fs(rN(e,r),r);case"wk1":return w0(H_.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return w0(H_.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),w0(Z6(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),T9(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return E9(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function C9(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function L9(e,t,r){var n={};return n.type="file",n.file=t,C9(n),iN(e,n)}function P9(e,t,r,n,i,a,s,o){var c=Kn(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var v=s?e[r][h]:e[n[h]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[h]!=null&&(m[a[h]]=u);continue}var x=v.v;switch(v.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[h]!=null){if(x==null)if(v.t=="e"&&x===null)m[a[h]]=null;else if(u!==void 0)m[a[h]]=u;else if(f&&x===null)m[a[h]]=null;else continue;else m[a[h]]=f&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?x:no(v,x,o);x!=null&&(p=!1)}}return{row:m,isempty:p}}function z1(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=Or(f);break;case"number":c=Or(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(i=0);var p=Kn(c.s.r),m=[],h=[],v=0,x=0,S=Array.isArray(e),y=c.s.r,w=0,_={};S&&!e[y]&&(e[y]=[]);var A=u.skipHidden&&e["!cols"]||[],H=u.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(A[w]||{}).hidden)switch(m[w]=li(w),r=S?e[y][w]:e[m[w]+p],n){case 1:a[w]=w-c.s.c;break;case 2:a[w]=m[w];break;case 3:a[w]=u.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=no(r,null,u),x=_[s]||0,!x)_[s]=1;else{do o=s+"_"+x++;while(_[o]);_[s]=x,_[o]=1}a[w]=o}for(y=c.s.r+i;y<=c.e.r;++y)if(!(H[y]||{}).hidden){var V=P9(e,c,y,m,n,a,S,u);(V.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=V.row)}return h.length=v,h}var Z_=/"/g;function F9(e,t,r,n,i,a,s,o){for(var c=!0,u=[],f="",p=Kn(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=o.dense?(e[r]||[])[m]:e[n[m]+p];if(h==null)f="";else if(h.v!=null){c=!1,f=""+(o.rawNumbers&&h.t=="n"?h.v:no(h,null,o));for(var v=0,x=0;v!==f.length;++v)if((x=f.charCodeAt(v))===i||x===a||x===34||o.forceQuotes){f='"'+f.replace(Z_,'""')+'"';break}f=="ID"&&(f='"ID"')}else h.f!=null&&!h.F?(c=!1,f="="+h.f,f.indexOf(",")>=0&&(f='"'+f.replace(Z_,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&c?null:u.join(s)}function Iv(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Or(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),f="",p=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(m[v]||{}).hidden||(p[v]=li(v));for(var x=0,S=i.s.r;S<=i.e.r;++S)(h[S]||{}).hidden||(f=F9(e,i,S,p,s,c,a,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((x++?o:"")+f)));return delete n.dense,r.join("")}function aN(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Iv(e,t);return r}function O9(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Or(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=li(o);for(var f=i.s.r;f<=i.e.r;++f)for(a=Kn(f),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function sN(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Fn(n.origin):n.origin;s=c.r,o=c.c}var u,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var p=Or(a["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(s=p.e.r+1,f.e.r=s+t.length-1+i)}else s==-1&&(s=0,f.e.r=t.length-1+i);var m=n.header||[],h=0;t.forEach(function(x,S){Yn(x).forEach(function(y){(h=m.indexOf(y))==-1&&(m[h=m.length]=y);var w=x[y],_="z",A="",H=yr({c:o+h,r:s+S+i});u=qh(a,H),w&&typeof w=="object"&&!(w instanceof Date)?a[H]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",n.cellDates||(_="n",w=Ri(w)),A=n.dateNF||Zr[14]):w===null&&n.nullError&&(_="e",w=0),u?(u.t=_,u.v=w,delete u.w,delete u.R,A&&(u.z=A)):a[H]=u={t:_,v:w},A&&(u.z=A))})}),f.e.c=Math.max(f.e.c,o+m.length-1);var v=Kn(s);if(i)for(h=0;h<m.length;++h)a[li(h+o)+v]={t:"s",v:m[h]};return a["!ref"]=gn(f),a}function I9(e,t){return sN(null,e,t)}function qh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Fn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?qh(e,yr(t)):qh(e,yr({r:t,c:r||0}))}function R9(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function D9(){return{SheetNames:[],Sheets:{}}}function M9(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(X6(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function B9(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=R9(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function U9(e,t){return e.z=t,e}function oN(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function z9(e,t,r){return oN(e,"#"+t,r)}function $9(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function q9(e,t,r,n){for(var i=typeof t!="string"?t:Or(t),a=typeof t=="string"?t:gn(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=qh(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Qm={encode_col:li,encode_row:Kn,encode_cell:yr,encode_range:gn,decode_col:Nv,decode_row:Sv,split_cell:nP,decode_cell:Fn,decode_range:aa,format_cell:no,sheet_add_aoa:o6,sheet_add_json:sN,sheet_add_dom:eN,aoa_to_sheet:Ku,json_to_sheet:I9,table_to_sheet:tN,table_to_book:h9,sheet_to_csv:Iv,sheet_to_txt:aN,sheet_to_json:z1,sheet_to_html:Q6,sheet_to_formulae:O9,sheet_to_row_object_array:z1,sheet_get_cell:qh,book_new:D9,book_append_sheet:M9,book_set_sheet_visibility:B9,cell_set_number_format:U9,cell_set_hyperlink:oN,cell_set_internal_link:z9,cell_add_comment:$9,sheet_set_array_formula:q9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function H9(e,t){const r=Qm.json_to_sheet(e),n=Qm.book_new();Qm.book_append_sheet(n,r,"Sheet1"),L9(n,`${t}.xlsx`)}function W9(){const{isAdmin:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState([]),[a,s]=Z.useState([]),[o,c]=Z.useState(!0),[u,f]=Z.useState(""),[p,m]=Z.useState("all"),[h,v]=Z.useState(!1),[x,S]=Z.useState(!1),[y,w]=Z.useState(null);Z.useEffect(()=>{_()},[]);const _=async()=>{try{const[C,L,j]=await Promise.all([Re.from("students").select(`
            *,
            classes:current_class_id(class_name),
            sections:current_section_id(section_name)
          `).order("created_at",{ascending:!1}),Re.from("classes").select("*").eq("is_active",!0).order("class_order"),Re.from("sections").select("*, classes(class_name)").eq("is_active",!0)]);if(C.error)throw C.error;if(L.error)throw L.error;if(j.error)throw j.error;r(C.data||[]),i(L.data||[]),s(j.data||[])}catch(C){console.error("Error loading data:",C)}finally{c(!1)}},A=async C=>{if(confirm("Are you sure you want to delete this student?"))try{const{error:L}=await Re.from("students").delete().eq("id",C);if(L)throw L;await _()}catch(L){console.error("Error deleting student:",L),alert("Failed to delete student")}},H=()=>{const C=V.map(L=>{var j,M;return{"Admission Number":L.admission_number,"First Name":L.first_name,"Last Name":L.last_name,"Father Name":L.father_name,"Mother Name":L.mother_name||"","Date of Birth":L.date_of_birth,Gender:L.gender,Class:((j=L.classes)==null?void 0:j.class_name)||"",Section:((M=L.sections)==null?void 0:M.section_name)||"",Phone:L.phone||"",Email:L.email||"",Status:L.status}});H9(C,"Students_List")},V=t.filter(C=>{const L=C.first_name.toLowerCase().includes(u.toLowerCase())||C.last_name.toLowerCase().includes(u.toLowerCase())||C.admission_number.toLowerCase().includes(u.toLowerCase())||C.father_name.toLowerCase().includes(u.toLowerCase()),j=p==="all"||C.status===p;return L&&j});return o?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{children:"Loading students..."})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Students"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student records and information"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Qe,{variant:"secondary",onClick:H,children:[l.jsx(xp,{className:"w-5 h-5 mr-2"}),"Export"]}),e&&l.jsxs(Qe,{onClick:()=>{w(null),v(!0)},children:[l.jsx(Ou,{className:"w-5 h-5 mr-2"}),"Add Student"]})]})]}),l.jsxs(Ke,{children:[l.jsxs("div",{className:"mb-4 flex gap-4 items-end",children:[l.jsx("div",{className:"flex-1 max-w-md",children:l.jsxs("div",{className:"relative",children:[l.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search by name, admission number, father name...",value:u,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),l.jsx("div",{className:"w-48",children:l.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"promoted",children:"Promoted"}),l.jsx("option",{value:"transferred",children:"Transferred"}),l.jsx("option",{value:"alumni",children:"Alumni"})]})})]}),l.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",V.length," of ",t.length," students"]}),l.jsx(Gn,{headers:["Admission No","Student Name","Father Name","Class","Gender","Contact","Status","Actions"],children:V.length===0?l.jsx(Ur,{children:l.jsx(De,{className:"text-center text-gray-500",colSpan:8,children:"No students found"})}):V.map(C=>{var L,j;return l.jsxs(Ur,{children:[l.jsx(De,{className:"font-medium",children:C.admission_number}),l.jsx(De,{children:l.jsxs("div",{className:"font-medium text-gray-900",children:[C.first_name," ",C.last_name]})}),l.jsx(De,{children:C.father_name}),l.jsxs(De,{children:[((L=C.classes)==null?void 0:L.class_name)||"-"," ",((j=C.sections)==null?void 0:j.section_name)||""]}),l.jsx(De,{className:"capitalize",children:C.gender}),l.jsx(De,{children:C.phone||"-"}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.status==="active"?"bg-green-100 text-green-800":C.status==="promoted"?"bg-blue-100 text-blue-800":C.status==="transferred"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:C.status})}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{w(C),S(!0)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"View Details",children:l.jsx(fv,{className:"w-4 h-4"})}),e&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{w(C),v(!0)},className:"p-1.5 text-amber-600 hover:bg-amber-50 rounded transition",title:"Edit",children:l.jsx(L7,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>A(C.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition",title:"Delete",children:l.jsx(vp,{className:"w-4 h-4"})})]})]})})]},C.id)})})]}),l.jsx(wi,{isOpen:h,onClose:()=>{v(!1),w(null)},title:y?"Edit Student":"Add New Student",size:"xl",children:l.jsx(V9,{student:y,classes:n,sections:a,onClose:()=>{v(!1),w(null),_()}})}),l.jsx(wi,{isOpen:x,onClose:()=>{S(!1),w(null)},title:"Student Details",size:"lg",children:y&&l.jsx(G9,{student:y})})]})}function V9({student:e,classes:t,sections:r,onClose:n}){const[i,a]=Z.useState({admission_number:(e==null?void 0:e.admission_number)||"",first_name:(e==null?void 0:e.first_name)||"",last_name:(e==null?void 0:e.last_name)||"",father_name:(e==null?void 0:e.father_name)||"",mother_name:(e==null?void 0:e.mother_name)||"",date_of_birth:(e==null?void 0:e.date_of_birth)||"",gender:(e==null?void 0:e.gender)||"male",cnic:(e==null?void 0:e.cnic)||"",current_class_id:(e==null?void 0:e.current_class_id)||"",current_section_id:(e==null?void 0:e.current_section_id)||"",admission_date:(e==null?void 0:e.admission_date)||new Date().toISOString().split("T")[0],phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",address:(e==null?void 0:e.address)||"",status:(e==null?void 0:e.status)||"active"}),[s,o]=Z.useState(!1),c=r.filter(f=>f.class_id===i.current_class_id),u=async f=>{f.preventDefault(),o(!0);try{if(e){const{error:p}=await Re.from("students").update(i).eq("id",e.id);if(p)throw p}else{const{error:p}=await Re.from("students").insert([{...i,admission_class_id:i.current_class_id||null}]);if(p)throw p}n()}catch(p){console.error("Error saving student:",p),alert(p.message||"Error saving student")}finally{o(!1)}};return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(it,{label:"Admission Number",value:i.admission_number,onChange:f=>a({...i,admission_number:f.target.value}),required:!0}),l.jsx(it,{label:"Admission Date",type:"date",value:i.admission_date,onChange:f=>a({...i,admission_date:f.target.value}),required:!0}),l.jsx(it,{label:"First Name",value:i.first_name,onChange:f=>a({...i,first_name:f.target.value}),required:!0}),l.jsx(it,{label:"Last Name",value:i.last_name,onChange:f=>a({...i,last_name:f.target.value}),required:!0}),l.jsx(it,{label:"Father's Name",value:i.father_name,onChange:f=>a({...i,father_name:f.target.value}),required:!0}),l.jsx(it,{label:"Mother's Name",value:i.mother_name,onChange:f=>a({...i,mother_name:f.target.value})}),l.jsx(it,{label:"Date of Birth",type:"date",value:i.date_of_birth,onChange:f=>a({...i,date_of_birth:f.target.value}),required:!0}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),l.jsxs("select",{value:i.gender,onChange:f=>a({...i,gender:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"})]})]}),l.jsx(it,{label:"CNIC/B-Form",value:i.cnic,onChange:f=>a({...i,cnic:f.target.value}),placeholder:"XXXXX-XXXXXXX-X"}),l.jsx(it,{label:"Phone Number",type:"tel",value:i.phone,onChange:f=>a({...i,phone:f.target.value})}),l.jsx(it,{label:"Email",type:"email",value:i.email,onChange:f=>a({...i,email:f.target.value})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),l.jsxs("select",{value:i.current_class_id,onChange:f=>a({...i,current_class_id:f.target.value,current_section_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Class"}),t.map(f=>l.jsx("option",{value:f.id,children:f.class_name},f.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section"}),l.jsxs("select",{value:i.current_section_id,onChange:f=>a({...i,current_section_id:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!i.current_class_id,children:[l.jsx("option",{value:"",children:"Select Section"}),c.map(f=>l.jsx("option",{value:f.id,children:f.section_name},f.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),l.jsxs("select",{value:i.status,onChange:f=>a({...i,status:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"promoted",children:"Promoted"}),l.jsx("option",{value:"transferred",children:"Transferred"}),l.jsx("option",{value:"alumni",children:"Alumni"}),l.jsx("option",{value:"discontinued",children:"Discontinued"})]})]})]}),l.jsx("div",{children:l.jsx(it,{label:"Address",value:i.address,onChange:f=>a({...i,address:f.target.value})})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:s,children:s?"Saving...":e?"Update Student":"Add Student"})]})]})}function G9({student:e}){var t,r;return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Admission Number"}),l.jsx("p",{className:"font-medium",children:e.admission_number})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),l.jsx("p",{className:"font-medium capitalize",children:e.status})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Full Name"}),l.jsxs("p",{className:"font-medium",children:[e.first_name," ",e.last_name]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Father's Name"}),l.jsx("p",{className:"font-medium",children:e.father_name})]}),e.mother_name&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Mother's Name"}),l.jsx("p",{className:"font-medium",children:e.mother_name})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Date of Birth"}),l.jsx("p",{className:"font-medium",children:new Date(e.date_of_birth).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Gender"}),l.jsx("p",{className:"font-medium capitalize",children:e.gender})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"CNIC/B-Form"}),l.jsx("p",{className:"font-medium",children:e.cnic||"-"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Academic Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Class"}),l.jsx("p",{className:"font-medium",children:((t=e.classes)==null?void 0:t.class_name)||"-"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Section"}),l.jsx("p",{className:"font-medium",children:((r=e.sections)==null?void 0:r.section_name)||"-"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Admission Date"}),l.jsx("p",{className:"font-medium",children:new Date(e.admission_date).toLocaleDateString()})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contact Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Phone"}),l.jsx("p",{className:"font-medium",children:e.phone||"-"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),l.jsx("p",{className:"font-medium",children:e.email||"-"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Address"}),l.jsx("p",{className:"font-medium",children:e.address||"-"})]})]})]}),l.jsx(Y7,{studentId:e.id}),l.jsx(Z7,{studentId:e.id}),l.jsx(Q7,{studentId:e.id})]})}function eg(){const{profile:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(!0);Z.useEffect(()=>{a()},[e]);const a=async()=>{try{let o=Re.from("results").select(`
          *,
          students (first_name, last_name, admission_number),
          terms (term_name)
        `).order("created_at",{ascending:!1});if((e==null?void 0:e.role)==="student"){const{data:f}=await Re.from("students").select("id").eq("user_id",e.id).maybeSingle();f&&(o=o.eq("student_id",f.id))}const{data:c,error:u}=await o;if(u)throw u;r(c||[])}catch(o){console.error("Error loading results:",o)}finally{i(!1)}},s=o=>o==="pass"||o==="promoted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return n?l.jsx("div",{children:"Loading results..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"View academic performance and grades"})]})}),l.jsx(Ke,{children:l.jsx(Gn,{headers:["Student","Admission No","Term","Obtained","Total","Percentage","Grade","Status","Actions"],children:t.length===0?l.jsx(Ur,{children:l.jsx(De,{className:"text-center",colSpan:9,children:"No results found"})}):t.map(o=>l.jsxs(Ur,{children:[l.jsxs(De,{children:[o.students.first_name," ",o.students.last_name]}),l.jsx(De,{children:o.students.admission_number}),l.jsx(De,{children:o.terms.term_name}),l.jsx(De,{children:o.obtained_marks}),l.jsx(De,{children:o.total_marks}),l.jsxs(De,{children:[o.percentage.toFixed(2),"%"]}),l.jsx(De,{children:o.grade||"N/A"}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s(o.result_status)}`,children:o.result_status})}),l.jsx(De,{children:l.jsxs(Qe,{size:"sm",variant:"ghost",children:[l.jsx(xp,{className:"w-4 h-4 mr-1"}),"Report"]})})]},o.id))})}),(e==null?void 0:e.role)==="student"&&t.length>0&&l.jsx(Ke,{title:"Your Performance Overview",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Average Percentage"}),l.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[(t.reduce((o,c)=>o+c.percentage,0)/t.length).toFixed(2),"%"]})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Terms Passed"}),l.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(o=>o.result_status==="pass").length})]}),l.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Terms"}),l.jsx("p",{className:"text-3xl font-bold text-amber-600",children:t.length})]})]})})]})}function Q_(){const{profile:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(!0),[a,s]=Z.useState(new Date().toISOString().split("T")[0]);Z.useEffect(()=>{o()},[e,a]);const o=async()=>{try{let m=Re.from("student_attendance").select(`
          *,
          students (first_name, last_name, admission_number)
        `).eq("attendance_date",a).order("created_at",{ascending:!1});if((e==null?void 0:e.role)==="student"){const{data:x}=await Re.from("students").select("id").eq("user_id",e.id).maybeSingle();x&&(m=m.eq("student_id",x.id))}const{data:h,error:v}=await m;if(v)throw v;r(h||[])}catch(m){console.error("Error loading attendance:",m)}finally{i(!1)}},c=m=>{switch(m){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-amber-100 text-amber-800";case"half_day":return"bg-blue-100 text-blue-800";case"leave":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},u=t.filter(m=>m.status==="present").length,f=t.filter(m=>m.status==="absent").length,p=t.length>0?u/t.length*100:0;return n?l.jsx("div",{children:"Loading attendance..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Attendance"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track daily attendance records"})]}),(e==null?void 0:e.role)==="teacher"&&l.jsxs(Qe,{children:[l.jsx(D2,{className:"w-5 h-5 mr-2"}),"Mark Attendance"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Present"}),l.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:u})]}),l.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:l.jsx(D2,{className:"w-6 h-6 text-green-600"})})]})}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absent"}),l.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:f})]}),l.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:l.jsx(z7,{className:"w-6 h-6 text-red-600"})})]})}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Percentage"}),l.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[p.toFixed(1),"%"]})]}),l.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:l.jsx(Yl,{className:"w-6 h-6 text-blue-600"})})]})})]}),l.jsxs(Ke,{children:[l.jsx("div",{className:"mb-4 flex items-center gap-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Date"}),l.jsx("input",{type:"date",value:a,onChange:m=>s(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),l.jsx(Gn,{headers:["Student","Admission No","Date","Status","Check-in Time"],children:t.length===0?l.jsx(Ur,{children:l.jsx(De,{className:"text-center",colSpan:5,children:"No attendance records for selected date"})}):t.map(m=>l.jsxs(Ur,{children:[l.jsxs(De,{children:[m.students.first_name," ",m.students.last_name]}),l.jsx(De,{children:m.students.admission_number}),l.jsx(De,{children:new Date(m.attendance_date).toLocaleDateString()}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${c(m.status)}`,children:m.status})}),l.jsx(De,{children:"N/A"})]},m.id))})]})]})}function tg(){const{profile:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(!0);Z.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:c,error:u}=await Re.from("announcements").select("*").eq("is_active",!0).order("publish_date",{ascending:!1});if(u)throw u;r(c||[])}catch(c){console.error("Error loading announcements:",c)}finally{i(!1)}},s=c=>{switch(c){case"urgent":return"bg-red-100 text-red-800";case"academic":return"bg-blue-100 text-blue-800";case"event":return"bg-purple-100 text-purple-800";case"holiday":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},o=c=>c==="urgent"?l.jsx(NS,{className:"w-5 h-5"}):l.jsx(Pu,{className:"w-5 h-5"});return n?l.jsx("div",{children:"Loading announcements..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Announcements"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"School news and updates"})]}),(e==null?void 0:e.role)==="admin"&&l.jsxs(Qe,{children:[l.jsx(Ou,{className:"w-5 h-5 mr-2"}),"New Announcement"]})]}),l.jsx("div",{className:"space-y-4",children:t.length===0?l.jsx(Ke,{children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Pu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"No announcements yet"})]})}):t.map(c=>l.jsx(Ke,{children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-full ${s(c.announcement_type)}`,children:o(c.announcement_type)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.title}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s(c.announcement_type)}`,children:c.announcement_type})]}),l.jsx("p",{className:"text-gray-700 mb-3",children:c.content}),l.jsx("p",{className:"text-sm text-gray-500",children:new Date(c.publish_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},c.id))})]})}function K9(){const{profile:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState([]),[a,s]=Z.useState(!0);Z.useEffect(()=>{setTimeout(()=>{r([{title:"Total Students",value:1247,change:8.2,icon:l.jsx(ic,{className:"w-6 h-6"}),color:"text-blue-600 bg-blue-100"},{title:"Active Teachers",value:67,change:3.1,icon:l.jsx(Fu,{className:"w-6 h-6"}),color:"text-green-600 bg-green-100"},{title:"Classes & Sections",value:42,change:0,icon:l.jsx(oh,{className:"w-6 h-6"}),color:"text-purple-600 bg-purple-100"},{title:"Today's Attendance",value:94.2,change:2.1,icon:l.jsx(Yl,{className:"w-6 h-6"}),color:"text-orange-600 bg-orange-100"}]),i([{id:"1",type:"student",message:"New student registration: Ahmed Ali (Class 9-A)",timestamp:"2 minutes ago",status:"success"},{id:"2",type:"attendance",message:"Attendance marked for Class 10-B (45/48 students present)",timestamp:"15 minutes ago",status:"info"},{id:"3",type:"teacher",message:"Teacher profile updated: Ms. Sarah Khan",timestamp:"1 hour ago",status:"success"},{id:"4",type:"announcement",message:"New announcement published: Parent-Teacher Meeting",timestamp:"2 hours ago",status:"info"},{id:"5",type:"student",message:"Low attendance alert: Class 8-C (78% attendance)",timestamp:"3 hours ago",status:"warning"}]),s(!1)},1e3)},[]);const o=u=>{switch(u){case"success":return l.jsx(D2,{className:"w-4 h-4 text-green-500"});case"warning":return l.jsx(NS,{className:"w-4 h-4 text-yellow-500"});case"info":return l.jsx(V0,{className:"w-4 h-4 text-blue-500"});default:return l.jsx(V0,{className:"w-4 h-4 text-gray-500"})}},c=u=>{switch(u){case"student":return l.jsx(ic,{className:"w-4 h-4 text-blue-500"});case"teacher":return l.jsx(Fu,{className:"w-4 h-4 text-green-500"});case"attendance":return l.jsx(Yl,{className:"w-4 h-4 text-purple-500"});case"announcement":return l.jsx(k1,{className:"w-4 h-4 text-orange-500"});default:return l.jsx(V0,{className:"w-4 h-4 text-gray-500"})}};return a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded animate-pulse"}),l.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(u=>l.jsxs(Ke,{className:"p-6",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse mb-2"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]},u))})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:["Welcome back, ",(e==null?void 0:e.full_name)||"Admin"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Here's what's happening at your school today"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{children:"Current Term (2024-25)"}),l.jsx("option",{children:"Previous Term (2023-24)"})]}),l.jsxs(Qe,{className:"flex items-center gap-2",children:[l.jsx(Ou,{className:"w-4 h-4"}),"Quick Action"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:t.map(u=>l.jsx(Ke,{className:"p-6 hover:shadow-lg transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:u.title}),l.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[l.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u.value,u.title.includes("Attendance")?"%":""]}),u.change!==void 0&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(U7,{className:`w-4 h-4 ${u.change>=0?"text-green-500":"text-red-500"}`}),l.jsxs("span",{className:`text-sm font-medium ${u.change>=0?"text-green-600":"text-red-600"}`,children:[u.change>=0?"+":"",u.change,"%"]})]})]})]}),l.jsx("div",{className:`p-3 rounded-full ${u.color}`,children:u.icon})]})},u.title))}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Ke,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),l.jsxs(Qe,{variant:"secondary",size:"sm",className:"flex items-center gap-2",children:[l.jsx(fv,{className:"w-4 h-4"}),"View All"]})]}),l.jsx("div",{className:"space-y-4",children:n.map(u=>l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[c(u.type),o(u.status)]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-gray-900",children:u.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.timestamp})]})]},u.id))})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Qe,{className:"w-full justify-start",variant:"secondary",children:[l.jsx(Ou,{className:"w-4 h-4 mr-2"}),"Add New Student"]}),l.jsxs(Qe,{className:"w-full justify-start",variant:"secondary",children:[l.jsx(Yl,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]}),l.jsxs(Qe,{className:"w-full justify-start",variant:"secondary",children:[l.jsx(k1,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),l.jsxs(Qe,{className:"w-full justify-start",variant:"secondary",children:[l.jsx(C7,{className:"w-4 h-4 mr-2"}),"Generate Reports"]})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-600",children:"Online"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Backup"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-green-600",children:"Up to date"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Storage"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-sm text-yellow-600",children:"75% used"})]})]})]})]})]})]})]})}function X9(){const{hasPermission:e}=Ar(),[t,r]=Z.useState(!1),[n,i]=Z.useState(!1),[a,s]=Z.useState(null),[o,c]=Z.useState([]),[u,f]=Z.useState([]),[p,m]=Z.useState(!1),[h,v]=Z.useState(null),[x,S]=Z.useState(""),[y,w]=Z.useState("all"),[_,A]=Z.useState("all"),H=e("manage_students");Z.useEffect(()=>{const P=[{id:"1",admissionNumber:"ADM-2024-001",fullName:"Ahmed Ali Khan",class:"10",section:"A",parentName:"Muhammad Ali Khan",contactNumber:"+92-300-1234567",email:"ahmed.ali@email.com",status:"active",joiningDate:"2024-01-15",address:"House 123, Street 45, Karachi",dateOfBirth:"2008-05-15",gender:"male",bloodGroup:"O+",emergencyContact:"+92-300-7654321"},{id:"2",admissionNumber:"ADM-2024-002",fullName:"Fatima Zahra",class:"9",section:"B",parentName:"Hassan Ahmed",contactNumber:"+92-301-2345678",email:"fatima.zahra@email.com",status:"active",joiningDate:"2024-01-20",address:"Apartment 456, Block 7, Lahore",dateOfBirth:"2009-03-22",gender:"female",bloodGroup:"A+",emergencyContact:"+92-301-8765432"},{id:"3",admissionNumber:"ADM-2023-150",fullName:"Muhammad Hassan",class:"11",section:"A",parentName:"Abdul Rahman",contactNumber:"+92-302-3456789",email:"muhammad.hassan@email.com",status:"active",joiningDate:"2023-08-10",address:"Villa 789, Phase 2, Islamabad",dateOfBirth:"2007-11-08",gender:"male",bloodGroup:"B+",emergencyContact:"+92-302-9876543"},{id:"4",admissionNumber:"ADM-2022-089",fullName:"Ayesha Siddiqui",class:"12",section:"A",parentName:"Dr. Muhammad Siddiqui",contactNumber:"+92-303-4567890",email:"ayesha.siddiqui@email.com",status:"graduated",joiningDate:"2022-01-10",address:"House 321, Gulberg, Lahore",dateOfBirth:"2006-07-14",gender:"female",bloodGroup:"AB+",emergencyContact:"+92-303-0987654"}];c(P),f(P)},[]),Z.useEffect(()=>{let P=o;x&&(P=P.filter(D=>D.fullName.toLowerCase().includes(x.toLowerCase())||D.admissionNumber.toLowerCase().includes(x.toLowerCase())||D.parentName.toLowerCase().includes(x.toLowerCase())||D.contactNumber.includes(x))),y!=="all"&&(P=P.filter(D=>D.status===y)),_!=="all"&&(P=P.filter(D=>D.class===_)),f(P)},[o,x,y,_]);const V={totalStudents:o.length,activeStudents:o.filter(P=>P.status==="active").length,inactiveStudents:o.filter(P=>P.status==="inactive").length,graduatedStudents:o.filter(P=>P.status==="graduated").length},C=async P=>{P.preventDefault(),m(!0),v(null);try{const D=new FormData(P.currentTarget),G={id:Date.now().toString(),admissionNumber:D.get("admissionNumber"),fullName:D.get("fullName"),class:D.get("class"),section:D.get("section"),parentName:D.get("parentName"),contactNumber:D.get("contactNumber"),email:D.get("email"),status:"active",joiningDate:new Date().toISOString().split("T")[0],address:D.get("address"),dateOfBirth:D.get("dateOfBirth"),gender:D.get("gender"),bloodGroup:D.get("bloodGroup"),emergencyContact:D.get("emergencyContact")};c(oe=>[...oe,G]),r(!1),P.target.reset()}catch(D){v(D instanceof Error?D.message:"Failed to add student")}finally{m(!1)}},L=async P=>{if(P.preventDefault(),!!a){m(!0),v(null);try{const D=new FormData(P.currentTarget),G={...a,admissionNumber:D.get("admissionNumber"),fullName:D.get("fullName"),class:D.get("class"),section:D.get("section"),parentName:D.get("parentName"),contactNumber:D.get("contactNumber"),email:D.get("email"),address:D.get("address"),dateOfBirth:D.get("dateOfBirth"),gender:D.get("gender"),bloodGroup:D.get("bloodGroup"),emergencyContact:D.get("emergencyContact")};c(oe=>oe.map(ve=>ve.id===a.id?G:ve)),i(!1),s(null)}catch(D){v(D instanceof Error?D.message:"Failed to update student")}finally{m(!1)}}},j=async P=>{if(confirm("Are you sure you want to delete this student?"))try{c(D=>D.filter(G=>G.id!==P))}catch(D){v(D instanceof Error?D.message:"Failed to delete student")}},M=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"graduated":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},T=P=>{switch(P){case"active":return l.jsx(f_,{className:"w-4 h-4"});case"inactive":return l.jsx(h_,{className:"w-4 h-4"});case"graduated":return l.jsx(c_,{className:"w-4 h-4"});default:return l.jsx(ic,{className:"w-4 h-4"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Student Management"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage student records and information"})]}),H&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Qe,{variant:"secondary",className:"flex items-center gap-2",children:[l.jsx(xp,{className:"w-4 h-4"}),"Export"]}),l.jsxs(Qe,{variant:"secondary",className:"flex items-center gap-2",children:[l.jsx(kS,{className:"w-4 h-4"}),"Import"]}),l.jsxs(Qe,{onClick:()=>r(!0),className:"flex items-center gap-2",children:[l.jsx(Ou,{className:"w-4 h-4"}),"Add Student"]})]})]}),h&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:h}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(ic,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V.totalStudents})]})]})}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx(f_,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Active Students"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V.activeStudents})]})]})}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:l.jsx(h_,{className:"w-6 h-6 text-yellow-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Inactive Students"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V.inactiveStudents})]})]})}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(c_,{className:"w-6 h-6 text-purple-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Graduated"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:V.graduatedStudents})]})]})})]}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(it,{type:"text",placeholder:"Search students...",value:x,onChange:P=>S(P.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("select",{value:y,onChange:P=>w(P.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"graduated",children:"Graduated"})]}),l.jsxs("select",{value:_,onChange:P=>A(P.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All Classes"}),l.jsx("option",{value:"9",children:"Class 9"}),l.jsx("option",{value:"10",children:"Class 10"}),l.jsx("option",{value:"11",children:"Class 11"}),l.jsx("option",{value:"12",children:"Class 12"})]})]})]})}),l.jsx(Ke,{children:l.jsx("div",{className:"overflow-x-auto",children:l.jsx(Gn,{headers:["Admission #","Student Name","Class & Section","Parent Name","Contact","Status","Actions"],children:u.map(P=>l.jsxs(Ur,{children:[l.jsx(De,{className:"font-medium",children:P.admissionNumber}),l.jsx(De,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:P.fullName}),l.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fu,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{children:["Class ",P.class,"-",P.section]})]})}),l.jsx(De,{children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:P.parentName}),l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[l.jsx(ES,{className:"w-3 h-3"}),P.contactNumber]})]})}),l.jsx(De,{children:l.jsx("div",{className:"text-sm text-gray-900",children:P.contactNumber})}),l.jsx(De,{children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${M(P.status)}`,children:[T(P.status),P.status.charAt(0).toUpperCase()+P.status.slice(1)]})}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qe,{variant:"secondary",size:"sm",onClick:()=>{s(P),i(!0)},children:l.jsx(M7,{className:"w-4 h-4"})}),l.jsx(Qe,{variant:"secondary",size:"sm",children:l.jsx(fv,{className:"w-4 h-4"})}),H&&l.jsx(Qe,{variant:"destructive",size:"sm",onClick:()=>j(P.id),children:l.jsx(vp,{className:"w-4 h-4"})})]})})]},P.id))})})}),l.jsx(wi,{isOpen:t,onClose:()=>r(!1),title:"Add New Student",children:l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admission Number"}),l.jsx(it,{name:"admissionNumber",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx(it,{name:"fullName",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),l.jsxs("select",{name:"class",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Class"}),l.jsx("option",{value:"9",children:"Class 9"}),l.jsx("option",{value:"10",children:"Class 10"}),l.jsx("option",{value:"11",children:"Class 11"}),l.jsx("option",{value:"12",children:"Class 12"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),l.jsxs("select",{name:"section",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Section"}),l.jsx("option",{value:"A",children:"Section A"}),l.jsx("option",{value:"B",children:"Section B"}),l.jsx("option",{value:"C",children:"Section C"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Name"}),l.jsx(it,{name:"parentName",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),l.jsx(it,{name:"contactNumber",type:"tel",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx(it,{name:"email",type:"email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),l.jsx(it,{name:"dateOfBirth",type:"date",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),l.jsxs("select",{name:"gender",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),l.jsxs("select",{name:"bloodGroup",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Blood Group"}),l.jsx("option",{value:"A+",children:"A+"}),l.jsx("option",{value:"A-",children:"A-"}),l.jsx("option",{value:"B+",children:"B+"}),l.jsx("option",{value:"B-",children:"B-"}),l.jsx("option",{value:"AB+",children:"AB+"}),l.jsx("option",{value:"AB-",children:"AB-"}),l.jsx("option",{value:"O+",children:"O+"}),l.jsx("option",{value:"O-",children:"O-"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),l.jsx(it,{name:"emergencyContact",type:"tel"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),l.jsx("textarea",{name:"address",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:p,children:p?"Adding...":"Add Student"})]})]})}),l.jsx(wi,{isOpen:n,onClose:()=>{i(!1),s(null)},title:"Edit Student",children:a&&l.jsxs("form",{onSubmit:L,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Admission Number"}),l.jsx(it,{name:"admissionNumber",type:"text",defaultValue:a.admissionNumber,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx(it,{name:"fullName",type:"text",defaultValue:a.fullName,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Class"}),l.jsxs("select",{name:"class",required:!0,defaultValue:a.class,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"9",children:"Class 9"}),l.jsx("option",{value:"10",children:"Class 10"}),l.jsx("option",{value:"11",children:"Class 11"}),l.jsx("option",{value:"12",children:"Class 12"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Section"}),l.jsxs("select",{name:"section",required:!0,defaultValue:a.section,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"A",children:"Section A"}),l.jsx("option",{value:"B",children:"Section B"}),l.jsx("option",{value:"C",children:"Section C"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Name"}),l.jsx(it,{name:"parentName",type:"text",defaultValue:a.parentName,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),l.jsx(it,{name:"contactNumber",type:"tel",defaultValue:a.contactNumber,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx(it,{name:"email",type:"email",defaultValue:a.email,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),l.jsx(it,{name:"dateOfBirth",type:"date",defaultValue:a.dateOfBirth,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),l.jsxs("select",{name:"gender",required:!0,defaultValue:a.gender,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),l.jsxs("select",{name:"bloodGroup",defaultValue:a.bloodGroup,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"A+",children:"A+"}),l.jsx("option",{value:"A-",children:"A-"}),l.jsx("option",{value:"B+",children:"B+"}),l.jsx("option",{value:"B-",children:"B-"}),l.jsx("option",{value:"AB+",children:"AB+"}),l.jsx("option",{value:"AB-",children:"AB-"}),l.jsx("option",{value:"O+",children:"O+"}),l.jsx("option",{value:"O-",children:"O-"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),l.jsx(it,{name:"emergencyContact",type:"tel",defaultValue:a.emergencyContact})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),l.jsx("textarea",{name:"address",rows:3,defaultValue:a.address,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>{i(!1),s(null)},children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:p,children:p?"Updating...":"Update Student"})]})]})})]})}async function lN(e){let t=Re.from("teachers").select(`
      *,
      user_profile:user_id(full_name, email),
      assignments:teacher_assignments(
        *,
        class:class_id(class_name),
        section:section_id(section_name),
        subject:subject_id(subject_name)
      )
    `).order("first_name");const{data:r,error:n}=await t;if(n)throw n;return r}async function Y9(e,t){const{data:r,error:n}=await Re.from("teachers").insert(e).select().single();if(n)throw n;return r}async function J9(e,t){const{data:r,error:n}=await Re.from("teachers").update(t).eq("id",e).select().single();if(n)throw n;return r}async function Z9(e){const{error:t}=await Re.from("teachers").delete().eq("id",e);if(t)throw t}async function Q9(){const{data:e,error:t}=await Re.from("teachers").select("status").then(({data:r})=>r?r.reduce((i,a)=>(i.total++,i[a.status]++,i),{total:0,active:0,on_leave:0,resigned:0,terminated:0}):{total:0,active:0,on_leave:0,resigned:0,terminated:0});if(t)throw t;return e}function eM(){const{hasPermission:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(!0),[a,s]=Z.useState(null),[o,c]=Z.useState(!1),[u,f]=Z.useState(!1),[p,m]=Z.useState(null),[h,v]=Z.useState(""),x=e("manage_teachers");Z.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const V=await lN();r(V)}catch(V){s("Failed to fetch teachers"),console.error("Error fetching teachers:",V)}finally{i(!1)}},y=async V=>{V.preventDefault();const C=new FormData(V.currentTarget);try{i(!0);const L={first_name:C.get("firstName"),last_name:C.get("lastName"),employee_number:C.get("employeeNumber"),phone:C.get("phone"),qualification:C.get("qualification"),department:C.get("department"),joining_date:C.get("joiningDate"),salary:parseFloat(C.get("salary")),address:C.get("address"),status:"active"};await Y9(L),await S(),c(!1),s(null)}catch(L){s("Failed to add teacher"),console.error("Error adding teacher:",L)}finally{i(!1)}},w=async V=>{if(V.preventDefault(),!p)return;const C=new FormData(V.currentTarget);try{i(!0);const L={first_name:C.get("firstName"),last_name:C.get("lastName"),employee_number:C.get("employeeNumber"),phone:C.get("phone"),qualification:C.get("qualification"),department:C.get("department"),joining_date:C.get("joiningDate"),salary:parseFloat(C.get("salary")),address:C.get("address"),status:"active"};await J9(p.id,L),await S(),f(!1),m(null),s(null)}catch(L){s("Failed to update teacher"),console.error("Error updating teacher:",L)}finally{i(!1)}},_=async V=>{if(confirm("Are you sure you want to delete this teacher?"))try{i(!0),await Z9(V),await S(),s(null)}catch(C){s("Failed to delete teacher"),console.error("Error deleting teacher:",C)}finally{i(!1)}},A=t.filter(V=>`${V.first_name} ${V.last_name}`.toLowerCase().includes(h.toLowerCase())||V.employee_number.toLowerCase().includes(h.toLowerCase())||V.qualification.toLowerCase().includes(h.toLowerCase())),H={total:t.length,active:t.filter(V=>V.status==="active").length,onLeave:t.filter(V=>V.status==="on_leave").length,resigned:t.filter(V=>V.status==="resigned").length};return n&&t.length===0?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading teachers..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Teacher Management"}),x&&l.jsx(Qe,{onClick:()=>c(!0),children:"Add New Teacher"})]}),a&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:a}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:H.total})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Active"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:H.active})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"On Leave"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-yellow-600",children:H.onLeave})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Resigned"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-red-600",children:H.resigned})]})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(it,{type:"text",placeholder:"Search teachers...",value:h,onChange:V=>v(V.target.value),className:"max-w-sm"})}),l.jsx(Ke,{children:l.jsx(Gn,{data:A,columns:[{key:"name",label:"Name",render:V=>`${V.first_name} ${V.last_name}`},{key:"employee_number",label:"Employee #"},{key:"phone",label:"Phone"},{key:"qualification",label:"Qualification"},{key:"department",label:"Department"},{key:"joining_date",label:"Joining Date"},{key:"salary",label:"Salary",render:V=>{var C;return`$${((C=V.salary)==null?void 0:C.toLocaleString())||"0"}`}},{key:"status",label:"Status",render:V=>{var C;return l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.status==="active"?"bg-green-100 text-green-800":V.status==="on_leave"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:((C=V.status)==null?void 0:C.replace("_"," ").toUpperCase())||"UNKNOWN"})}},{key:"actions",label:"Actions",render:V=>l.jsx("div",{className:"flex items-center gap-2",children:x&&l.jsxs(l.Fragment,{children:[l.jsx(Qe,{variant:"secondary",size:"sm",onClick:()=>{m(V),f(!0)},children:"Edit"}),l.jsx(Qe,{variant:"destructive",size:"sm",onClick:()=>_(V.id),children:"Delete"})]})})}]})}),l.jsx(wi,{isOpen:o,onClose:()=>c(!1),title:"Add New Teacher",children:l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),l.jsx(it,{name:"firstName",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),l.jsx(it,{name:"lastName",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Number"}),l.jsx(it,{name:"employeeNumber",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx(it,{name:"phone",type:"tel",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Qualification"}),l.jsx(it,{name:"qualification",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),l.jsxs("select",{name:"department",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Department"}),l.jsx("option",{value:"academic",children:"Academic"}),l.jsx("option",{value:"administration",children:"Administration"}),l.jsx("option",{value:"library",children:"Library"}),l.jsx("option",{value:"laboratory",children:"Laboratory"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joining Date"}),l.jsx(it,{name:"joiningDate",type:"date",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Salary"}),l.jsx(it,{name:"salary",type:"number",required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),l.jsx(it,{name:"address",type:"text",required:!0})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:n,children:n?"Adding...":"Add Teacher"})]})]})}),l.jsx(wi,{isOpen:u,onClose:()=>{f(!1),m(null)},title:"Edit Teacher",children:p&&l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),l.jsx(it,{name:"firstName",type:"text",defaultValue:p.first_name,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),l.jsx(it,{name:"lastName",type:"text",defaultValue:p.last_name,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Number"}),l.jsx(it,{name:"employeeNumber",type:"text",defaultValue:p.employee_number,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx(it,{name:"phone",type:"tel",defaultValue:p.phone,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Qualification"}),l.jsx(it,{name:"qualification",type:"text",defaultValue:p.qualification,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),l.jsxs("select",{name:"department",required:!0,defaultValue:p.department,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Department"}),l.jsx("option",{value:"academic",children:"Academic"}),l.jsx("option",{value:"administration",children:"Administration"}),l.jsx("option",{value:"library",children:"Library"}),l.jsx("option",{value:"laboratory",children:"Laboratory"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joining Date"}),l.jsx(it,{name:"joiningDate",type:"date",defaultValue:p.joining_date,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Salary"}),l.jsx(it,{name:"salary",type:"number",defaultValue:p.salary,required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),l.jsx(it,{name:"address",type:"text",defaultValue:p.address,required:!0})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>{f(!1),m(null)},children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:n,children:n?"Updating...":"Update Teacher"})]})]})})]})}async function tM(){const{data:e,error:t}=await Re.from("inventory_items").select("*").order("name");if(t)throw t;return e}async function rM(e){const{data:t,error:r}=await Re.from("inventory_items").insert(e).select().single();if(r)throw r;return t}async function nM(e,t){const{data:r,error:n}=await Re.from("inventory_items").update(t).eq("id",e).select().single();if(n)throw n;return r}async function iM(e){const{error:t}=await Re.from("inventory_items").delete().eq("id",e);if(t)throw t}async function cN(){const{data:e,error:t}=await Re.from("stationery_requests").select(`
      *,
      requester:requester_id(id, email, first_name, last_name),
      items:request_items(
        *,
        item:item_id(*)
      )
    `).order("created_at",{ascending:!1});if(t)throw t;return e}async function aM(e,t){const{data:r,error:n}=await Re.from("stationery_requests").insert(e).select().single();if(n)throw n;const i=t.map(s=>({...s,request_id:r.id})),{error:a}=await Re.from("request_items").insert(i);if(a)throw a;return r}async function sM(e,t,r){const{data:n,error:i}=await Re.from("stationery_requests").update({status:t,approval_date:r}).eq("id",e).select().single();if(i)throw i;return n}async function uN(){const{data:e,error:t}=await Re.rpc("get_inventory_stats");if(t)throw t;return e}async function oM(e,t){if(!t)return sM(e,"rejected");const{error:r}=await Re.rpc("process_stationery_request",{p_request_id:e});if(r)throw r;return cN()}function lM(){const{hasPermission:e,user:t}=Ar(),[r,n]=Z.useState(!1),[i,a]=Z.useState(!1),[s,o]=Z.useState([]),[c,u]=Z.useState([]),[f,p]=Z.useState([{itemId:"",quantity:1}]),[m,h]=Z.useState({total_items:0,low_stock_items:0,total_value:0,pending_requests:0}),[v,x]=Z.useState(!1),[S,y]=Z.useState(null),w=e("manage_inventory");Z.useEffect(()=>{_()},[]);const _=async()=>{try{x(!0);const[j,M,T]=await Promise.all([tM(),cN(),uN()]);o(j),u(M),h(T)}catch(j){y("Failed to fetch inventory data"),console.error("Error fetching inventory data:",j)}finally{x(!1)}},A=async j=>{j.preventDefault();const M=new FormData(j.currentTarget);try{x(!0);const T={name:M.get("name"),category:M.get("category"),quantity:parseInt(M.get("quantity")),minimum_quantity:parseInt(M.get("minimumQuantity")),unit_price:parseFloat(M.get("unitPrice")),location:M.get("location")};await rM(T),await _(),n(!1),y(null)}catch(T){y("Failed to add item"),console.error("Error adding item:",T)}finally{x(!1)}},H=async j=>{const M=prompt("Enter new quantity:");if(M!==null)try{x(!0),await nM(j,{quantity:parseInt(M)}),await _(),y(null)}catch(T){y("Failed to update item stock"),console.error("Error updating item stock:",T)}finally{x(!1)}},V=async j=>{if(confirm("Are you sure you want to delete this item?"))try{x(!0),await iM(j),await _(),y(null)}catch(M){y("Failed to delete item"),console.error("Error deleting item:",M)}finally{x(!1)}},C=async j=>{j.preventDefault();const M=new FormData(j.currentTarget);try{x(!0);const T={department:M.get("department"),remarks:M.get("remarks"),items:f.filter(P=>P.itemId&&P.quantity>0)};await aM(T),await _(),a(!1),p([{itemId:"",quantity:1}]),y(null)}catch(T){y("Failed to submit request"),console.error("Error submitting request:",T)}finally{x(!1)}},L=async(j,M)=>{try{x(!0),await oM(j,M),await _(),y(null)}catch(T){y("Failed to process request"),console.error("Error processing request:",T)}finally{x(!1)}};return v&&s.length===0?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Inventory Management"}),w&&l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Qe,{onClick:()=>n(!0),children:"Add New Item"}),l.jsx(Qe,{variant:"secondary",onClick:()=>a(!0),children:"New Request"})]})]}),S&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:S}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:m.total_items})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-red-600",children:m.low_stock_items})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:["$",m.total_value.toLocaleString()]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Requests"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-yellow-600",children:m.pending_requests})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Inventory Items"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Name","Category","Quantity","Unit Price","Value","Location","Status","Actions"],children:s.map(j=>l.jsxs(Ur,{children:[l.jsx(De,{children:j.name}),l.jsx(De,{children:j.category}),l.jsx(De,{children:j.quantity}),l.jsxs(De,{children:["$",j.unit_price.toLocaleString()]}),l.jsxs(De,{children:["$",(j.quantity*j.unit_price).toLocaleString()]}),l.jsx(De,{children:j.location}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${j.quantity>j.minimum_quantity?"bg-green-100 text-green-800":j.quantity===0?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.quantity===0?"Out of Stock":j.quantity<=j.minimum_quantity?"Low Stock":"In Stock"})}),l.jsx(De,{children:l.jsx("div",{className:"flex items-center gap-2",children:w&&l.jsxs(l.Fragment,{children:[l.jsx(Qe,{variant:"secondary",size:"sm",onClick:()=>H(j.id),children:"Update Stock"}),l.jsx(Qe,{variant:"destructive",size:"sm",onClick:()=>V(j.id),children:"Delete"})]})})})]},j.id))})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Recent Requests"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Requester","Department","Items","Request Date","Status","Actions"],children:c.map(j=>{var M,T,P;return l.jsxs(Ur,{children:[l.jsxs(De,{children:[(M=j.requester)==null?void 0:M.first_name," ",(T=j.requester)==null?void 0:T.last_name]}),l.jsx(De,{children:j.department}),l.jsx(De,{children:(P=j.items)==null?void 0:P.map(D=>`${D.quantity}x ${D.item.name}`).join(", ")}),l.jsx(De,{children:j.request_date}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${j.status==="approved"?"bg-green-100 text-green-800":j.status==="rejected"?"bg-red-100 text-red-800":j.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[j.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>L(j.id,!0),className:"text-green-600 hover:text-green-800",children:"Approve"}),l.jsx("button",{onClick:()=>L(j.id,!1),className:"text-red-600 hover:text-red-800",children:"Reject"})]}),j.status==="approved"&&l.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Mark Complete"}),l.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Details"})]})})]},j.id)})})})]})]}),l.jsx(wi,{isOpen:r,onClose:()=>n(!1),title:"Add New Item",children:l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[S&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:S}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Item Name"}),l.jsx(it,{name:"name",type:"text",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),l.jsxs("select",{name:"category",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Category"}),l.jsx("option",{value:"stationery",children:"Stationery"}),l.jsx("option",{value:"books",children:"Books"}),l.jsx("option",{value:"electronics",children:"Electronics"}),l.jsx("option",{value:"furniture",children:"Furniture"}),l.jsx("option",{value:"supplies",children:"Supplies"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),l.jsx(it,{name:"quantity",type:"number",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Quantity"}),l.jsx(it,{name:"minimumQuantity",type:"number",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unit Price"}),l.jsx(it,{name:"unitPrice",type:"number",required:!0,min:"0",step:"0.01"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx(it,{name:"location",type:"text",required:!0})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:v,children:v?"Adding...":"Add Item"})]})]})}),l.jsx(wi,{isOpen:i,onClose:()=>a(!1),title:"New Stationery Request",children:l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[S&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:S}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),l.jsxs("select",{name:"department",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Department"}),l.jsx("option",{value:"academic",children:"Academic"}),l.jsx("option",{value:"administration",children:"Administration"}),l.jsx("option",{value:"library",children:"Library"}),l.jsx("option",{value:"laboratory",children:"Laboratory"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Items"}),l.jsx("div",{className:"mt-2 space-y-2",children:f.map((j,M)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{className:"flex-1 rounded-md border-gray-300",value:j.itemId,onChange:T=>{const P=[...f];P[M].itemId=T.target.value,p(P)},children:[l.jsx("option",{value:"",children:"Select Item"}),s.map(T=>l.jsxs("option",{value:T.id,children:[T.name," (Available: ",T.quantity,")"]},T.id))]}),l.jsx(it,{type:"number",placeholder:"Quantity",min:"1",className:"w-24",value:j.quantity,onChange:T=>{const P=[...f];P[M].quantity=parseInt(T.target.value),p(P)}}),l.jsx("button",{type:"button",onClick:()=>{const T=f.filter((P,D)=>D!==M);p(T)},className:"text-red-600 hover:text-red-800",children:"Remove"})]},M))}),l.jsx("button",{type:"button",onClick:()=>p([...f,{itemId:"",quantity:1}]),className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"+ Add Another Item"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Remarks"}),l.jsx("textarea",{name:"remarks",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:v,children:v?"Submitting...":"Submit Request"})]})]})})]})}async function cM(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],r=new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0],{data:n}=await Re.from("inventory_items").select("quantity, minimum_quantity, unit_price"),i=(n==null?void 0:n.reduce((f,p)=>(f.totalItems++,f.totalValue+=p.quantity*p.unit_price,p.quantity<=p.minimum_quantity&&f.lowStockItems++,p.quantity===0&&f.outOfStockItems++,f),{totalItems:0,lowStockItems:0,outOfStockItems:0,totalValue:0}))||{totalItems:0,lowStockItems:0,outOfStockItems:0,totalValue:0},[a,s,o]=await Promise.all([Re.from("student_distributions").select("id",{count:"exact",head:!0}),Re.from("student_distributions").select("id",{count:"exact",head:!0}).gte("distribution_date",t).lte("distribution_date",r),Re.from("stationery_requests").select("id",{count:"exact",head:!0}).eq("status","pending")]),[c,u]=await Promise.all([Re.from("inventory_transactions").select("id",{count:"exact",head:!0}),Re.from("inventory_transactions").select("id",{count:"exact",head:!0}).gte("transaction_date",t).lte("transaction_date",r)]);return{inventory:i,distributions:{totalDistributions:a.count||0,thisMonth:s.count||0,pendingRequests:o.count||0},transactions:{totalTransactions:c.count||0,thisMonth:u.count||0,totalValue:i.totalValue}}}async function uM(e){let t=Re.from("inventory_transactions").select(`
      *,
      item:item_id(name, category),
      performed_by_user:performed_by(full_name)
    `).order("transaction_date",{ascending:!1});e!=null&&e.itemId&&(t=t.eq("item_id",e.itemId)),e!=null&&e.transactionType&&(t=t.eq("transaction_type",e.transactionType)),e!=null&&e.startDate&&(t=t.gte("transaction_date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("transaction_date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw n;return r}async function fM(e){let t=Re.from("student_distributions").select(`
      *,
      student:student_id(first_name, last_name, admission_number),
      item:item_id(name, category),
      distributed_by_user:distributed_by(full_name)
    `).order("distribution_date",{ascending:!1});e!=null&&e.studentId&&(t=t.eq("student_id",e.studentId)),e!=null&&e.itemId&&(t=t.eq("item_id",e.itemId)),e!=null&&e.startDate&&(t=t.gte("distribution_date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("distribution_date",e.endDate)),e!=null&&e.academicYearId&&(t=t.eq("academic_year_id",e.academicYearId));const{data:r,error:n}=await t;if(n)throw n;return r}async function hM(){const{data:e,error:t}=await Re.from("inventory_items").select(`
      *,
      category:category_id(category_name)
    `).lte("quantity","minimum_quantity").order("quantity");if(t)throw t;return e}async function dM(){const[e,t,r,n]=await Promise.all([cM(),hM(),uM({limit:10}),fM({limit:10})]);return{stats:e,lowStockItems:t,recentTransactions:r,recentDistributions:n}}function pM(){const{profile:e}=Ar(),[t,r]=Z.useState(null),[n,i]=Z.useState([]),[a,s]=Z.useState([]),[o,c]=Z.useState([]),[u,f]=Z.useState(!0),[p,m]=Z.useState(null);Z.useEffect(()=>{h()},[]);const h=async()=>{try{f(!0);const v=await dM();r(v.stats),i(v.lowStockItems),s(v.recentTransactions),c(v.recentDistributions)}catch(v){m(v instanceof Error?v.message:"Failed to load dashboard data")}finally{f(!1)}};return u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):p?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-red-600",children:"Error"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p}),l.jsx(Qe,{onClick:h,className:"mt-4",children:"Retry"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",e==null?void 0:e.full_name]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Inventory & Stationery Management Dashboard"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(Qe,{onClick:h,variant:"secondary",children:"Refresh"})})]}),t&&l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:t.inventory.totalItems}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Total inventory items"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-yellow-600",children:t.inventory.lowStockItems}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Need restocking"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:["$",t.inventory.totalValue.toLocaleString()]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Inventory value"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Requests"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-red-600",children:t.distributions.pendingRequests}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Awaiting approval"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Low Stock Items"}),l.jsx(Qe,{size:"sm",variant:"secondary",children:"View All"})]}),l.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(v=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:v.name}),l.jsx("p",{className:"text-sm text-gray-600",children:v.category})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-red-600",children:[v.quantity," left"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",v.minimum_quantity]})]})]},v.id)),n.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No low stock items"})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Recent Transactions"}),l.jsx(Qe,{size:"sm",variant:"secondary",children:"View All"})]}),l.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(v=>{var x,S;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:(x=v.item)==null?void 0:x.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[v.transaction_type," - ",v.quantity," units"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(v.transaction_date).toLocaleDateString()}),l.jsx("p",{className:"text-xs text-gray-500",children:(S=v.performed_by_user)==null?void 0:S.full_name})]})]},v.id)}),a.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent transactions"})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Recent Distributions"}),l.jsx(Qe,{size:"sm",variant:"secondary",children:"View All"})]}),l.jsxs("div",{className:"space-y-3",children:[o.slice(0,5).map(v=>{var x,S,y;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:(x=v.item)==null?void 0:x.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:[(S=v.student)==null?void 0:S.first_name," ",(y=v.student)==null?void 0:y.last_name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[v.quantity," units"]}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.distribution_date).toLocaleDateString()})]})]},v.id)}),o.length===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent distributions"})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Qe,{className:"h-20 flex flex-col items-center justify-center",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"text-sm mt-1",children:"Add Item"})]}),l.jsxs(Qe,{variant:"secondary",className:"h-20 flex flex-col items-center justify-center",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"text-sm mt-1",children:"New Request"})]}),l.jsxs(Qe,{variant:"secondary",className:"h-20 flex flex-col items-center justify-center",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"text-sm mt-1",children:"Reports"})]}),l.jsxs(Qe,{variant:"secondary",className:"h-20 flex flex-col items-center justify-center",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"text-sm mt-1",children:"Alerts"})]})]})]})]}),t&&l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Monthly Statistics"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:t.distributions.thisMonth}),l.jsx("p",{className:"text-sm text-gray-600",children:"Distributions This Month"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-semibold text-green-600",children:t.transactions.thisMonth}),l.jsx("p",{className:"text-sm text-gray-600",children:"Transactions This Month"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-semibold text-purple-600",children:t.inventory.outOfStockItems}),l.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock Items"})]})]})]})]})}function mM(){const{profile:e}=Ar(),t=[{id:"1",subject:"Mathematics",title:"Quadratic Equations",dueDate:"2025-10-10",status:"pending"},{id:"2",subject:"Science",title:"Lab Report - Chemical Reactions",dueDate:"2025-10-08",status:"submitted"}],r=[{id:"1",subject:"English",type:"Mid Term",date:"2025-10-01",totalMarks:100,obtainedMarks:85},{id:"2",subject:"Mathematics",type:"Quiz",date:"2025-09-28",totalMarks:20,obtainedMarks:18}],n=[{date:"2025-10-05",status:"present"},{date:"2025-10-04",status:"present"},{date:"2025-10-03",status:"late"},{date:"2025-10-02",status:"present"},{date:"2025-10-01",status:"excused"}],i={attendance:{total:n.length,present:n.filter(a=>a.status==="present").length,percentage:n.filter(a=>a.status==="present").length/n.length*100},assignments:{total:t.length,pending:t.filter(a=>a.status==="pending").length,submitted:t.filter(a=>a.status==="submitted").length},exams:{averageScore:r.reduce((a,s)=>a+(s.obtainedMarks||0)/s.totalMarks*100,0)/r.length}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome back, ",e==null?void 0:e.full_name]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Here's your academic overview"})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:[Math.round(i.attendance.percentage),"%"]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Present: ",i.attendance.present,"/",i.attendance.total," days"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Assignments"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-yellow-600",children:i.assignments.pending}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Total: ",i.assignments.total]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:[Math.round(i.exams.averageScore),"%"]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Recent exams average"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Next Exam"}),l.jsx("p",{className:"mt-2 text-xl font-semibold text-gray-900",children:"Mathematics"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"October 15, 2025"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Upcoming Assignments"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Subject","Assignment","Due Date","Status"],children:t.map(a=>l.jsxs(Ur,{children:[l.jsx(De,{children:a.subject}),l.jsx(De,{children:a.title}),l.jsx(De,{children:a.dueDate}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${a.status==="submitted"?"bg-green-100 text-green-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:a.status})})]},a.id))})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Recent Exam Results"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Subject","Type","Date","Score"],children:r.map(a=>l.jsxs(Ur,{children:[l.jsx(De,{children:a.subject}),l.jsx(De,{children:a.type}),l.jsx(De,{children:a.date}),l.jsx(De,{children:l.jsxs("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${(a.obtainedMarks||0)/a.totalMarks*100>=70?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[a.obtainedMarks,"/",a.totalMarks," (",Math.round((a.obtainedMarks||0)/a.totalMarks*100),"%)"]})})]},a.id))})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Recent Attendance"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Date","Status"],children:n.map((a,s)=>l.jsxs(Ur,{children:[l.jsx(De,{children:a.date}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${a.status==="present"?"bg-green-100 text-green-800":a.status==="absent"?"bg-red-100 text-red-800":a.status==="late"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status})})]},s))})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Fee Status"}),l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Tuition Fee"}),l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-green-100 text-green-800",children:"Paid"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Library Fee"}),l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-green-100 text-green-800",children:"Paid"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:"Lab Fee"}),l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"font-medium",children:"Next Due"}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium",children:"October 15, 2025"}),l.jsx("p",{className:"text-xs text-gray-600",children:"$500.00"})]})]})})]})})]})]})]})}function gM(){const{hasPermission:e}=Ar(),[t,r]=Z.useState(new Date().toISOString().split("T")[0]),[n,i]=Z.useState(""),[a,s]=Z.useState(""),[o,c]=Z.useState([]),[u,f]=Z.useState([]),[p,m]=Z.useState(!1),[h,v]=Z.useState(null),x=e("manage_attendance"),S=async(w,_)=>{try{m(!0);const A=u.find(H=>H.studentId===w&&H.date===t)}catch{v("Failed to update attendance")}finally{m(!1)}},y={totalDays:0,averageAttendance:0,presentToday:0,absentToday:0};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Attendance Management"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("input",{type:"date",value:t,onChange:w=>r(w.target.value),className:"rounded-md border-gray-300"})})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Days"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:y.totalDays})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Average Attendance"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:[y.averageAttendance,"%"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Present Today"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:y.presentToday})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Absent Today"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-red-600",children:y.absentToday})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("select",{value:n,onChange:w=>i(w.target.value),className:"rounded-md border-gray-300",children:l.jsx("option",{value:"",children:"Select Class"})}),l.jsx("select",{value:a,onChange:w=>s(w.target.value),className:"rounded-md border-gray-300",children:l.jsx("option",{value:"",children:"Select Section"})}),x&&n&&a&&l.jsx(Qe,{onClick:()=>{},children:"Mark All Present"})]}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Roll No","Student Name","Status","Remarks","Total Present","Total Absent","Percentage"],children:o.map(w=>{const _=u.find(A=>A.studentId===w.id&&A.date===t);return l.jsxs(Ur,{children:[l.jsx(De,{children:w.rollNumber}),l.jsx(De,{children:w.name}),l.jsx(De,{children:l.jsxs("select",{value:(_==null?void 0:_.status)||"absent",onChange:A=>S(w.id,A.target.value),disabled:!x,className:`rounded-full px-2 py-1 text-sm font-medium ${(_==null?void 0:_.status)==="present"?"bg-green-100 text-green-800":(_==null?void 0:_.status)==="absent"?"bg-red-100 text-red-800":(_==null?void 0:_.status)==="late"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[l.jsx("option",{value:"present",children:"Present"}),l.jsx("option",{value:"absent",children:"Absent"}),l.jsx("option",{value:"late",children:"Late"}),l.jsx("option",{value:"excused",children:"Excused"})]})}),l.jsx(De,{children:l.jsx("input",{type:"text",placeholder:"Add remarks",className:"w-full rounded-md border-gray-300 text-sm",value:(_==null?void 0:_.remarks)||"",onChange:()=>{},disabled:!x})}),l.jsx(De,{children:u.filter(A=>A.studentId===w.id&&A.status==="present").length}),l.jsx(De,{children:u.filter(A=>A.studentId===w.id&&A.status==="absent").length}),l.jsxs(De,{children:[Math.round(u.filter(A=>A.studentId===w.id&&A.status==="present").length/u.filter(A=>A.studentId===w.id).length*100)||0,"%"]})]},w.id)})})})]})]})}function xM(){const{hasPermission:e}=Ar(),[t,r]=Z.useState(!1),[n,i]=Z.useState(null),[a,s]=Z.useState([]),[o,c]=Z.useState([]),[u,f]=Z.useState(!1),[p,m]=Z.useState(null),h=e("manage_grades"),v=async x=>{x.preventDefault(),f(!0),m(null);try{const S=new FormData(x.currentTarget);r(!1)}catch(S){m(S instanceof Error?S.message:"Failed to add grade")}finally{f(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Grade Management"}),h&&l.jsx(Qe,{onClick:()=>r(!0),children:"Add New Grade"})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Average Class Grade"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:[o.length>0?Math.round(o.reduce((x,S)=>x+S.marks/S.totalMarks*100,0)/o.length*10)/10:0,"%"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Assessments"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:o.length})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Students Below Average"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-red-600",children:"0"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{className:"rounded-md border-gray-300",value:(n==null?void 0:n.id)||"",onChange:x=>{const S=a.find(y=>y.id===x.target.value);i(S||null)},children:[l.jsx("option",{value:"",children:"Select Student"}),a.map(x=>l.jsxs("option",{value:x.id,children:[x.name," (",x.class,"-",x.section,")"]},x.id))]}),l.jsxs("select",{className:"rounded-md border-gray-300",children:[l.jsx("option",{value:"",children:"All Subjects"}),l.jsx("option",{value:"mathematics",children:"Mathematics"}),l.jsx("option",{value:"science",children:"Science"}),l.jsx("option",{value:"english",children:"English"})]}),l.jsxs("select",{className:"rounded-md border-gray-300",children:[l.jsx("option",{value:"",children:"All Exam Types"}),l.jsx("option",{value:"quiz",children:"Quiz"}),l.jsx("option",{value:"test",children:"Test"}),l.jsx("option",{value:"midterm",children:"Midterm"}),l.jsx("option",{value:"final",children:"Final"})]})]}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Student","Subject","Exam Type","Marks","Percentage","Date","Actions"],children:o.map(x=>l.jsxs(Ur,{children:[l.jsx(De,{children:x.studentName}),l.jsx(De,{children:x.subject}),l.jsx(De,{className:"capitalize",children:x.examType}),l.jsxs(De,{children:[x.marks,"/",x.totalMarks]}),l.jsx(De,{children:l.jsxs("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${x.marks/x.totalMarks*100>=70?"bg-green-100 text-green-800":x.marks/x.totalMarks*100>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Math.round(x.marks/x.totalMarks*100),"%"]})}),l.jsx(De,{children:x.date}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"Edit"}),l.jsx("button",{className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},x.id))})})]}),l.jsx(wi,{isOpen:t,onClose:()=>r(!1),title:"Add New Grade",children:l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&l.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-600",children:p}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"student",className:"block text-sm font-medium text-gray-700",children:"Student"}),l.jsxs("select",{id:"student",name:"student",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Student"}),a.map(x=>l.jsxs("option",{value:x.id,children:[x.name," (",x.class,"-",x.section,")"]},x.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Subject"}),l.jsxs("select",{id:"subject",name:"subject",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Subject"}),l.jsx("option",{value:"mathematics",children:"Mathematics"}),l.jsx("option",{value:"science",children:"Science"}),l.jsx("option",{value:"english",children:"English"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"examType",className:"block text-sm font-medium text-gray-700",children:"Exam Type"}),l.jsxs("select",{id:"examType",name:"examType",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"quiz",children:"Quiz"}),l.jsx("option",{value:"test",children:"Test"}),l.jsx("option",{value:"midterm",children:"Midterm"}),l.jsx("option",{value:"final",children:"Final"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Date"}),l.jsx(it,{id:"date",name:"date",type:"date",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"marks",className:"block text-sm font-medium text-gray-700",children:"Marks Obtained"}),l.jsx(it,{id:"marks",name:"marks",type:"number",required:!0,min:"0"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"totalMarks",className:"block text-sm font-medium text-gray-700",children:"Total Marks"}),l.jsx(it,{id:"totalMarks",name:"totalMarks",type:"number",required:!0,min:"0"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"comments",className:"block text-sm font-medium text-gray-700",children:"Comments"}),l.jsx("textarea",{id:"comments",name:"comments",rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:u,children:u?"Adding...":"Add Grade"})]})]})})]})}function vM(){const{profile:e}=Ar(),[t,r]=Z.useState(null),n=[{id:"1",name:"John Doe",class:"10",section:"A",rollNumber:"1001"},{id:"2",name:"Jane Doe",class:"8",section:"B",rollNumber:"2001"}],i={1:{studentId:"1",pendingAmount:0,nextDueDate:"2025-11-01",lastPayment:{amount:500,date:"2025-10-01"}},2:{studentId:"2",pendingAmount:250,nextDueDate:"2025-10-15",lastPayment:{amount:500,date:"2025-09-15"}}},a={1:{studentId:"1",attendance:95,averageScore:88,assignments:{total:10,completed:9}},2:{studentId:"2",attendance:92,averageScore:85,assignments:{total:8,completed:7}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["Welcome, ",e==null?void 0:e.full_name]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your children's academic progress"})]}),l.jsxs("select",{className:"rounded-md border-gray-300",value:(t==null?void 0:t.id)||"",onChange:s=>{const o=n.find(c=>c.id===s.target.value);r(o||null)},children:[l.jsx("option",{value:"",children:"Select Child"}),n.map(s=>l.jsxs("option",{value:s.id,children:[s.name," - Class ",s.class,"-",s.section]},s.id))]})]}),t?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:[a[t.id].attendance,"%"]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"This semester"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:[a[t.id].averageScore,"%"]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"All subjects"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Assignments Status"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-yellow-600",children:[a[t.id].assignments.completed,"/",a[t.id].assignments.total]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Completed"})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Fee Status"}),i[t.id].pendingAmount>0?l.jsxs("p",{className:"mt-2 text-xl font-semibold text-red-600",children:["$",i[t.id].pendingAmount," Due"]}):l.jsx("p",{className:"mt-2 text-xl font-semibold text-green-600",children:"All Clear"}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Next: ",i[t.id].nextDueDate]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Activities"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Submitted Mathematics Assignment"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Today, 2:30 PM"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Science Quiz Completed"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Yesterday, 11:00 AM"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"New English Assignment Posted"}),l.jsx("p",{className:"text-xs text-gray-600",children:"Yesterday, 9:15 AM"})]})]})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Upcoming Events"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:[l.jsx("span",{className:"text-sm font-semibold",children:"OCT"}),l.jsx("span",{className:"text-lg font-bold",children:"15"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Mathematics Test"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Chapter 5: Quadratic Equations"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex h-12 w-12 flex-col items-center justify-center rounded-lg bg-green-100 text-green-600",children:[l.jsx("span",{className:"text-sm font-semibold",children:"OCT"}),l.jsx("span",{className:"text-lg font-bold",children:"20"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Parent-Teacher Meeting"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Mid-term Progress Discussion"})]})]})]})]}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Academic Performance"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsxs(Gn,{headers:["Subject","Last Test","Score","Class Average","Status"],children:[l.jsxs(Ur,{children:[l.jsx(De,{children:"Mathematics"}),l.jsx(De,{children:"Oct 1, 2025"}),l.jsx(De,{children:"92%"}),l.jsx(De,{children:"85%"}),l.jsx(De,{children:l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-green-100 text-green-800",children:"Above Average"})})]}),l.jsxs(Ur,{children:[l.jsx(De,{children:"Science"}),l.jsx(De,{children:"Sep 28, 2025"}),l.jsx(De,{children:"88%"}),l.jsx(De,{children:"82%"}),l.jsx(De,{children:l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-green-100 text-green-800",children:"Above Average"})})]}),l.jsxs(Ur,{children:[l.jsx(De,{children:"English"}),l.jsx(De,{children:"Sep 25, 2025"}),l.jsx(De,{children:"78%"}),l.jsx(De,{children:"80%"}),l.jsx(De,{children:l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Below Average"})})]})]})})]})})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select a child to view their academic progress"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choose from the dropdown menu above to see detailed information"})]})]})}class yM{constructor(){this.devices=[],this.isConnected=!1,this.initializeDevices()}initializeDevices(){this.devices=[{id:"device-001",name:"Main Gate Scanner",location:"Main Entrance",deviceType:"fingerprint",isActive:!0,lastSync:new Date().toISOString(),ipAddress:"192.168.1.100",port:8080},{id:"device-002",name:"Library Scanner",location:"Library",deviceType:"face",isActive:!0,lastSync:new Date().toISOString(),ipAddress:"192.168.1.101",port:8080},{id:"device-003",name:"Staff Room Scanner",location:"Staff Room",deviceType:"card",isActive:!1,lastSync:new Date().toISOString(),ipAddress:"192.168.1.102",port:8080}]}async connectToDevice(t){const r=this.devices.find(n=>n.id===t);if(!r)throw new Error("Device not found");try{return await this.mockConnection(r),r.isActive=!0,r.lastSync=new Date().toISOString(),this.isConnected=!0,!0}catch(n){throw r.isActive=!1,new Error(`Failed to connect to device: ${n}`)}}async mockConnection(t){if(await new Promise(r=>setTimeout(r,1e3)),t.id==="device-003")throw new Error("Connection timeout")}async disconnectFromDevice(t){const r=this.devices.find(n=>n.id===t);if(!r)throw new Error("Device not found");return r.isActive=!1,this.isConnected=!1,!0}async getDevices(){return this.devices}async getDeviceStatus(t){return this.devices.find(r=>r.id===t)||null}async syncAttendanceFromDevice(t){const r=this.devices.find(n=>n.id===t);if(!r||!r.isActive)throw new Error("Device not found or not active");try{const n=await this.getMockBiometricRecords(t),i={success:!0,recordsProcessed:n.length,recordsAdded:0,recordsUpdated:0,errors:[]};for(const a of n)try{await this.processBiometricRecord(a),i.recordsAdded++}catch(s){i.errors.push(`Failed to process record ${a.id}: ${s}`)}return r.lastSync=new Date().toISOString(),i}catch(n){return{success:!1,recordsProcessed:0,recordsAdded:0,recordsUpdated:0,errors:[`Sync failed: ${n}`]}}}async getMockBiometricRecords(t){const n=new Date().toISOString().split("T")[0];return[{id:"record-001",deviceId:t,userId:"student-001",userType:"student",timestamp:`${n}T08:30:00Z`,status:"success"},{id:"record-002",deviceId:t,userId:"student-002",userType:"student",timestamp:`${n}T08:32:00Z`,status:"success"},{id:"record-003",deviceId:t,userId:"teacher-001",userType:"teacher",timestamp:`${n}T08:00:00Z`,status:"success"}]}async processBiometricRecord(t){const r=t.timestamp.split("T")[0],n=t.timestamp.split("T")[1].split(".")[0];if(t.userType==="student"){const{data:i}=await Re.from("student_attendance").select("id").eq("student_id",t.userId).eq("attendance_date",r).single();i?await Re.from("student_attendance").update({status:"present",check_in_time:n,remarks:"Biometric attendance"}).eq("id",i.id):await Re.from("student_attendance").insert({student_id:t.userId,attendance_date:r,status:"present",check_in_time:n,remarks:"Biometric attendance"})}else if(t.userType==="teacher"){const{data:i}=await Re.from("teacher_attendance").select("id").eq("teacher_id",t.userId).eq("attendance_date",r).single();i?await Re.from("teacher_attendance").update({status:"present",check_in_time:n,remarks:"Biometric attendance"}).eq("id",i.id):await Re.from("teacher_attendance").insert({teacher_id:t.userId,attendance_date:r,status:"present",check_in_time:n,remarks:"Biometric attendance"})}}async syncAllDevices(){const t=[];for(const r of this.devices)if(r.isActive)try{const n=await this.syncAttendanceFromDevice(r.id);t.push(n)}catch(n){t.push({success:!1,recordsProcessed:0,recordsAdded:0,recordsUpdated:0,errors:[`Device ${r.name}: ${n}`]})}return t}async getAttendanceSummary(t,r){return{totalRecords:150,successfulRecords:145,failedRecords:3,duplicateRecords:2}}async configureDevice(t,r){const n=this.devices.find(i=>i.id===t);if(!n)throw new Error("Device not found");return Object.assign(n,r),n.lastSync=new Date().toISOString(),!0}async testDeviceConnection(t){const r=this.devices.find(n=>n.id===t);if(!r)return!1;try{return await this.mockConnection(r),!0}catch{return!1}}}const Bc=new yM;async function _M(e){const{data:t}=await Re.from("student_attendance").select("status").eq("attendance_date",e).ilike("remarks","%biometric%"),{data:r}=await Re.from("teacher_attendance").select("status").eq("attendance_date",e).ilike("remarks","%biometric%"),n=(t==null?void 0:t.reduce((a,s)=>(a.total++,s.status==="present"&&a.present++,a),{total:0,present:0}))||{total:0,present:0},i=(r==null?void 0:r.reduce((a,s)=>(a.total++,s.status==="present"&&a.present++,a),{total:0,present:0}))||{total:0,present:0};return{students:{...n,percentage:n.total>0?n.present/n.total*100:0},teachers:{...i,percentage:i.total>0?i.present/i.total*100:0}}}function wM(){const{hasPermission:e}=Ar(),[t,r]=Z.useState([]);Z.useState("");const[n,i]=Z.useState([]),[a,s]=Z.useState(!1),[o,c]=Z.useState(null),[u,f]=Z.useState(null),p=e("manage_attendance");Z.useEffect(()=>{m(),h()},[]);const m=async()=>{try{const _=await Bc.getDevices();r(_)}catch(_){c(_ instanceof Error?_.message:"Failed to load devices")}},h=async()=>{try{const _=new Date().toISOString().split("T")[0],A=await _M(_);f(A)}catch(_){console.error("Failed to load stats:",_)}},v=async _=>{s(!0),c(null);try{await Bc.connectToDevice(_)&&await m()}catch(A){c(A instanceof Error?A.message:"Failed to connect to device")}finally{s(!1)}},x=async _=>{s(!0),c(null);try{await Bc.disconnectFromDevice(_)&&await m()}catch(A){c(A instanceof Error?A.message:"Failed to disconnect from device")}finally{s(!1)}},S=async _=>{s(!0),c(null);try{const A=await Bc.syncAttendanceFromDevice(_);i(H=>[...H,A]),await h()}catch(A){c(A instanceof Error?A.message:"Failed to sync device")}finally{s(!1)}},y=async()=>{s(!0),c(null);try{const _=await Bc.syncAllDevices();i(_),await h()}catch(_){c(_ instanceof Error?_.message:"Failed to sync all devices")}finally{s(!1)}},w=async _=>{s(!0),c(null);try{const A=await Bc.testDeviceConnection(_);alert(A?"Connection test successful!":"Connection test failed!")}catch(A){c(A instanceof Error?A.message:"Connection test failed")}finally{s(!1)}};return p?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Biometric Attendance"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx(Qe,{onClick:y,disabled:a,variant:"secondary",children:a?"Syncing...":"Sync All Devices"})})]}),o&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:o})]})})}),u&&l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Student Attendance"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:[Math.round(u.students.percentage),"%"]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[u.students.present,"/",u.students.total," present"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Teacher Attendance"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:[Math.round(u.teachers.percentage),"%"]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[u.teachers.present,"/",u.teachers.total," present"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Active Devices"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-purple-600",children:t.filter(_=>_.isActive).length}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[t.length," total devices"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Last Sync"}),l.jsx("p",{className:"mt-2 text-lg font-semibold text-gray-900",children:t.length>0?new Date(t[0].lastSync).toLocaleTimeString():"N/A"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Most recent"})]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Biometric Devices"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsx(Gn,{headers:["Device Name","Location","Type","Status","Last Sync","Actions"],children:t.map(_=>l.jsxs(Ur,{children:[l.jsx(De,{children:_.name}),l.jsx(De,{children:_.location}),l.jsx(De,{className:"capitalize",children:_.deviceType}),l.jsx(De,{children:l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${_.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.isActive?"Active":"Inactive"})}),l.jsx(De,{children:new Date(_.lastSync).toLocaleString()}),l.jsx(De,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[_.isActive?l.jsxs(l.Fragment,{children:[l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>S(_.id),disabled:a,children:"Sync"}),l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>x(_.id),disabled:a,children:"Disconnect"})]}):l.jsx(Qe,{size:"sm",onClick:()=>v(_.id),disabled:a,children:"Connect"}),l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>w(_.id),disabled:a,children:"Test"})]})})]},_.id))})})]}),n.length>0&&l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sync Results"}),l.jsx("div",{className:"space-y-4",children:n.map((_,A)=>l.jsxs("div",{className:`rounded-lg p-4 ${_.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:_.success?"Sync Successful":"Sync Failed"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Processed: ",_.recordsProcessed," | Added: ",_.recordsAdded," | Updated: ",_.recordsUpdated]})]}),l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${_.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.success?"Success":"Failed"})]}),_.errors.length>0&&l.jsxs("div",{className:"mt-2",children:[l.jsx("h5",{className:"text-sm font-medium text-red-800",children:"Errors:"}),l.jsx("ul",{className:"mt-1 text-sm text-red-700 list-disc list-inside",children:_.errors.map((H,V)=>l.jsx("li",{children:H},V))})]})]},A))})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to manage biometric attendance."})]})}function gr(e){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}var Ja=Uint8Array,ta=Uint16Array,Rv=Int32Array,Dv=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ew=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fN=function(e,t){for(var r=new ta(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Rv(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},hN=fN(Dv,2),bM=hN.b,$2=hN.r;bM[28]=258,$2[258]=28;var SM=fN(Mv,0),tw=SM.r,q2=new ta(32768);for(var Pr=0;Pr<32768;++Pr){var ko=(Pr&43690)>>1|(Pr&21845)<<1;ko=(ko&52428)>>2|(ko&13107)<<2,ko=(ko&61680)>>4|(ko&3855)<<4,q2[Pr]=((ko&65280)>>8|(ko&255)<<8)>>1}var ph=function(e,t,r){for(var n=e.length,i=0,a=new ta(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new ta(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new ta(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],p=s[e[i]-1]++<<f,m=p|(1<<f)-1;p<=m;++p)o[q2[p]>>c]=u}else for(o=new ta(n),i=0;i<n;++i)e[i]&&(o[i]=q2[s[e[i]-1]++]>>15-e[i]);return o},lc=new Ja(288);for(var Pr=0;Pr<144;++Pr)lc[Pr]=8;for(var Pr=144;Pr<256;++Pr)lc[Pr]=9;for(var Pr=256;Pr<280;++Pr)lc[Pr]=7;for(var Pr=280;Pr<288;++Pr)lc[Pr]=8;var $1=new Ja(32);for(var Pr=0;Pr<32;++Pr)$1[Pr]=5;var NM=ph(lc,9,0),AM=ph($1,5,0),dN=function(e){return(e+7)/8|0},EM=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ja(e.subarray(t,r))},Rs=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Df=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:mN,l:0};if(i==1){var s=new Ja(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(H,V){return H.f-V.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,f=1,p=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=i-1;)o=r[r[u].f<r[p].f?u++:p++],c=r[u!=f&&r[u].f<r[p].f?u++:p++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var h=new ta(m+1),v=H2(r[f-1],h,0);if(v>t){var n=0,x=0,S=v-t,y=1<<S;for(a.sort(function(V,C){return h[C.s]-h[V.s]||V.f-C.f});n<i;++n){var w=a[n].s;if(h[w]>t)x+=y-(1<<v-h[w]),h[w]=t;else break}for(x>>=S;x>0;){var _=a[n].s;h[_]<t?x-=1<<t-h[_]++-1:++n}for(;n>=0&&x;--n){var A=a[n].s;h[A]==t&&(--h[A],++x)}v=t}return{t:new Ja(h),l:v}},H2=function(e,t,r){return e.s==-1?Math.max(H2(e.l,t,r+1),H2(e.r,t,r+1)):t[e.s]=r},rw=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ta(++t),n=0,i=e[0],a=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Mf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},pN=function(e,t,r){var n=r.length,i=dN(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},nw=function(e,t,r,n,i,a,s,o,c,u,f){Rs(t,f++,r),++i[256];for(var p=rg(i,15),m=p.t,h=p.l,v=rg(a,15),x=v.t,S=v.l,y=rw(m),w=y.c,_=y.n,A=rw(x),H=A.c,V=A.n,C=new ta(19),L=0;L<w.length;++L)++C[w[L]&31];for(var L=0;L<H.length;++L)++C[H[L]&31];for(var j=rg(C,7),M=j.t,T=j.l,P=19;P>4&&!M[ew[P-1]];--P);var D=u+5<<3,G=Mf(i,lc)+Mf(a,$1)+s,oe=Mf(i,m)+Mf(a,x)+s+14+3*P+Mf(C,M)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&D<=G&&D<=oe)return pN(t,f,e.subarray(c,c+u));var ve,we,se,me;if(Rs(t,f,1+(oe<G)),f+=2,oe<G){ve=ph(m,h,0),we=m,se=ph(x,S,0),me=x;var Te=ph(M,T,0);Rs(t,f,_-257),Rs(t,f+5,V-1),Rs(t,f+10,P-4),f+=14;for(var L=0;L<P;++L)Rs(t,f+3*L,M[ew[L]]);f+=3*P;for(var ke=[w,H],E=0;E<2;++E)for(var R=ke[E],L=0;L<R.length;++L){var F=R[L]&31;Rs(t,f,Te[F]),f+=M[F],F>15&&(Rs(t,f,R[L]>>5&127),f+=R[L]>>12)}}else ve=NM,we=lc,se=AM,me=$1;for(var L=0;L<o;++L){var B=n[L];if(B>255){var F=B>>18&31;Df(t,f,ve[F+257]),f+=we[F+257],F>7&&(Rs(t,f,B>>23&31),f+=Dv[F]);var J=B&31;Df(t,f,se[J]),f+=me[J],J>3&&(Df(t,f,B>>5&8191),f+=Mv[J])}else Df(t,f,ve[B]),f+=we[B]}return Df(t,f,ve[256]),f+we[256]},kM=new Rv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mN=new Ja(0),TM=function(e,t,r,n,i,a){var s=a.z||e.length,o=new Ja(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var p=kM[t-1],m=p>>13,h=p&8191,v=(1<<r)-1,x=a.p||new ta(32768),S=a.h||new ta(v+1),y=Math.ceil(r/3),w=2*y,_=function(Se){return(e[Se]^e[Se+1]<<y^e[Se+2]<<w)&v},A=new Rv(25e3),H=new ta(288),V=new ta(32),C=0,L=0,j=a.i||0,M=0,T=a.w||0,P=0;j+2<s;++j){var D=_(j),G=j&32767,oe=S[D];if(x[G]=oe,S[D]=G,T<=j){var ve=s-j;if((C>7e3||M>24576)&&(ve>423||!u)){f=nw(e,c,0,A,H,V,L,M,P,j-P,f),M=C=L=0,P=j;for(var we=0;we<286;++we)H[we]=0;for(var we=0;we<30;++we)V[we]=0}var se=2,me=0,Te=h,ke=G-oe&32767;if(ve>2&&D==_(j-ke))for(var E=Math.min(m,ve)-1,R=Math.min(32767,j),F=Math.min(258,ve);ke<=R&&--Te&&G!=oe;){if(e[j+se]==e[j+se-ke]){for(var B=0;B<F&&e[j+B]==e[j+B-ke];++B);if(B>se){if(se=B,me=ke,B>E)break;for(var J=Math.min(ke,B-2),le=0,we=0;we<J;++we){var he=j-ke+we&32767,fe=x[he],de=he-fe&32767;de>le&&(le=de,oe=he)}}}G=oe,oe=x[G],ke+=G-oe&32767}if(me){A[M++]=268435456|$2[se]<<18|tw[me];var Fe=$2[se]&31,Be=tw[me]&31;L+=Dv[Fe]+Mv[Be],++H[257+Fe],++V[Be],T=j+se,++C}else A[M++]=e[j],++H[e[j]]}}for(j=Math.max(j,T);j<s;++j)A[M++]=e[j],++H[e[j]];f=nw(e,c,u,A,H,V,L,M,P,j-P,f),u||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=S,a.p=x,a.i=j,a.w=T)}else{for(var j=a.w||0;j<s+u;j+=65535){var Xe=j+65535;Xe>=s&&(c[f/8|0]=u,Xe=s),f=pN(c,f+1,e.subarray(j,Xe))}a.i=s}return EM(o,0,n+dN(f)+i)},gN=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},jM=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Ja(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return TM(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},xN=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},CM=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=gN();i.p(t.dictionary),xN(e,2,i.d())}};function W2(e,t){t||(t={});var r=gN();r.p(e);var n=jM(e,t,t.dictionary?6:2,4);return CM(n,t),xN(n,n.length-4,r.d()),n}var LM=typeof TextDecoder<"u"&&new TextDecoder,PM=0;try{LM.decode(mN,{stream:!0}),PM=1}catch{}function FM(e){if(Array.isArray(e))return e}function OM(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function IM(e,t){if(e){if(typeof e=="string")return iw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iw(e,t):void 0}}function RM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aw(e,t){return FM(e)||OM(e,t)||IM(e,t)||RM()}function sw(e,t="utf8"){return new TextDecoder(t).decode(e)}const DM=new TextEncoder;function MM(e){return DM.encode(e)}const BM=1024*8,UM=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),ng={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bv{constructor(t=BM,r={}){dr(this,"buffer");dr(this,"byteLength");dr(this,"byteOffset");dr(this,"length");dr(this,"offset");dr(this,"lastWrittenByte");dr(this,"littleEndian");dr(this,"_data");dr(this,"_mark");dr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof Bv)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=ng[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===UM&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new ng[r](o.buffer);return this.offset+=n,c.reverse(),c}const s=new ng[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return sw(this.readBytes(t))}decodeText(t=1,r="utf8"){return sw(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(MM(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const zM=4,ow=0,lw=1,$M=2;function Ju(e){let t=e.length;for(;--t>=0;)e[t]=0}const qM=0,vN=1,HM=2,WM=3,VM=258,Uv=29,dd=256,Hh=dd+1+Uv,yu=30,zv=19,yN=2*Hh+1,Wl=15,ig=16,GM=7,$v=256,_N=16,wN=17,bN=18,V2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),G0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),KM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),SN=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XM=512,$s=new Array((Hh+2)*2);Ju($s);const mh=new Array(yu*2);Ju(mh);const Wh=new Array(XM);Ju(Wh);const Vh=new Array(VM-WM+1);Ju(Vh);const qv=new Array(Uv);Ju(qv);const q1=new Array(yu);Ju(q1);function ag(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let NN,AN,EN;function sg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const kN=e=>e<256?Wh[e]:Wh[256+(e>>>7)],Gh=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Li=(e,t,r)=>{e.bi_valid>ig-r?(e.bi_buf|=t<<e.bi_valid&65535,Gh(e,e.bi_buf),e.bi_buf=t>>ig-e.bi_valid,e.bi_valid+=r-ig):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},gs=(e,t,r)=>{Li(e,r[t*2],r[t*2+1])},TN=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},YM=e=>{e.bi_valid===16?(Gh(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},JM=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,p,m,h,v,x=0;for(m=0;m<=Wl;m++)e.bl_count[m]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<yN;u++)f=e.heap[u],m=r[r[f*2+1]*2+1]+1,m>c&&(m=c,x++),r[f*2+1]=m,!(f>n)&&(e.bl_count[m]++,h=0,f>=o&&(h=s[f-o]),v=r[f*2],e.opt_len+=v*(m+h),a&&(e.static_len+=v*(i[f*2+1]+h)));if(x!==0){do{for(m=c-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[c]--,x-=2}while(x>0);for(m=c;m!==0;m--)for(f=e.bl_count[m];f!==0;)p=e.heap[--u],!(p>n)&&(r[p*2+1]!==m&&(e.opt_len+=(m-r[p*2+1])*r[p*2],r[p*2+1]=m),f--)}},jN=(e,t,r)=>{const n=new Array(Wl+1);let i=0,a,s;for(a=1;a<=Wl;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=t;s++){let o=e[s*2+1];o!==0&&(e[s*2]=TN(n[o]++,o))}},ZM=()=>{let e,t,r,n,i;const a=new Array(Wl+1);for(r=0,n=0;n<Uv-1;n++)for(qv[n]=r,e=0;e<1<<V2[n];e++)Vh[r++]=n;for(Vh[r-1]=n,i=0,n=0;n<16;n++)for(q1[n]=i,e=0;e<1<<G0[n];e++)Wh[i++]=n;for(i>>=7;n<yu;n++)for(q1[n]=i<<7,e=0;e<1<<G0[n]-7;e++)Wh[256+i++]=n;for(t=0;t<=Wl;t++)a[t]=0;for(e=0;e<=143;)$s[e*2+1]=8,e++,a[8]++;for(;e<=255;)$s[e*2+1]=9,e++,a[9]++;for(;e<=279;)$s[e*2+1]=7,e++,a[7]++;for(;e<=287;)$s[e*2+1]=8,e++,a[8]++;for(jN($s,Hh+1,a),e=0;e<yu;e++)mh[e*2+1]=5,mh[e*2]=TN(e,5);NN=new ag($s,V2,dd+1,Hh,Wl),AN=new ag(mh,G0,0,yu,Wl),EN=new ag(new Array(0),KM,0,zv,GM)},CN=e=>{let t;for(t=0;t<Hh;t++)e.dyn_ltree[t*2]=0;for(t=0;t<yu;t++)e.dyn_dtree[t*2]=0;for(t=0;t<zv;t++)e.bl_tree[t*2]=0;e.dyn_ltree[$v*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},LN=e=>{e.bi_valid>8?Gh(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},cw=(e,t,r,n)=>{const i=t*2,a=r*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},og=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&cw(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!cw(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},uw=(e,t,r)=>{let n,i,a=0,s,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?gs(e,i,t):(s=Vh[i],gs(e,s+dd+1,t),o=V2[s],o!==0&&(i-=qv[s],Li(e,i,o)),n--,s=kN(n),gs(e,s,r),o=G0[s],o!==0&&(n-=q1[s],Li(e,n,o)));while(a<e.sym_next);gs(e,$v,t)},G2=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c=-1,u;for(e.heap_len=0,e.heap_max=yN,s=0;s<a;s++)r[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)og(e,r,s);u=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],og(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[u*2]=r[s*2]+r[o*2],e.depth[u]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[s*2+1]=r[o*2+1]=u,e.heap[1]=u++,og(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],JM(e,t),jN(r,c,e.bl_count)},fw=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=t[(n+1)*2+1],!(++o<c&&a===s)&&(o<u?e.bl_tree[a*2]+=o:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[_N*2]++):o<=10?e.bl_tree[wN*2]++:e.bl_tree[bN*2]++,o=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},hw=(e,t,r)=>{let n,i=-1,a,s=t[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),n=0;n<=r;n++)if(a=s,s=t[(n+1)*2+1],!(++o<c&&a===s)){if(o<u)do gs(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==i&&(gs(e,a,e.bl_tree),o--),gs(e,_N,e.bl_tree),Li(e,o-3,2)):o<=10?(gs(e,wN,e.bl_tree),Li(e,o-3,3)):(gs(e,bN,e.bl_tree),Li(e,o-11,7));o=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},QM=e=>{let t;for(fw(e,e.dyn_ltree,e.l_desc.max_code),fw(e,e.dyn_dtree,e.d_desc.max_code),G2(e,e.bl_desc),t=zv-1;t>=3&&e.bl_tree[SN[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},eB=(e,t,r,n)=>{let i;for(Li(e,t-257,5),Li(e,r-1,5),Li(e,n-4,4),i=0;i<n;i++)Li(e,e.bl_tree[SN[i]*2+1],3);hw(e,e.dyn_ltree,t-1),hw(e,e.dyn_dtree,r-1)},tB=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return ow;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return lw;for(r=32;r<dd;r++)if(e.dyn_ltree[r*2]!==0)return lw;return ow};let dw=!1;const rB=e=>{dw||(ZM(),dw=!0),e.l_desc=new sg(e.dyn_ltree,NN),e.d_desc=new sg(e.dyn_dtree,AN),e.bl_desc=new sg(e.bl_tree,EN),e.bi_buf=0,e.bi_valid=0,CN(e)},PN=(e,t,r,n)=>{Li(e,(qM<<1)+(n?1:0),3),LN(e),Gh(e,r),Gh(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},nB=e=>{Li(e,vN<<1,3),gs(e,$v,$s),YM(e)},iB=(e,t,r,n)=>{let i,a,s=0;e.level>0?(e.strm.data_type===$M&&(e.strm.data_type=tB(e)),G2(e,e.l_desc),G2(e,e.d_desc),s=QM(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&t!==-1?PN(e,t,r,n):e.strategy===zM||a===i?(Li(e,(vN<<1)+(n?1:0),3),uw(e,$s,mh)):(Li(e,(HM<<1)+(n?1:0),3),eB(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),uw(e,e.dyn_ltree,e.dyn_dtree)),CN(e),n&&LN(e)},aB=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Vh[r]+dd+1)*2]++,e.dyn_dtree[kN(t)*2]++),e.sym_next===e.sym_end);var sB=rB,oB=PN,lB=iB,cB=aB,uB=nB,fB={_tr_init:sB,_tr_stored_block:oB,_tr_flush_block:lB,_tr_tally:cB,_tr_align:uB};const hB=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Kh=hB;const dB=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},pB=new Uint32Array(dB()),mB=(e,t,r,n)=>{const i=pB,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var jn=mB,Ru={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gB,_tr_stored_block:K2,_tr_flush_block:xB,_tr_tally:Jo,_tr_align:vB}=fB,{Z_NO_FLUSH:Zo,Z_PARTIAL_FLUSH:yB,Z_FULL_FLUSH:_B,Z_FINISH:ya,Z_BLOCK:pw,Z_OK:$n,Z_STREAM_END:mw,Z_STREAM_ERROR:_s,Z_DATA_ERROR:wB,Z_BUF_ERROR:lg,Z_DEFAULT_COMPRESSION:bB,Z_FILTERED:SB,Z_HUFFMAN_ONLY:b0,Z_RLE:NB,Z_FIXED:AB,Z_DEFAULT_STRATEGY:EB,Z_UNKNOWN:kB,Z_DEFLATED:kp}=pd,TB=9,jB=15,CB=8,LB=29,PB=256,X2=PB+1+LB,FB=30,OB=19,IB=2*X2+1,RB=15,Xt=3,Uo=258,ws=Uo+Xt+1,DB=32,Du=42,Hv=57,Y2=69,J2=73,Z2=91,Q2=103,Vl=113,Vf=666,vi=1,Zu=2,cc=3,Qu=4,MB=3,Gl=(e,t)=>(e.msg=Ru[t],t),gw=e=>e*2-(e>4?9:0),Io=e=>{let t=e.length;for(;--t>=0;)e[t]=0},BB=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let UB=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Qo=UB;const Ki=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},ra=(e,t)=>{xB(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ki(e.strm)},ar=(e,t)=>{e.pending_buf[e.pending++]=t},Bf=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ex=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=Kh(e.adler,t,i,r):e.state.wrap===2&&(e.adler=jn(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},FN=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,a,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-ws?e.strstart-(e.w_size-ws):0,u=e.window,f=e.w_mask,p=e.prev,m=e.strstart+Uo;let h=u[n+s-1],v=u[n+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(u[i+s]!==v||u[i+s-1]!==h||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<m);if(a=Uo-(m-n),n=m-Uo,a>s){if(e.match_start=t,s=a,a>=o)break;h=u[n+s-1],v=u[n+s]}}while((t=p[t&f])>c&&--r!==0);return s<=e.lookahead?s:e.lookahead},Mu=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ws)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),BB(e),n+=t),e.strm.avail_in===0)break;if(r=ex(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Xt)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Qo(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Qo(e,e.ins_h,e.window[i+Xt-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Xt)););}while(e.lookahead<ws&&e.strm.avail_in!==0)},ON=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&t!==ya||t===Zo||n!==i+e.strm.avail_in)))break;s=t===ya&&n===i+e.strm.avail_in?1:0,K2(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Ki(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(ex(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?Qu:t!==Zo&&t!==ya&&e.strm.avail_in===0&&e.strstart===e.block_start?Zu:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(ex(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,r=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=r||(i||t===ya)&&t!==Zo&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=t===ya&&e.strm.avail_in===0&&n===i?1:0,K2(e,e.block_start,n,s),e.block_start+=n,Ki(e.strm)),s?cc:vi)},cg=(e,t)=>{let r,n;for(;;){if(e.lookahead<ws){if(Mu(e),e.lookahead<ws&&t===Zo)return vi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Xt&&(e.ins_h=Qo(e,e.ins_h,e.window[e.strstart+Xt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-ws&&(e.match_length=FN(e,r)),e.match_length>=Xt)if(n=Jo(e,e.strstart-e.match_start,e.match_length-Xt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Xt){e.match_length--;do e.strstart++,e.ins_h=Qo(e,e.ins_h,e.window[e.strstart+Xt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Qo(e,e.ins_h,e.window[e.strstart+1]);else n=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ra(e,!1),e.strm.avail_out===0))return vi}return e.insert=e.strstart<Xt-1?e.strstart:Xt-1,t===ya?(ra(e,!0),e.strm.avail_out===0?cc:Qu):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?vi:Zu},Uc=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<ws){if(Mu(e),e.lookahead<ws&&t===Zo)return vi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Xt&&(e.ins_h=Qo(e,e.ins_h,e.window[e.strstart+Xt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Xt-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ws&&(e.match_length=FN(e,r),e.match_length<=5&&(e.strategy===SB||e.match_length===Xt&&e.strstart-e.match_start>4096)&&(e.match_length=Xt-1)),e.prev_length>=Xt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Xt,n=Jo(e,e.strstart-1-e.prev_match,e.prev_length-Xt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Qo(e,e.ins_h,e.window[e.strstart+Xt-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Xt-1,e.strstart++,n&&(ra(e,!1),e.strm.avail_out===0))return vi}else if(e.match_available){if(n=Jo(e,0,e.window[e.strstart-1]),n&&ra(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return vi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Jo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Xt-1?e.strstart:Xt-1,t===ya?(ra(e,!0),e.strm.avail_out===0?cc:Qu):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?vi:Zu},zB=(e,t)=>{let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=Uo){if(Mu(e),e.lookahead<=Uo&&t===Zo)return vi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Xt&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+Uo;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=Uo-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Xt?(r=Jo(e,1,e.match_length-Xt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ra(e,!1),e.strm.avail_out===0))return vi}return e.insert=0,t===ya?(ra(e,!0),e.strm.avail_out===0?cc:Qu):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?vi:Zu},$B=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Mu(e),e.lookahead===0)){if(t===Zo)return vi;break}if(e.match_length=0,r=Jo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ra(e,!1),e.strm.avail_out===0))return vi}return e.insert=0,t===ya?(ra(e,!0),e.strm.avail_out===0?cc:Qu):e.sym_next&&(ra(e,!1),e.strm.avail_out===0)?vi:Zu};function cs(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Gf=[new cs(0,0,0,0,ON),new cs(4,4,8,4,cg),new cs(4,5,16,8,cg),new cs(4,6,32,32,cg),new cs(4,4,16,16,Uc),new cs(8,16,32,32,Uc),new cs(8,16,128,128,Uc),new cs(8,32,128,256,Uc),new cs(32,128,258,1024,Uc),new cs(32,258,258,4096,Uc)],qB=e=>{e.window_size=2*e.w_size,Io(e.head),e.max_lazy_match=Gf[e.level].max_lazy,e.good_match=Gf[e.level].good_length,e.nice_match=Gf[e.level].nice_length,e.max_chain_length=Gf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Xt-1,e.match_available=0,e.ins_h=0};function HB(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=kp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(IB*2),this.dyn_dtree=new Uint16Array((2*FB+1)*2),this.bl_tree=new Uint16Array((2*OB+1)*2),Io(this.dyn_ltree),Io(this.dyn_dtree),Io(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(RB+1),this.heap=new Uint16Array(2*X2+1),Io(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*X2+1),Io(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const md=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Du&&t.status!==Hv&&t.status!==Y2&&t.status!==J2&&t.status!==Z2&&t.status!==Q2&&t.status!==Vl&&t.status!==Vf?1:0},IN=e=>{if(md(e))return Gl(e,_s);e.total_in=e.total_out=0,e.data_type=kB;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Hv:t.wrap?Du:Vl,e.adler=t.wrap===2?0:1,t.last_flush=-2,gB(t),$n},RN=e=>{const t=IN(e);return t===$n&&qB(e.state),t},WB=(e,t)=>md(e)||e.state.wrap!==2?_s:(e.state.gzhead=t,$n),DN=(e,t,r,n,i,a)=>{if(!e)return _s;let s=1;if(t===bB&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>TB||r!==kp||n<8||n>15||t<0||t>9||a<0||a>AB||n===8&&s!==1)return Gl(e,_s);n===8&&(n=9);const o=new HB;return e.state=o,o.strm=e,o.status=Du,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Xt-1)/Xt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=a,o.method=r,RN(e)},VB=(e,t)=>DN(e,t,kp,jB,CB,EB),GB=(e,t)=>{if(md(e)||t>pw||t<0)return e?Gl(e,_s):_s;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Vf&&t!==ya)return Gl(e,e.avail_out===0?lg:_s);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Ki(e),e.avail_out===0)return r.last_flush=-1,$n}else if(e.avail_in===0&&gw(t)<=gw(n)&&t!==ya)return Gl(e,lg);if(r.status===Vf&&e.avail_in!==0)return Gl(e,lg);if(r.status===Du&&r.wrap===0&&(r.status=Vl),r.status===Du){let i=kp+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=b0||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=DB),i+=31-i%31,Bf(r,i),r.strstart!==0&&(Bf(r,e.adler>>>16),Bf(r,e.adler&65535)),e.adler=1,r.status=Vl,Ki(e),r.pending!==0)return r.last_flush=-1,$n}if(r.status===Hv){if(e.adler=0,ar(r,31),ar(r,139),ar(r,8),r.gzhead)ar(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ar(r,r.gzhead.time&255),ar(r,r.gzhead.time>>8&255),ar(r,r.gzhead.time>>16&255),ar(r,r.gzhead.time>>24&255),ar(r,r.level===9?2:r.strategy>=b0||r.level<2?4:0),ar(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(ar(r,r.gzhead.extra.length&255),ar(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=jn(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Y2;else if(ar(r,0),ar(r,0),ar(r,0),ar(r,0),ar(r,0),ar(r,r.level===9?2:r.strategy>=b0||r.level<2?4:0),ar(r,MB),r.status=Vl,Ki(e),r.pending!==0)return r.last_flush=-1,$n}if(r.status===Y2){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Ki(e),r.pending!==0)return r.last_flush=-1,$n;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=J2}if(r.status===J2){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i)),Ki(e),r.pending!==0)return r.last_flush=-1,$n;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,ar(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=Z2}if(r.status===Z2){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i)),Ki(e),r.pending!==0)return r.last_flush=-1,$n;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,ar(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=jn(e.adler,r.pending_buf,r.pending-i,i))}r.status=Q2}if(r.status===Q2){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ki(e),r.pending!==0))return r.last_flush=-1,$n;ar(r,e.adler&255),ar(r,e.adler>>8&255),e.adler=0}if(r.status=Vl,Ki(e),r.pending!==0)return r.last_flush=-1,$n}if(e.avail_in!==0||r.lookahead!==0||t!==Zo&&r.status!==Vf){let i=r.level===0?ON(r,t):r.strategy===b0?$B(r,t):r.strategy===NB?zB(r,t):Gf[r.level].func(r,t);if((i===cc||i===Qu)&&(r.status=Vf),i===vi||i===cc)return e.avail_out===0&&(r.last_flush=-1),$n;if(i===Zu&&(t===yB?vB(r):t!==pw&&(K2(r,0,0,!1),t===_B&&(Io(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ki(e),e.avail_out===0))return r.last_flush=-1,$n}return t!==ya?$n:r.wrap<=0?mw:(r.wrap===2?(ar(r,e.adler&255),ar(r,e.adler>>8&255),ar(r,e.adler>>16&255),ar(r,e.adler>>24&255),ar(r,e.total_in&255),ar(r,e.total_in>>8&255),ar(r,e.total_in>>16&255),ar(r,e.total_in>>24&255)):(Bf(r,e.adler>>>16),Bf(r,e.adler&65535)),Ki(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?$n:mw)},KB=e=>{if(md(e))return _s;const t=e.state.status;return e.state=null,t===Vl?Gl(e,wB):$n},XB=(e,t)=>{let r=t.length;if(md(e))return _s;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Du||n.lookahead)return _s;if(i===1&&(e.adler=Kh(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Io(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Mu(n);n.lookahead>=Xt;){let c=n.strstart,u=n.lookahead-(Xt-1);do n.ins_h=Qo(n,n.ins_h,n.window[c+Xt-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=Xt-1,Mu(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Xt-1,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,n.wrap=i,$n};var YB=VB,JB=DN,ZB=RN,QB=IN,eU=WB,tU=GB,rU=KB,nU=XB,iU="pako deflate (from Nodeca project)",gh={deflateInit:YB,deflateInit2:JB,deflateReset:ZB,deflateResetKeep:QB,deflateSetHeader:eU,deflate:tU,deflateEnd:rU,deflateSetDictionary:nU,deflateInfo:iU};const aU=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var sU=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)aU(r,n)&&(e[n]=r[n])}}return e},oU=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},Tp={assign:sU,flattenChunks:oU};let MN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{MN=!1}const Xh=new Uint8Array(256);for(let e=0;e<256;e++)Xh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Xh[254]=Xh[254]=1;var lU=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const cU=(e,t)=>{if(t<65534&&e.subarray&&MN)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var uU=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=Xh[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return cU(a,i)},fU=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Xh[e[r]]>t?r:t},Yh={string2buf:lU,buf2string:uU,utf8border:fU};function hU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var BN=hU;const UN=Object.prototype.toString,{Z_NO_FLUSH:dU,Z_SYNC_FLUSH:pU,Z_FULL_FLUSH:mU,Z_FINISH:gU,Z_OK:H1,Z_STREAM_END:xU,Z_DEFAULT_COMPRESSION:vU,Z_DEFAULT_STRATEGY:yU,Z_DEFLATED:_U}=pd;function Wv(e){this.options=Tp.assign({level:vU,method:_U,chunkSize:16384,windowBits:15,memLevel:8,strategy:yU},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BN,this.strm.avail_out=0;let r=gh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==H1)throw new Error(Ru[r]);if(t.header&&gh.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Yh.string2buf(t.dictionary):UN.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=gh.deflateSetDictionary(this.strm,n),r!==H1)throw new Error(Ru[r]);this._dict_set=!0}}Wv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?gU:dU,typeof e=="string"?r.input=Yh.string2buf(e):UN.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===pU||a===mU)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=gh.deflate(r,a),i===xU)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=gh.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===H1;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Wv.prototype.onData=function(e){this.chunks.push(e)};Wv.prototype.onEnd=function(e){e===H1&&(this.result=Tp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const S0=16209,wU=16191;var bU=function(t,r){let n,i,a,s,o,c,u,f,p,m,h,v,x,S,y,w,_,A,H,V,C,L,j,M;const T=t.state;n=t.next_in,j=t.input,i=n+(t.avail_in-5),a=t.next_out,M=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),c=T.dmax,u=T.wsize,f=T.whave,p=T.wnext,m=T.window,h=T.hold,v=T.bits,x=T.lencode,S=T.distcode,y=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;e:do{v<15&&(h+=j[n++]<<v,v+=8,h+=j[n++]<<v,v+=8),_=x[h&y];t:for(;;){if(A=_>>>24,h>>>=A,v-=A,A=_>>>16&255,A===0)M[a++]=_&65535;else if(A&16){H=_&65535,A&=15,A&&(v<A&&(h+=j[n++]<<v,v+=8),H+=h&(1<<A)-1,h>>>=A,v-=A),v<15&&(h+=j[n++]<<v,v+=8,h+=j[n++]<<v,v+=8),_=S[h&w];r:for(;;){if(A=_>>>24,h>>>=A,v-=A,A=_>>>16&255,A&16){if(V=_&65535,A&=15,v<A&&(h+=j[n++]<<v,v+=8,v<A&&(h+=j[n++]<<v,v+=8)),V+=h&(1<<A)-1,V>c){t.msg="invalid distance too far back",T.mode=S0;break e}if(h>>>=A,v-=A,A=a-s,V>A){if(A=V-A,A>f&&T.sane){t.msg="invalid distance too far back",T.mode=S0;break e}if(C=0,L=m,p===0){if(C+=u-A,A<H){H-=A;do M[a++]=m[C++];while(--A);C=a-V,L=M}}else if(p<A){if(C+=u+p-A,A-=p,A<H){H-=A;do M[a++]=m[C++];while(--A);if(C=0,p<H){A=p,H-=A;do M[a++]=m[C++];while(--A);C=a-V,L=M}}}else if(C+=p-A,A<H){H-=A;do M[a++]=m[C++];while(--A);C=a-V,L=M}for(;H>2;)M[a++]=L[C++],M[a++]=L[C++],M[a++]=L[C++],H-=3;H&&(M[a++]=L[C++],H>1&&(M[a++]=L[C++]))}else{C=a-V;do M[a++]=M[C++],M[a++]=M[C++],M[a++]=M[C++],H-=3;while(H>2);H&&(M[a++]=M[C++],H>1&&(M[a++]=M[C++]))}}else if(A&64){t.msg="invalid distance code",T.mode=S0;break e}else{_=S[(_&65535)+(h&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){T.mode=wU;break e}else{t.msg="invalid literal/length code",T.mode=S0;break e}else{_=x[(_&65535)+(h&(1<<A)-1)];continue t}break}}while(n<i&&a<o);H=v>>3,n-=H,v-=H<<3,h&=(1<<v)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),T.hold=h,T.bits=v};const zc=15,xw=852,vw=592,yw=0,ug=1,_w=2,SU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),AU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),EU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kU=(e,t,r,n,i,a,s,o)=>{const c=o.bits;let u=0,f=0,p=0,m=0,h=0,v=0,x=0,S=0,y=0,w=0,_,A,H,V,C,L=null,j;const M=new Uint16Array(zc+1),T=new Uint16Array(zc+1);let P=null,D,G,oe;for(u=0;u<=zc;u++)M[u]=0;for(f=0;f<n;f++)M[t[r+f]]++;for(h=c,m=zc;m>=1&&M[m]===0;m--);if(h>m&&(h=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<m&&M[p]===0;p++);for(h<p&&(h=p),S=1,u=1;u<=zc;u++)if(S<<=1,S-=M[u],S<0)return-1;if(S>0&&(e===yw||m!==1))return-1;for(T[1]=0,u=1;u<zc;u++)T[u+1]=T[u]+M[u];for(f=0;f<n;f++)t[r+f]!==0&&(s[T[t[r+f]]++]=f);if(e===yw?(L=P=s,j=20):e===ug?(L=SU,P=NU,j=257):(L=AU,P=EU,j=0),w=0,f=0,u=p,C=a,v=h,x=0,H=-1,y=1<<h,V=y-1,e===ug&&y>xw||e===_w&&y>vw)return 1;for(;;){D=u-x,s[f]+1<j?(G=0,oe=s[f]):s[f]>=j?(G=P[s[f]-j],oe=L[s[f]-j]):(G=96,oe=0),_=1<<u-x,A=1<<v,p=A;do A-=_,i[C+(w>>x)+A]=D<<24|G<<16|oe|0;while(A!==0);for(_=1<<u-1;w&_;)_>>=1;if(_!==0?(w&=_-1,w+=_):w=0,f++,--M[u]===0){if(u===m)break;u=t[r+s[f]]}if(u>h&&(w&V)!==H){for(x===0&&(x=h),C+=p,v=u-x,S=1<<v;v+x<m&&(S-=M[v+x],!(S<=0));)v++,S<<=1;if(y+=1<<v,e===ug&&y>xw||e===_w&&y>vw)return 1;H=w&V,i[H]=h<<24|v<<16|C-a|0}}return w!==0&&(i[C+w]=u-x<<24|64<<16|0),o.bits=h,0};var xh=kU;const TU=0,zN=1,$N=2,{Z_FINISH:ww,Z_BLOCK:jU,Z_TREES:N0,Z_OK:uc,Z_STREAM_END:CU,Z_NEED_DICT:LU,Z_STREAM_ERROR:Aa,Z_DATA_ERROR:qN,Z_MEM_ERROR:HN,Z_BUF_ERROR:PU,Z_DEFLATED:bw}=pd,jp=16180,Sw=16181,Nw=16182,Aw=16183,Ew=16184,kw=16185,Tw=16186,jw=16187,Cw=16188,Lw=16189,W1=16190,Ds=16191,fg=16192,Pw=16193,hg=16194,Fw=16195,Ow=16196,Iw=16197,Rw=16198,A0=16199,E0=16200,Dw=16201,Mw=16202,Bw=16203,Uw=16204,zw=16205,dg=16206,$w=16207,qw=16208,Dr=16209,WN=16210,VN=16211,FU=852,OU=592,IU=15,RU=IU,Hw=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function DU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<jp||t.mode>VN?1:0},GN=e=>{if(yc(e))return Aa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=jp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(FU),t.distcode=t.distdyn=new Int32Array(OU),t.sane=1,t.back=-1,uc},KN=e=>{if(yc(e))return Aa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,GN(e)},XN=(e,t)=>{let r;if(yc(e))return Aa;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Aa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,KN(e))},YN=(e,t)=>{if(!e)return Aa;const r=new DU;e.state=r,r.strm=e,r.window=null,r.mode=jp;const n=XN(e,t);return n!==uc&&(e.state=null),n},MU=e=>YN(e,RU);let Ww=!0,pg,mg;const BU=e=>{if(Ww){pg=new Int32Array(512),mg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(xh(zN,e.lens,0,288,pg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;xh($N,e.lens,0,32,mg,0,e.work,{bits:5}),Ww=!1}e.lencode=pg,e.lenbits=9,e.distcode=mg,e.distbits=5},JN=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},UU=(e,t)=>{let r,n,i,a,s,o,c,u,f,p,m,h,v,x,S=0,y,w,_,A,H,V,C,L;const j=new Uint8Array(4);let M,T;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yc(e)||!e.output||!e.input&&e.avail_in!==0)return Aa;r=e.state,r.mode===Ds&&(r.mode=fg),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,f=r.bits,p=o,m=c,L=uc;e:for(;;)switch(r.mode){case jp:if(r.wrap===0){r.mode=fg;break}for(;f<16;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,j[0]=u&255,j[1]=u>>>8&255,r.check=jn(r.check,j,2,0),u=0,f=0,r.mode=Sw;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Dr;break}if((u&15)!==bw){e.msg="unknown compression method",r.mode=Dr;break}if(u>>>=4,f-=4,C=(u&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=Dr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?Lw:Ds,u=0,f=0;break;case Sw:for(;f<16;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==bw){e.msg="unknown compression method",r.mode=Dr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Dr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,r.check=jn(r.check,j,2,0)),u=0,f=0,r.mode=Nw;case Nw:for(;f<32;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,r.check=jn(r.check,j,4,0)),u=0,f=0,r.mode=Aw;case Aw:for(;f<16;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,r.check=jn(r.check,j,2,0)),u=0,f=0,r.mode=Ew;case Ew:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(j[0]=u&255,j[1]=u>>>8&255,r.check=jn(r.check,j,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=kw;case kw:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),C)),r.flags&512&&r.wrap&4&&(r.check=jn(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=Tw;case Tw:if(r.flags&2048){if(o===0)break e;h=0;do C=n[a+h++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=jn(r.check,n,h,a)),o-=h,a+=h,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=jw;case jw:if(r.flags&4096){if(o===0)break e;h=0;do C=n[a+h++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=jn(r.check,n,h,a)),o-=h,a+=h,C)break e}else r.head&&(r.head.comment=null);r.mode=Cw;case Cw:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Dr;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ds;break;case Lw:for(;f<32;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}e.adler=r.check=Hw(u),u=0,f=0,r.mode=W1;case W1:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,LU;e.adler=r.check=1,r.mode=Ds;case Ds:if(t===jU||t===N0)break e;case fg:if(r.last){u>>>=f&7,f-=f&7,r.mode=dg;break}for(;f<3;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=Pw;break;case 1:if(BU(r),r.mode=A0,t===N0){u>>>=2,f-=2;break e}break;case 2:r.mode=Ow;break;case 3:e.msg="invalid block type",r.mode=Dr}u>>>=2,f-=2;break;case Pw:for(u>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Dr;break}if(r.length=u&65535,u=0,f=0,r.mode=hg,t===N0)break e;case hg:r.mode=Fw;case Fw:if(h=r.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,c-=h,s+=h,r.length-=h;break}r.mode=Ds;break;case Ow:for(;f<14;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Dr;break}r.have=0,r.mode=Iw;case Iw:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.lens[P[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},L=xh(TU,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,L){e.msg="invalid code lengths set",r.mode=Dr;break}r.have=0,r.mode=Rw;case Rw:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[u&(1<<r.lenbits)-1],y=S>>>24,w=S>>>16&255,_=S&65535,!(y<=f);){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(_<16)u>>>=y,f-=y,r.lens[r.have++]=_;else{if(_===16){for(T=y+2;f<T;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(u>>>=y,f-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=Dr;break}C=r.lens[r.have-1],h=3+(u&3),u>>>=2,f-=2}else if(_===17){for(T=y+3;f<T;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}u>>>=y,f-=y,C=0,h=3+(u&7),u>>>=3,f-=3}else{for(T=y+7;f<T;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}u>>>=y,f-=y,C=0,h=11+(u&127),u>>>=7,f-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Dr;break}for(;h--;)r.lens[r.have++]=C}}if(r.mode===Dr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Dr;break}if(r.lenbits=9,M={bits:r.lenbits},L=xh(zN,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,L){e.msg="invalid literal/lengths set",r.mode=Dr;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},L=xh($N,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,L){e.msg="invalid distances set",r.mode=Dr;break}if(r.mode=A0,t===N0)break e;case A0:r.mode=E0;case E0:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,bU(e,m),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,f=r.bits,r.mode===Ds&&(r.back=-1);break}for(r.back=0;S=r.lencode[u&(1<<r.lenbits)-1],y=S>>>24,w=S>>>16&255,_=S&65535,!(y<=f);){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(w&&!(w&240)){for(A=y,H=w,V=_;S=r.lencode[V+((u&(1<<A+H)-1)>>A)],y=S>>>24,w=S>>>16&255,_=S&65535,!(A+y<=f);){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=y,f-=y,r.back+=y,r.length=_,w===0){r.mode=zw;break}if(w&32){r.back=-1,r.mode=Ds;break}if(w&64){e.msg="invalid literal/length code",r.mode=Dr;break}r.extra=w&15,r.mode=Dw;case Dw:if(r.extra){for(T=r.extra;f<T;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Mw;case Mw:for(;S=r.distcode[u&(1<<r.distbits)-1],y=S>>>24,w=S>>>16&255,_=S&65535,!(y<=f);){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(!(w&240)){for(A=y,H=w,V=_;S=r.distcode[V+((u&(1<<A+H)-1)>>A)],y=S>>>24,w=S>>>16&255,_=S&65535,!(A+y<=f);){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=y,f-=y,r.back+=y,w&64){e.msg="invalid distance code",r.mode=Dr;break}r.offset=_,r.extra=w&15,r.mode=Bw;case Bw:if(r.extra){for(T=r.extra;f<T;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Dr;break}r.mode=Uw;case Uw:if(c===0)break e;if(h=m-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Dr;break}h>r.wnext?(h-=r.wnext,v=r.wsize-h):v=r.wnext-h,h>r.length&&(h=r.length),x=r.window}else x=i,v=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do i[s++]=x[v++];while(--h);r.length===0&&(r.mode=E0);break;case zw:if(c===0)break e;i[s++]=r.length,c--,r.mode=E0;break;case dg:if(r.wrap){for(;f<32;){if(o===0)break e;o--,u|=n[a++]<<f,f+=8}if(m-=c,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?jn(r.check,i,m,s-m):Kh(r.check,i,m,s-m)),m=c,r.wrap&4&&(r.flags?u:Hw(u))!==r.check){e.msg="incorrect data check",r.mode=Dr;break}u=0,f=0}r.mode=$w;case $w:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,u+=n[a++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Dr;break}u=0,f=0}r.mode=qw;case qw:L=CU;break e;case Dr:L=qN;break e;case WN:return HN;case VN:default:return Aa}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,(r.wsize||m!==e.avail_out&&r.mode<Dr&&(r.mode<dg||t!==ww))&&JN(e,e.output,e.next_out,m-e.avail_out),p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?jn(r.check,i,m,e.next_out-m):Kh(r.check,i,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ds?128:0)+(r.mode===A0||r.mode===hg?256:0),(p===0&&m===0||t===ww)&&L===uc&&(L=PU),L},zU=e=>{if(yc(e))return Aa;let t=e.state;return t.window&&(t.window=null),e.state=null,uc},$U=(e,t)=>{if(yc(e))return Aa;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,uc):Aa},qU=(e,t)=>{const r=t.length;let n,i,a;return yc(e)||(n=e.state,n.wrap!==0&&n.mode!==W1)?Aa:n.mode===W1&&(i=1,i=Kh(i,t,r,0),i!==n.check)?qN:(a=JN(e,t,r,r),a?(n.mode=WN,HN):(n.havedict=1,uc))};var HU=KN,WU=XN,VU=GN,GU=MU,KU=YN,XU=UU,YU=zU,JU=$U,ZU=qU,QU="pako inflate (from Nodeca project)",qs={inflateReset:HU,inflateReset2:WU,inflateResetKeep:VU,inflateInit:GU,inflateInit2:KU,inflate:XU,inflateEnd:YU,inflateGetHeader:JU,inflateSetDictionary:ZU,inflateInfo:QU};function ez(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var tz=ez;const ZN=Object.prototype.toString,{Z_NO_FLUSH:rz,Z_FINISH:nz,Z_OK:Jh,Z_STREAM_END:gg,Z_NEED_DICT:xg,Z_STREAM_ERROR:iz,Z_DATA_ERROR:Vw,Z_MEM_ERROR:az}=pd;function gd(e){this.options=Tp.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BN,this.strm.avail_out=0;let r=qs.inflateInit2(this.strm,t.windowBits);if(r!==Jh)throw new Error(Ru[r]);if(this.header=new tz,qs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Yh.string2buf(t.dictionary):ZN.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=qs.inflateSetDictionary(this.strm,t.dictionary),r!==Jh)))throw new Error(Ru[r])}gd.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?nz:rz,ZN.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=qs.inflate(r,s),a===xg&&i&&(a=qs.inflateSetDictionary(r,i),a===Jh?a=qs.inflate(r,s):a===Vw&&(a=xg));r.avail_in>0&&a===gg&&r.state.wrap>0&&e[r.next_in]!==0;)qs.inflateReset(r),a=qs.inflate(r,s);switch(a){case iz:case Vw:case xg:case az:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===gg))if(this.options.to==="string"){let c=Yh.utf8border(r.output,r.next_out),u=r.next_out-c,f=Yh.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Jh&&o===0)){if(a===gg)return a=qs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};gd.prototype.onData=function(e){this.chunks.push(e)};gd.prototype.onEnd=function(e){e===Jh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Vv(e,t){const r=new gd(t);if(r.push(e),r.err)throw r.msg||Ru[r.err];return r.result}function sz(e,t){return t=t||{},t.raw=!0,Vv(e,t)}var oz=gd,lz=Vv,cz=sz,uz=Vv,fz=pd,hz={Inflate:oz,inflate:lz,inflateRaw:cz,ungzip:uz,constants:fz};const{Inflate:dz,inflate:pz,inflateRaw:kq,ungzip:Tq}=hz;var Gw=dz,mz=pz;const QN=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;QN[e]=t}const Kw=4294967295;function gz(e,t,r){let n=e;for(let i=0;i<r;i++)n=QN[(n^t[i])&255]^n>>>8;return n}function xz(e,t){return(gz(Kw,e,t)^Kw)>>>0}function Xw(e,t,r){const n=e.readUint32(),i=xz(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function eA(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function tA(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function rA(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function nA(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function iA(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+vz(t[a-i],r[a],r[a-i])&255}}function vz(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function yz(e,t,r,n,i,a){switch(e){case 0:eA(t,r,i);break;case 1:tA(t,r,i,a);break;case 2:rA(t,r,n,i);break;case 3:nA(t,r,n,i,a);break;case 4:iA(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const _z=new Uint16Array([255]),wz=new Uint8Array(_z.buffer),bz=wz[0]===255;function Sz(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,c=new Uint8Array(n*r*o);let u=0;for(let f=0;f<7;f++){const p=s[f],m=Math.ceil((r-p.x)/p.xStep),h=Math.ceil((n-p.y)/p.yStep);if(m<=0||h<=0)continue;const v=m*o,x=new Uint8Array(v);for(let S=0;S<h;S++){const y=t[u++],w=t.subarray(u,u+v);u+=v;const _=new Uint8Array(v);yz(y,w,_,x,v,o),x.set(_);for(let A=0;A<m;A++){const H=p.x+A*p.xStep,V=p.y+S*p.yStep;if(!(H>=r||V>=n))for(let C=0;C<o;C++)c[(V*r+H)*o+C]=_[A*o+C]}}}if(a===16){const f=new Uint16Array(c.buffer);if(bz)for(let p=0;p<f.length;p++)f[p]=Nz(f[p]);return f}else return c}function Nz(e){return(e&255)<<8|e>>8&255}const Az=new Uint16Array([255]),Ez=new Uint8Array(Az.buffer),kz=Ez[0]===255,Tz=new Uint8Array(0);function Yw(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),c=new Uint8Array(n*o);let u=Tz,f=0,p,m;for(let h=0;h<n;h++){switch(p=t.subarray(f+1,f+1+o),m=c.subarray(h*o,(h+1)*o),t[f]){case 0:eA(p,m,o);break;case 1:tA(p,m,o,s);break;case 2:rA(p,m,u,o);break;case 3:nA(p,m,u,o,s);break;case 4:iA(p,m,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}u=m,f+=o+1}if(a===16){const h=new Uint16Array(c.buffer);if(kz)for(let v=0;v<h.length;v++)h[v]=jz(h[v]);return h}else return c}function jz(e){return(e&255)<<8|e>>8&255}const K0=Uint8Array.of(137,80,78,71,13,10,26,10);function Jw(e){if(!Cz(e.readBytes(K0.length)))throw new Error("wrong PNG signature")}function Cz(e){if(e.length<K0.length)return!1;for(let t=0;t<K0.length;t++)if(e[t]!==K0[t])return!1;return!0}const Lz="tEXt",Pz=0,aA=new TextDecoder("latin1");function Fz(e){if(Iz(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Oz=/^[\u0000-\u00FF]*$/;function Iz(e){if(!Oz.test(e))throw new Error("invalid latin1 text")}function Rz(e,t,r){const n=sA(t);e[n]=Dz(t,r-n.length-1)}function sA(e){for(e.mark();e.readByte()!==Pz;);const t=e.offset;e.reset();const r=aA.decode(e.readBytes(t-e.offset-1));return e.skip(1),Fz(r),r}function Dz(e,t){return aA.decode(e.readBytes(t))}const Gi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},vg={UNKNOWN:-1,DEFLATE:0},Zw={UNKNOWN:-1,ADAPTIVE:0},yg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},k0={NONE:0,BACKGROUND:1,PREVIOUS:2},_g={SOURCE:0,OVER:1};class Mz extends Bv{constructor(r,n={}){super(r);dr(this,"_checkCrc");dr(this,"_inflator");dr(this,"_png");dr(this,"_apng");dr(this,"_end");dr(this,"_hasPalette");dr(this,"_palette");dr(this,"_hasTransparency");dr(this,"_transparency");dr(this,"_compressionMethod");dr(this,"_filterMethod");dr(this,"_interlaceMethod");dr(this,"_colorType");dr(this,"_isAnimated");dr(this,"_numberOfFrames");dr(this,"_numberOfPlays");dr(this,"_frames");dr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Gw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=vg.UNKNOWN,this._filterMethod=Zw.UNKNOWN,this._interlaceMethod=yg.UNKNOWN,this._colorType=Gi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Jw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Lz:Rz(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Xw(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Xw(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Bz(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Gi.GREYSCALE:i=1;break;case Gi.TRUECOLOUR:i=3;break;case Gi.INDEXED_COLOUR:i=1;break;case Gi.GREYSCALE_ALPHA:i=2;break;case Gi.TRUECOLOUR_ALPHA:i=4;break;case Gi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==vg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Gi.GREYSCALE:case Gi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Gi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Gi.UNKNOWN:case Gi.GREYSCALE_ALPHA:case Gi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=sA(this),i=this.readUint8();if(i!==vg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:mz(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Yw({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case k0.NONE:break;case k0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case k0.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const c=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(s*n.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case _g.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case _g.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let f=0;f<this._png.channels;f++){const p=n.data[u+this._png.channels-1]/i,m=f%(this._png.channels-1)===0?1:n.data[u+f],h=Math.floor(p*m+(1-p)*r.data[c+f]);r.data[c+f]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Zw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yg.NO_INTERLACE)this._png.data=Yw({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yg.ADAM7)this._png.data=Sz({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:k0.NONE,blendOp:_g.SOURCE,data:r}),this._inflator=new Gw,this._writingDataChunks=!1}}function Bz(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Qw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Qw||(Qw={}));function Uz(e,t){return new Mz(e,t).decode()}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wg(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Nr={log:wg,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):wg.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):wg(e))}};function bg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Dl(n.response,t,r)},n.onerror=function(){Nr.error("could not download file")},n.send()}function e4(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function T0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Dl=jt.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=jt.URL||jt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?e4(i.href)?bg(e,t,r):T0(i,i.target="_blank"):T0(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){T0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(e4(e))bg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){T0(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:gr(a)!=="object"&&(Nr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return bg(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(jt.HTMLElement)||jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var c=jt.URL||jt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oA(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var X0=jt.atob.bind(jt),t4=jt.btoa.bind(jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sg(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=ni(r,n,i,a,t[0],7,-680876936),a=ni(a,r,n,i,t[1],12,-389564586),i=ni(i,a,r,n,t[2],17,606105819),n=ni(n,i,a,r,t[3],22,-1044525330),r=ni(r,n,i,a,t[4],7,-176418897),a=ni(a,r,n,i,t[5],12,1200080426),i=ni(i,a,r,n,t[6],17,-1473231341),n=ni(n,i,a,r,t[7],22,-45705983),r=ni(r,n,i,a,t[8],7,1770035416),a=ni(a,r,n,i,t[9],12,-1958414417),i=ni(i,a,r,n,t[10],17,-42063),n=ni(n,i,a,r,t[11],22,-1990404162),r=ni(r,n,i,a,t[12],7,1804603682),a=ni(a,r,n,i,t[13],12,-40341101),i=ni(i,a,r,n,t[14],17,-1502002290),r=ii(r,n=ni(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ii(a,r,n,i,t[6],9,-1069501632),i=ii(i,a,r,n,t[11],14,643717713),n=ii(n,i,a,r,t[0],20,-373897302),r=ii(r,n,i,a,t[5],5,-701558691),a=ii(a,r,n,i,t[10],9,38016083),i=ii(i,a,r,n,t[15],14,-660478335),n=ii(n,i,a,r,t[4],20,-405537848),r=ii(r,n,i,a,t[9],5,568446438),a=ii(a,r,n,i,t[14],9,-1019803690),i=ii(i,a,r,n,t[3],14,-187363961),n=ii(n,i,a,r,t[8],20,1163531501),r=ii(r,n,i,a,t[13],5,-1444681467),a=ii(a,r,n,i,t[2],9,-51403784),i=ii(i,a,r,n,t[7],14,1735328473),r=ai(r,n=ii(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ai(a,r,n,i,t[8],11,-2022574463),i=ai(i,a,r,n,t[11],16,1839030562),n=ai(n,i,a,r,t[14],23,-35309556),r=ai(r,n,i,a,t[1],4,-1530992060),a=ai(a,r,n,i,t[4],11,1272893353),i=ai(i,a,r,n,t[7],16,-155497632),n=ai(n,i,a,r,t[10],23,-1094730640),r=ai(r,n,i,a,t[13],4,681279174),a=ai(a,r,n,i,t[0],11,-358537222),i=ai(i,a,r,n,t[3],16,-722521979),n=ai(n,i,a,r,t[6],23,76029189),r=ai(r,n,i,a,t[9],4,-640364487),a=ai(a,r,n,i,t[12],11,-421815835),i=ai(i,a,r,n,t[15],16,530742520),r=si(r,n=ai(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=si(a,r,n,i,t[7],10,1126891415),i=si(i,a,r,n,t[14],15,-1416354905),n=si(n,i,a,r,t[5],21,-57434055),r=si(r,n,i,a,t[12],6,1700485571),a=si(a,r,n,i,t[3],10,-1894986606),i=si(i,a,r,n,t[10],15,-1051523),n=si(n,i,a,r,t[1],21,-2054922799),r=si(r,n,i,a,t[8],6,1873313359),a=si(a,r,n,i,t[15],10,-30611744),i=si(i,a,r,n,t[6],15,-1560198380),n=si(n,i,a,r,t[13],21,1309151649),r=si(r,n,i,a,t[4],6,-145523070),a=si(a,r,n,i,t[11],10,-1120210379),i=si(i,a,r,n,t[2],15,718787259),n=si(n,i,a,r,t[9],21,-343485551),e[0]=zo(r,e[0]),e[1]=zo(n,e[1]),e[2]=zo(i,e[2]),e[3]=zo(a,e[3])}function Cp(e,t,r,n,i,a){return t=zo(zo(t,e),zo(n,a)),zo(t<<i|t>>>32-i,r)}function ni(e,t,r,n,i,a,s){return Cp(t&r|~t&n,e,t,i,a,s)}function ii(e,t,r,n,i,a,s){return Cp(t&n|r&~n,e,t,i,a,s)}function ai(e,t,r,n,i,a,s){return Cp(t^r^n,e,t,i,a,s)}function si(e,t,r,n,i,a,s){return Cp(r^(t|~n),e,t,i,a,s)}function lA(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Sg(n,zz(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Sg(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Sg(n,i),n}function zz(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var r4="0123456789abcdef".split("");function $z(e){for(var t="",r=0;r<4;r++)t+=r4[e>>8*r+4&15]+r4[e>>8*r&15];return t}function qz(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function tx(e){return lA(e).map(qz).join("")}var Hz=function(e){for(var t=0;t<e.length;t++)e[t]=$z(e[t]);return e.join("")}(lA("hello"))!="5d41402abc4b2a76b9719d911017c592";function zo(e,t){if(Hz){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rx(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var f=o[c];u=(u+f+s.charCodeAt(c))%256,o[c]=o[u],o[u]=f}r=e,n=o}else o=n;var p=t.length,m=0,h=0,v="";for(c=0;c<p;c++)h=(h+(f=o[m=(m+1)%256]))%256,o[m]=o[h],o[h]=f,s=o[(o[m]+o[h])%256],v+=String.fromCharCode(t.charCodeAt(c)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var n4={print:4,modify:8,copy:16,"annot-forms":32};function Gc(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(n4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=n4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=tx(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=rx(this.encryptionKey,this.padding)}function Kc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function i4(e){if(gr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){jt.console&&Nr.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function V1(e){if(!(this instanceof V1))return new V1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function cA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zl(e,t,r,n,i){if(!(this instanceof zl))return new zl(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,cA.call(this,n,i)}function lu(e,t,r,n,i){if(!(this instanceof lu))return new lu(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,cA.call(this,n,i)}function yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",f=null;gr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=i4;var v="1.3",x=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(b){v=b};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return S};var y=h.__private__.getPageFormat=function(b){return S[b]};i=i||"a4";var w="compat",_="advanced",A=w;function H(){this.saveGraphicsState(),ae(new bt(Nt,0,0,-Nt,0,_l()*Nt).toString()+" cm"),this.setFontSize(this.getFontSize()/Nt),u="n",A=_}function V(){this.restoreGraphicsState(),u="S",A=w}var C=h.__private__.combineFontStyleAndFontWeight=function(b,O){if(b=="bold"&&O=="normal"||b=="bold"&&O==400||b=="normal"&&O=="italic"||b=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(b=O==400||O==="normal"?b==="italic"?"italic":"normal":O!=700&&O!=="bold"||b!=="normal"?(O==700?"bold":O)+""+b:"bold"),b};h.advancedAPI=function(b){var O=A===w;return O&&H.call(this),typeof b!="function"||(b(this),O&&V.call(this)),this},h.compatAPI=function(b){var O=A===_;return O&&V.call(this),typeof b!="function"||(b(this),O&&H.call(this)),this},h.isAdvancedAPI=function(){return A===_};var L,j=function(b){if(A!==_)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(b,O){var ne=t||O;if(isNaN(b)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ne).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return M(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return M(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return M(b,16)};var T=h.f2=h.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return M(b,2)},P=h.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return M(b,3)},D=h.scale=h.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return A===w?b*Nt:A===_?b:void 0},G=function(b){return D(function(O){return A===w?_l()-O:A===_?O:void 0}(b))};h.__private__.setPrecision=h.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var oe,ve="00000000000000000000000000000000",we=h.__private__.getFileId=function(){return ve},se=h.__private__.setFileId=function(b){return ve=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(en=new Gc(f.userPermissions,f.userPassword,f.ownerPassword,ve)),ve};h.setFileId=function(b){return se(b),this},h.getFileId=function(){return we()};var me=h.__private__.convertDateToPDFDate=function(b){var O=b.getTimezoneOffset(),ne=O<0?"+":"-",ce=Math.floor(Math.abs(O/60)),ge=Math.abs(O%60),Oe=[ne,F(ce),"'",F(ge),"'"].join("");return["D:",b.getFullYear(),F(b.getMonth()+1),F(b.getDate()),F(b.getHours()),F(b.getMinutes()),F(b.getSeconds()),Oe].join("")},Te=h.__private__.convertPDFDateToDate=function(b){var O=parseInt(b.substr(2,4),10),ne=parseInt(b.substr(6,2),10)-1,ce=parseInt(b.substr(8,2),10),ge=parseInt(b.substr(10,2),10),Oe=parseInt(b.substr(12,2),10),$e=parseInt(b.substr(14,2),10);return new Date(O,ne,ce,ge,Oe,$e,0)},ke=h.__private__.setCreationDate=function(b){var O;if(b===void 0&&(b=new Date),b instanceof Date)O=me(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=b}return oe=O},E=h.__private__.getCreationDate=function(b){var O=oe;return b==="jsDate"&&(O=Te(oe)),O};h.setCreationDate=function(b){return ke(b),this},h.getCreationDate=function(b){return E(b)};var R,F=h.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},B=h.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},J=0,le=[],he=[],fe=0,de=[],Fe=[],Be=!1,Xe=he;h.__private__.setCustomOutputDestination=function(b){Be=!0,Xe=b};var Se=function(b){Be||(Xe=b)};h.__private__.resetCustomOutputDestination=function(){Be=!1,Xe=he};var ae=h.__private__.out=function(b){return b=b.toString(),fe+=b.length+1,Xe.push(b),Xe},pt=h.__private__.write=function(b){return ae(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Ue=h.__private__.getArrayBuffer=function(b){for(var O=b.length,ne=new ArrayBuffer(O),ce=new Uint8Array(ne);O--;)ce[O]=b.charCodeAt(O);return ne},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return st};var qe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(b){return qe=A===_?b/Nt:b,this};var lt,et=h.__private__.getFontSize=h.getFontSize=function(){return A===w?qe:qe*Nt},Ft=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(b){return Ft=b,this},h.__private__.getR2L=h.getR2L=function(){return Ft};var gt,Mt=h.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))lt=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');lt=b}else lt=parseInt(b,10)};h.__private__.getZoomMode=function(){return lt};var Et,Tt=h.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');gt=b};h.__private__.getPageMode=function(){return gt};var tr=h.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Et=b};h.__private__.getLayoutMode=function(){return Et},h.__private__.setDisplayMode=h.setDisplayMode=function(b,O,ne){return Mt(b),tr(O),Tt(ne),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(b){if(Object.keys(St).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[b]},h.__private__.getDocumentProperties=function(){return St},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(b){for(var O in St)St.hasOwnProperty(O)&&b[O]&&(St[O]=b[O]);return this},h.__private__.setDocumentProperty=function(b,O){if(Object.keys(St).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[b]=O};var _t,Nt,xt,lr,Yt,ft={},Ct={},cr=[],wt={},qt={},Lt={},Ir={},Qr=null,ur=0,At=[],rr=new i4(h),Ns=e.hotfixes||[],Tn={},ka={},la=[],bt=function b(O,ne,ce,ge,Oe,$e){if(!(this instanceof b))return new b(O,ne,ce,ge,Oe,$e);isNaN(O)&&(O=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=1),isNaN(Oe)&&(Oe=0),isNaN($e)&&($e=0),this._matrix=[O,ne,ce,ge,Oe,$e]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(b)},bt.prototype.multiply=function(b){var O=b.sx*this.sx+b.shy*this.shx,ne=b.sx*this.shy+b.shy*this.sy,ce=b.shx*this.sx+b.sy*this.shx,ge=b.shx*this.shy+b.sy*this.sy,Oe=b.tx*this.sx+b.ty*this.shx+this.tx,$e=b.tx*this.shy+b.ty*this.sy+this.ty;return new bt(O,ne,ce,ge,Oe,$e)},bt.prototype.decompose=function(){var b=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ge=this.tx,Oe=this.ty,$e=Math.sqrt(b*b+O*O),ut=(b/=$e)*ne+(O/=$e)*ce;ne-=b*ut,ce-=O*ut;var mt=Math.sqrt(ne*ne+ce*ce);return ut/=mt,b*(ce/=mt)<O*(ne/=mt)&&(b=-b,O=-O,ut=-ut,$e=-$e),{scale:new bt($e,0,0,mt,0,0),translate:new bt(1,0,0,1,ge,Oe),rotate:new bt(b,O,-O,b,0,0),skew:new bt(1,0,ut,1,0,0)}},bt.prototype.toString=function(b){return this.join(" ")},bt.prototype.inversed=function(){var b=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ge=this.tx,Oe=this.ty,$e=1/(b*ce-O*ne),ut=ce*$e,mt=-O*$e,Pt=-ne*$e,It=b*$e;return new bt(ut,mt,Pt,It,-ut*ge-Pt*Oe,-mt*ge-It*Oe)},bt.prototype.applyToPoint=function(b){var O=b.x*this.sx+b.y*this.shx+this.tx,ne=b.x*this.shy+b.y*this.sy+this.ty;return new vl(O,ne)},bt.prototype.applyToRectangle=function(b){var O=this.applyToPoint(b),ne=this.applyToPoint(new vl(b.x+b.w,b.y+b.h));return new lf(O.x,O.y,ne.x-O.x,ne.y-O.y)},bt.prototype.clone=function(){var b=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ge=this.tx,Oe=this.ty;return new bt(b,O,ne,ce,ge,Oe)},h.Matrix=bt;var Ta=h.matrixMult=function(b,O){return O.multiply(b)},ja=new bt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ja;var Jn=function(b,O){if(!qt[b]){var ne=(O instanceof zl?"Sh":"P")+(Object.keys(wt).length+1).toString(10);O.id=ne,qt[b]=ne,wt[ne]=O,rr.publish("addPattern",O)}};h.ShadingPattern=zl,h.TilingPattern=lu,h.addShadingPattern=function(b,O){return j("addShadingPattern()"),Jn(b,O),this},h.beginTilingPattern=function(b){j("beginTilingPattern()"),cf(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},h.endTilingPattern=function(b,O){j("endTilingPattern()"),O.stream=Fe[R].join(`
`),Jn(b,O),rr.publish("endTilingPattern",O),la.pop().restore()};var Ni,Rr=h.__private__.newObject=function(){var b=un();return U(b,!0),b},un=h.__private__.newObjectDeferred=function(){return J++,le[J]=function(){return fe},J},U=function(b,O){return O=typeof O=="boolean"&&O,le[b]=fe,O&&ae(b+" 0 obj"),b},te=h.__private__.newAdditionalObject=function(){var b={objId:un(),content:""};return de.push(b),b},K=un(),Y=un(),re=h.__private__.decodeColorString=function(b){var O=b.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ne=parseFloat(O[0]);O=[ne,ne,ne,"r"]}for(var ce="#",ge=0;ge<3;ge++)ce+=("0"+Math.floor(255*parseFloat(O[ge])).toString(16)).slice(-2);return ce},ie=h.__private__.encodeColorString=function(b){var O;typeof b=="string"&&(b={ch1:b});var ne=b.ch1,ce=b.ch2,ge=b.ch3,Oe=b.ch4,$e=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var ut=new oA(ne);if(ut.ok)ne=ut.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var mt=parseInt(ne.substr(1),16);ne=mt>>16&255,ce=mt>>8&255,ge=255&mt}if(ce===void 0||Oe===void 0&&ne===ce&&ce===ge)O=typeof ne=="string"?ne+" "+$e[0]:b.precision===2?T(ne/255)+" "+$e[0]:P(ne/255)+" "+$e[0];else if(Oe===void 0||gr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",$e[1]].join(" ");O=typeof ne=="string"?[ne,ce,ge,$e[1]].join(" "):b.precision===2?[T(ne/255),T(ce/255),T(ge/255),$e[1]].join(" "):[P(ne/255),P(ce/255),P(ge/255),$e[1]].join(" ")}else O=typeof ne=="string"?[ne,ce,ge,Oe,$e[2]].join(" "):b.precision===2?[T(ne),T(ce),T(ge),T(Oe),$e[2]].join(" "):[P(ne),P(ce),P(ge),P(Oe),$e[2]].join(" ");return O},ye=h.__private__.getFilters=function(){return s},je=h.__private__.putStream=function(b){var O=(b=b||{}).data||"",ne=b.filters||ye(),ce=b.alreadyAppliedFilters||[],ge=b.addLength1||!1,Oe=O.length,$e=b.objectId,ut=function(vn){return vn};if(f!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ut=en.encryptor($e,0));var mt={};ne===!0&&(ne=["FlateEncode"]);var Pt=b.additionalKeyValues||[],It=(mt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(O,ne):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(mt.data.length!==0&&(Pt.push({key:"Length",value:mt.data.length}),ge===!0&&Pt.push({key:"Length1",value:Oe})),It.length!=0)if(It.split("/").length-1==1)Pt.push({key:"Filter",value:It});else{Pt.push({key:"Filter",value:"["+It+"]"});for(var ir=0;ir<Pt.length;ir+=1)if(Pt[ir].key==="DecodeParms"){for(var zr=[],hn=0;hn<mt.reverseChain.split("/").length-1;hn+=1)zr.push("null");zr.push(Pt[ir].value),Pt[ir].value="["+zr.join(" ")+"]"}}ae("<<");for(var Er=0;Er<Pt.length;Er++)ae("/"+Pt[Er].key+" "+Pt[Er].value);ae(">>"),mt.data.length!==0&&(ae("stream"),ae(ut(mt.data)),ae("endstream"))},_e=h.__private__.putPage=function(b){var O=b.number,ne=b.data,ce=b.objId,ge=b.contentsObjId;U(ce,!0),ae("<</Type /Page"),ae("/Parent "+b.rootDictionaryObjId+" 0 R"),ae("/Resources "+b.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(L(b.mediaBox.bottomLeftX))+" "+parseFloat(L(b.mediaBox.bottomLeftY))+" "+L(b.mediaBox.topRightX)+" "+L(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&ae("/CropBox ["+L(b.cropBox.bottomLeftX)+" "+L(b.cropBox.bottomLeftY)+" "+L(b.cropBox.topRightX)+" "+L(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&ae("/BleedBox ["+L(b.bleedBox.bottomLeftX)+" "+L(b.bleedBox.bottomLeftY)+" "+L(b.bleedBox.topRightX)+" "+L(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&ae("/TrimBox ["+L(b.trimBox.bottomLeftX)+" "+L(b.trimBox.bottomLeftY)+" "+L(b.trimBox.topRightX)+" "+L(b.trimBox.topRightY)+"]"),b.artBox!==null&&ae("/ArtBox ["+L(b.artBox.bottomLeftX)+" "+L(b.artBox.bottomLeftY)+" "+L(b.artBox.topRightX)+" "+L(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&ae("/UserUnit "+b.userUnit),rr.publish("putPage",{objId:ce,pageContext:At[O],pageNumber:O,page:ne}),ae("/Contents "+ge+" 0 R"),ae(">>"),ae("endobj");var Oe=ne.join(`
`);return A===_&&(Oe+=`
Q`),U(ge,!0),je({data:Oe,filters:ye(),objectId:ge}),ae("endobj"),ce},be=h.__private__.putPages=function(){var b,O,ne=[];for(b=1;b<=ur;b++)At[b].objId=un(),At[b].contentsObjId=un();for(b=1;b<=ur;b++)ne.push(_e({number:b,data:Fe[b],objId:At[b].objId,contentsObjId:At[b].contentsObjId,mediaBox:At[b].mediaBox,cropBox:At[b].cropBox,bleedBox:At[b].bleedBox,trimBox:At[b].trimBox,artBox:At[b].artBox,userUnit:At[b].userUnit,rootDictionaryObjId:K,resourceDictionaryObjId:Y}));U(K,!0),ae("<</Type /Pages");var ce="/Kids [";for(O=0;O<ur;O++)ce+=ne[O]+" 0 R ";ae(ce+"]"),ae("/Count "+ur),ae(">>"),ae("endobj"),rr.publish("postPutPages")},Ee=function(b){rr.publish("putFont",{font:b,out:ae,newObject:Rr,putStream:je}),b.isAlreadyPutted!==!0&&(b.objectNumber=Rr(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Kc(b.postScriptName)),ae("/Subtype /Type1"),typeof b.encoding=="string"&&ae("/Encoding /"+b.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},He=function(b){b.objectNumber=Rr();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[L(b.x),L(b.y),L(b.x+b.width),L(b.y+b.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ne=b.pages[1].join(`
`);je({data:ne,additionalKeyValues:O,objectId:b.objectNumber}),ae("endobj")},Ye=function(b,O){O||(O=21);var ne=Rr(),ce=function($e,ut){var mt,Pt=[],It=1/(ut-1);for(mt=0;mt<1;mt+=It)Pt.push(mt);if(Pt.push(1),$e[0].offset!=0){var ir={offset:0,color:$e[0].color};$e.unshift(ir)}if($e[$e.length-1].offset!=1){var zr={offset:1,color:$e[$e.length-1].color};$e.push(zr)}for(var hn="",Er=0,vn=0;vn<Pt.length;vn++){for(mt=Pt[vn];mt>$e[Er+1].offset;)Er++;var dn=$e[Er].offset,Rn=(mt-dn)/($e[Er+1].offset-dn),ua=$e[Er].color,Ai=$e[Er+1].color;hn+=B(Math.round((1-Rn)*ua[0]+Rn*Ai[0]).toString(16))+B(Math.round((1-Rn)*ua[1]+Rn*Ai[1]).toString(16))+B(Math.round((1-Rn)*ua[2]+Rn*Ai[2]).toString(16))}return hn.trim()}(b.colors,O),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+O+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je({data:ce,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),ae("endobj"),b.objectNumber=Rr(),ae("<< /ShadingType "+b.type),ae("/ColorSpace /DeviceRGB");var Oe="/Coords ["+L(parseFloat(b.coords[0]))+" "+L(parseFloat(b.coords[1]))+" ";b.type===2?Oe+=L(parseFloat(b.coords[2]))+" "+L(parseFloat(b.coords[3])):Oe+=L(parseFloat(b.coords[2]))+" "+L(parseFloat(b.coords[3]))+" "+L(parseFloat(b.coords[4]))+" "+L(parseFloat(b.coords[5])),ae(Oe+="]"),b.matrix&&ae("/Matrix ["+b.matrix.toString()+"]"),ae("/Function "+ne+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},nt=function(b,O){var ne=un(),ce=Rr();O.push({resourcesOid:ne,objectOid:ce}),b.objectNumber=ce;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+b.boundingBox.map(L).join(" ")+"]"}),ge.push({key:"XStep",value:L(b.xStep)}),ge.push({key:"YStep",value:L(b.yStep)}),ge.push({key:"Resources",value:ne+" 0 R"}),b.matrix&&ge.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),je({data:b.stream,additionalKeyValues:ge,objectId:b.objectNumber}),ae("endobj")},Ge=function(b){for(var O in b.objectNumber=Rr(),ae("<<"),b)switch(O){case"opacity":ae("/ca "+T(b[O]));break;case"stroke-opacity":ae("/CA "+T(b[O]))}ae(">>"),ae("endobj")},rt=function(b){U(b.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in ae("/Font <<"),ft)ft.hasOwnProperty(O)&&(p===!1||p===!0&&m.hasOwnProperty(O))&&ae("/"+O+" "+ft[O].objectNumber+" 0 R");ae(">>")}(),function(){if(Object.keys(wt).length>0){for(var O in ae("/Shading <<"),wt)wt.hasOwnProperty(O)&&wt[O]instanceof zl&&wt[O].objectNumber>=0&&ae("/"+O+" "+wt[O].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),ae(">>")}}(),function(O){if(Object.keys(wt).length>0){for(var ne in ae("/Pattern <<"),wt)wt.hasOwnProperty(ne)&&wt[ne]instanceof h.TilingPattern&&wt[ne].objectNumber>=0&&wt[ne].objectNumber<O&&ae("/"+ne+" "+wt[ne].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),ae(">>")}}(b.objectOid),function(){if(Object.keys(Lt).length>0){var O;for(O in ae("/ExtGState <<"),Lt)Lt.hasOwnProperty(O)&&Lt[O].objectNumber>=0&&ae("/"+O+" "+Lt[O].objectNumber+" 0 R");rr.publish("putGStateDict"),ae(">>")}}(),function(){for(var O in ae("/XObject <<"),Tn)Tn.hasOwnProperty(O)&&Tn[O].objectNumber>=0&&ae("/"+O+" "+Tn[O].objectNumber+" 0 R");rr.publish("putXobjectDict"),ae(">>")}(),ae(">>"),ae("endobj")},kt=function(b){Ct[b.fontName]=Ct[b.fontName]||{},Ct[b.fontName][b.fontStyle]=b.id},_r=function(b,O,ne,ce,ge){var Oe={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:b,fontName:O,fontStyle:ne,encoding:ce,isStandardFont:ge||!1,metadata:{}};return rr.publish("addFont",{font:Oe,instance:this}),ft[Oe.id]=Oe,kt(Oe),Oe.id},Vt=h.__private__.pdfEscape=h.pdfEscape=function(b,O){return function(ne,ce){var ge,Oe,$e,ut,mt,Pt,It,ir,zr;if($e=(ce=ce||{}).sourceEncoding||"Unicode",mt=ce.outputEncoding,(ce.autoencode||mt)&&ft[_t].metadata&&ft[_t].metadata[$e]&&ft[_t].metadata[$e].encoding&&(ut=ft[_t].metadata[$e].encoding,!mt&&ft[_t].encoding&&(mt=ft[_t].encoding),!mt&&ut.codePages&&(mt=ut.codePages[0]),typeof mt=="string"&&(mt=ut[mt]),mt)){for(It=!1,Pt=[],ge=0,Oe=ne.length;ge<Oe;ge++)(ir=mt[ne.charCodeAt(ge)])?Pt.push(String.fromCharCode(ir)):Pt.push(ne[ge]),Pt[ge].charCodeAt(0)>>8&&(It=!0);ne=Pt.join("")}for(ge=ne.length;It===void 0&&ge!==0;)ne.charCodeAt(ge-1)>>8&&(It=!0),ge--;if(!It)return ne;for(Pt=ce.noBOM?[]:[254,255],ge=0,Oe=ne.length;ge<Oe;ge++){if((zr=(ir=ne.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(zr),Pt.push(ir-(zr<<8))}return String.fromCharCode.apply(void 0,Pt)}(b,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wr=h.__private__.beginPage=function(b){Fe[++ur]=[],At[ur]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ns(ur),Se(Fe[R])},rs=function(b,O){var ne,ce,ge;switch(r=O||r,typeof b=="string"&&(ne=y(b.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ge=ne[1])),Array.isArray(b)&&(ce=b[0]*Nt,ge=b[1]*Nt),isNaN(ce)&&(ce=i[0],ge=i[1]),(ce>14400||ge>14400)&&(Nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ge=Math.min(14400,ge)),i=[ce,ge],r.substr(0,1)){case"l":ge>ce&&(i=[ge,ce]);break;case"p":ce>ge&&(i=[ge,ce])}Wr(i),Bp(nf),ae(wc),sf!==0&&ae(sf+" J"),of!==0&&ae(of+" j"),rr.publish("addPage",{pageNumber:ur})},Ca=function(b){b>0&&b<=ur&&(Fe.splice(b,1),At.splice(b,1),ur--,R>ur&&(R=ur),this.setPage(R))},ns=function(b){b>0&&b<=ur&&(R=b)},ca=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Fe.length-1},so=function(b,O,ne){var ce,ge=void 0;return ne=ne||{},b=b!==void 0?b:ft[_t].fontName,O=O!==void 0?O:ft[_t].fontStyle,ce=b.toLowerCase(),Ct[ce]!==void 0&&Ct[ce][O]!==void 0?ge=Ct[ce][O]:Ct[b]!==void 0&&Ct[b][O]!==void 0?ge=Ct[b][O]:ne.disableWarning===!1&&Nr.warn("Unable to look up font label for font '"+b+"', '"+O+"'. Refer to getFontList() for available fonts."),ge||ne.noFallback||(ge=Ct.times[O])==null&&(ge=Ct.times.normal),ge},Zn=h.__private__.putInfo=function(){var b=Rr(),O=function(ce){return ce};for(var ne in f!==null&&(O=en.encryptor(b,0)),ae("<<"),ae("/Producer ("+Vt(O("jsPDF "+yt.version))+")"),St)St.hasOwnProperty(ne)&&St[ne]&&ae("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Vt(O(St[ne]))+")");ae("/CreationDate ("+Vt(O(oe))+")"),ae(">>"),ae("endobj")},Lp=h.__private__.putCatalog=function(b){var O=(b=b||{}).rootDictionaryObjId||K;switch(Rr(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+O+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+lt;ne.substr(ne.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+T(lt)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}gt&&ae("/PageMode /"+gt),rr.publish("putCatalog"),ae(">>"),ae("endobj")},fn=h.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(J+1)),ae("/Root "+J+" 0 R"),ae("/Info "+(J-1)+" 0 R"),f!==null&&ae("/Encrypt "+en.oid+" 0 R"),ae("/ID [ <"+ve+"> <"+ve+"> ]"),ae(">>")},xd=h.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},vd=h.__private__.putXRef=function(){var b="0000000000";ae("xref"),ae("0 "+(J+1)),ae("0000000000 65535 f ");for(var O=1;O<=J;O++)typeof le[O]=="function"?ae((b+le[O]()).slice(-10)+" 00000 n "):le[O]!==void 0?ae((b+le[O]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},As=h.__private__.buildDocument=function(){var b;J=0,fe=0,he=[],le=[],de=[],K=un(),Y=un(),Se(he),rr.publish("buildDocument"),xd(),be(),function(){rr.publish("putAdditionalObjects");for(var ne=0;ne<de.length;ne++){var ce=de[ne];U(ce.objId,!0),ae(ce.content),ae("endobj")}rr.publish("postPutAdditionalObjects")}(),b=[],function(){for(var ne in ft)ft.hasOwnProperty(ne)&&(p===!1||p===!0&&m.hasOwnProperty(ne))&&Ee(ft[ne])}(),function(){var ne;for(ne in Lt)Lt.hasOwnProperty(ne)&&Ge(Lt[ne])}(),function(){for(var ne in Tn)Tn.hasOwnProperty(ne)&&He(Tn[ne])}(),function(ne){var ce;for(ce in wt)wt.hasOwnProperty(ce)&&(wt[ce]instanceof zl?Ye(wt[ce]):wt[ce]instanceof lu&&nt(wt[ce],ne))}(b),rr.publish("putResources"),b.forEach(rt),rt({resourcesOid:Y,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources"),f!==null&&(en.oid=Rr(),ae("<<"),ae("/Filter /Standard"),ae("/V "+en.v),ae("/R "+en.r),ae("/U <"+en.toHexString(en.U)+">"),ae("/O <"+en.toHexString(en.O)+">"),ae("/P "+en.P),ae(">>"),ae("endobj")),Zn(),Lp();var O=fe;return vd(),fn(),ae("startxref"),ae(""+O),ae("%%EOF"),Se(Fe[R]),he.join(`
`)},hl=h.__private__.getBlob=function(b){return new Blob([Ue(b)],{type:"application/pdf"})},La=h.output=h.__private__.output=(Ni=function(b,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",b){case void 0:return As();case"save":h.save(O.filename);break;case"arraybuffer":return Ue(As());case"blob":return hl(As());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(hl(As()))||void 0;Nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=As();try{ne=t4(ce)}catch{ne=t4(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+O.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ge=O.pdfObjectUrl,Oe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",ut=jt.open();return ut!==null&&ut.document.write($e),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Pt=jt.open();if(Pt!==null){Pt.document.write(mt);var It=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=O.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(It.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',zr=jt.open();if(zr!==null&&(zr.document.write(ir),zr.document.title=O.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",O);default:return null}},Ni.foo=function(){try{return Ni.apply(this,arguments)}catch(ne){var b=ne.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var O="Error in function "+b.split(`
`)[0].split("<")[0]+": "+ne.message;if(!jt.console)throw new Error(O);jt.console.error(O,ne),jt.alert&&alert(O)}},Ni.foo.bar=Ni,Ni.foo),dl=function(b){return Array.isArray(Ns)===!0&&Ns.indexOf(b)>-1};switch(n){case"pt":Nt=1;break;case"mm":Nt=72/25.4;break;case"cm":Nt=72/2.54;break;case"in":Nt=72;break;case"px":Nt=dl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nt=12;break;case"ex":Nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Nt=n}var en=null;ke(),se();var ef=h.__private__.getPageInfo=h.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[b].objId,pageNumber:b,pageContext:At[b]}},Pp=h.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in At)if(At[O].objId===b)break;return ef(O)},Fp=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:At[R].objId,pageNumber:R,pageContext:At[R]}};h.addPage=function(){return rs.apply(this,arguments),this},h.setPage=function(){return ns.apply(this,arguments),Se.call(this,Fe[R]),this},h.insertPage=function(b){return this.addPage(),this.movePage(R,b),this},h.movePage=function(b,O){var ne,ce;if(b>O){ne=Fe[b],ce=At[b];for(var ge=b;ge>O;ge--)Fe[ge]=Fe[ge-1],At[ge]=At[ge-1];Fe[O]=ne,At[O]=ce,this.setPage(O)}else if(b<O){ne=Fe[b],ce=At[b];for(var Oe=b;Oe<O;Oe++)Fe[Oe]=Fe[Oe+1],At[Oe]=At[Oe+1];Fe[O]=ne,At[O]=ce,this.setPage(O)}return this},h.deletePage=function(){return Ca.apply(this,arguments),this},h.__private__.text=h.text=function(b,O,ne,ce,ge){var Oe,$e,ut,mt,Pt,It,ir,zr,hn,Er=(ce=ce||{}).scope||this;if(typeof b=="number"&&typeof O=="number"&&(typeof ne=="string"||Array.isArray(ne))){var vn=ne;ne=O,O=b,b=vn}if(arguments[3]instanceof bt==0?(ut=arguments[4],mt=arguments[5],gr(ir=arguments[3])==="object"&&ir!==null||(typeof ut=="string"&&(mt=ut,ut=null),typeof ir=="string"&&(mt=ir,ir=null),typeof ir=="number"&&(ut=ir,ir=null),ce={flags:ir,angle:ut,align:mt})):(j("The transform parameter of text() with a Matrix value"),hn=ge),isNaN(O)||isNaN(ne)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Er;var dn,Rn="",ua=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:ml,Ai=Er.internal.scaleFactor;function Ed(or){return or=or.split("	").join(Array(ce.TabLen||9).join(" ")),Vt(or,ir)}function Ac(or){for(var br,rn=or.concat(),yn=[],Ps=rn.length;Ps--;)typeof(br=rn.shift())=="string"?yn.push(br):Array.isArray(or)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?yn.push(br[0]):yn.push([br[0],br[1],br[2]]);return yn}function wl(or,br){var rn;if(typeof or=="string")rn=br(or)[0];else if(Array.isArray(or)){for(var yn,Ps,yf=or.concat(),Tc=[],jd=yf.length;jd--;)typeof(yn=yf.shift())=="string"?Tc.push(br(yn)[0]):Array.isArray(yn)&&typeof yn[0]=="string"&&(Ps=br(yn[0],yn[1],yn[2]),Tc.push([Ps[0],Ps[1],Ps[2]]));rn=Tc}return rn}var co=!1,bl=!0;if(typeof b=="string")co=!0;else if(Array.isArray(b)){var Sl=b.concat();$e=[];for(var Nl,Qn=Sl.length;Qn--;)(typeof(Nl=Sl.shift())!="string"||Array.isArray(Nl)&&typeof Nl[0]!="string")&&(bl=!1);co=bl}if(co===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Al=qe/Er.internal.scaleFactor,El=Al*(ua-1);switch(ce.baseline){case"bottom":ne-=El;break;case"top":ne+=Al-El;break;case"hanging":ne+=Al-2*El;break;case"middle":ne+=Al/2-El}if((It=ce.maxWidth||0)>0&&(typeof b=="string"?b=Er.splitTextToSize(b,It):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(or,br){return or.concat(Er.splitTextToSize(br,It))},[]))),Oe={text:b,x:O,y:ne,options:ce,mutex:{pdfEscape:Vt,activeFontKey:_t,fonts:ft,activeFontSize:qe}},rr.publish("preProcessText",Oe),b=Oe.text,ut=(ce=Oe.options).angle,hn instanceof bt==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,ce.rotationDirection===0&&(ut=-ut),A===_&&(ut=-ut);var uf=Math.cos(ut),ff=Math.sin(ut);hn=new bt(uf,ff,-ff,uf,0,0)}else ut&&ut instanceof bt&&(hn=ut);A!==_||hn||(hn=ja),(Pt=ce.charSpace||Sc)!==void 0&&(Rn+=L(D(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=ce.horizontalScale)!==void 0&&(Rn+=L(100*zr)+` Tz
`),ce.lang;var Vr=-1,Cs=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Ec=Er.internal.getCurrentPageInfo().pageContext;switch(Cs){case 0:case!1:case"fill":Vr=0;break;case 1:case!0:case"stroke":Vr=1;break;case 2:case"fillThenStroke":Vr=2;break;case 3:case"invisible":Vr=3;break;case 4:case"fillAndAddForClipping":Vr=4;break;case 5:case"strokeAndAddPathForClipping":Vr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vr=6;break;case 7:case"addToPathForClipping":Vr=7}var kd=Ec.usedRenderingMode!==void 0?Ec.usedRenderingMode:-1;Vr!==-1?Rn+=Vr+` Tr
`:kd!==-1&&(Rn+=`0 Tr
`),Vr!==-1&&(Ec.usedRenderingMode=Vr),mt=ce.align||"left";var fa,kl=qe*ua,hf=Er.internal.pageSize.getWidth(),df=ft[_t];Pt=ce.charSpace||Sc,It=ce.maxWidth||0,ir=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var uo=[],Tl=function(or){return Er.getStringUnitWidth(or,{font:df,charSpace:Pt,fontSize:qe,doKerning:!1})*qe/Ai};if(Object.prototype.toString.call(b)==="[object Array]"){var Bi;$e=Ac(b),mt!=="left"&&(fa=$e.map(Tl));var Ui,fo=0;if(mt==="right"){O-=fa[0],b=[],Qn=$e.length;for(var Ls=0;Ls<Qn;Ls++)Ls===0?(Ui=Es(O),Bi=ks(ne)):(Ui=D(fo-fa[Ls]),Bi=-kl),b.push([$e[Ls],Ui,Bi]),fo=fa[Ls]}else if(mt==="center"){O-=fa[0]/2,b=[],Qn=$e.length;for(var ho=0;ho<Qn;ho++)ho===0?(Ui=Es(O),Bi=ks(ne)):(Ui=D((fo-fa[ho])/2),Bi=-kl),b.push([$e[ho],Ui,Bi]),fo=fa[ho]}else if(mt==="left"){b=[],Qn=$e.length;for(var pf=0;pf<Qn;pf++)b.push($e[pf])}else if(mt==="justify"&&df.encoding==="Identity-H"){b=[],Qn=$e.length,It=It!==0?It:hf;for(var kc=0,tn=0;tn<Qn;tn++)if(Bi=tn===0?ks(ne):-kl,Ui=tn===0?Es(O):kc,tn<Qn-1){var Td=D((It-fa[tn])/($e[tn].split(" ").length-1)),as=$e[tn].split(" ");b.push([as[0]+" ",Ui,Bi]),kc=0;for(var ss=1;ss<as.length;ss++){var mf=(Tl(as[ss-1]+" "+as[ss])-Tl(as[ss]))*Ai+Td;ss==as.length-1?b.push([as[ss],mf,0]):b.push([as[ss]+" ",mf,0]),kc-=mf}}else b.push([$e[tn],Ui,Bi]);b.push(["",kc,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Qn=$e.length,It=It!==0?It:hf,tn=0;tn<Qn;tn++){Bi=tn===0?ks(ne):-kl,Ui=tn===0?Es(O):0;var gf=$e[tn].split(" ").length-1,xf=gf>0?(It-fa[tn])/gf:0;tn<Qn-1?uo.push(L(D(xf))):uo.push(0),b.push([$e[tn],Ui,Bi])}}}(typeof ce.R2L=="boolean"?ce.R2L:Ft)===!0&&(b=wl(b,function(or,br,rn){return[or.split("").reverse().join(""),br,rn]})),Oe={text:b,x:O,y:ne,options:ce,mutex:{pdfEscape:Vt,activeFontKey:_t,fonts:ft,activeFontSize:qe}},rr.publish("postProcessText",Oe),b=Oe.text,dn=Oe.mutex.isHex||!1;var vf=ft[_t].encoding;vf!=="WinAnsiEncoding"&&vf!=="StandardEncoding"||(b=wl(b,function(or,br,rn){return[Ed(or),br,rn]})),$e=Ac(b),b=[];for(var po,mo,go,jl=Array.isArray($e[0])?1:0,xo="",Cl=function(or,br,rn){var yn="";return rn instanceof bt?(rn=typeof ce.angle=="number"?Ta(rn,new bt(1,0,0,1,or,br)):Ta(new bt(1,0,0,1,or,br),rn),A===_&&(rn=Ta(new bt(1,0,0,-1,0,0),rn)),yn=rn.join(" ")+` Tm
`):yn=L(or)+" "+L(br)+` Td
`,yn},ha=0;ha<$e.length;ha++){switch(xo="",jl){case 1:go=(dn?"<":"(")+$e[ha][0]+(dn?">":")"),po=parseFloat($e[ha][1]),mo=parseFloat($e[ha][2]);break;case 0:go=(dn?"<":"(")+$e[ha]+(dn?">":")"),po=Es(O),mo=ks(ne)}uo!==void 0&&uo[ha]!==void 0&&(xo=uo[ha]+` Tw
`),ha===0?b.push(xo+Cl(po,mo,hn)+go):jl===0?b.push(xo+go):jl===1&&b.push(xo+Cl(po,mo,hn)+go)}b=jl===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var os=`BT
/`;return os+=_t+" "+qe+` Tf
`,os+=L(qe*ua)+` TL
`,os+=gl+`
`,os+=Rn,os+=b,ae(os+="ET"),m[_t]=!0,Er};var Op=h.__private__.clip=h.clip=function(b){return ae(b==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Op("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ae("n"),this};var is=h.__private__.isValidStyle=function(b){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(O=!0),O};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(b){return is(b)&&(u=b),this};var yd=h.__private__.getStyle=h.getStyle=function(b){var O=u;switch(b){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=b}return O},_d=h.close=function(){return ae("h"),this};h.stroke=function(){return ae("S"),this},h.fill=function(b){return oo("f",b),this},h.fillEvenOdd=function(b){return oo("f*",b),this},h.fillStroke=function(b){return oo("B",b),this},h.fillStrokeEvenOdd=function(b){return oo("B*",b),this};var oo=function(b,O){gr(O)==="object"?Rp(O,b):ae(b)},tf=function(b){b===null||A===_&&b===void 0||(b=yd(b),ae(b))};function Ip(b,O,ne,ce,ge){var Oe=new lu(O||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ge||this.matrix);Oe.stream=this.stream;var $e=b+"$$"+this.cloneIndex+++"$$";return Jn($e,Oe),Oe}var Rp=function(b,O){var ne=qt[b.key],ce=wt[ne];if(ce instanceof zl)ae("q"),ae(Dp(O)),ce.gState&&h.setGState(ce.gState),ae(b.matrix.toString()+" cm"),ae("/"+ne+" sh"),ae("Q");else if(ce instanceof lu){var ge=new bt(1,0,0,-1,0,_l());b.matrix&&(ge=ge.multiply(b.matrix||ja),ne=Ip.call(ce,b.key,b.boundingBox,b.xStep,b.yStep,ge).id),ae("q"),ae("/Pattern cs"),ae("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),ae(O),ae("Q")}},Dp=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rf=h.moveTo=function(b,O){return ae(L(D(b))+" "+L(G(O))+" m"),this},pl=h.lineTo=function(b,O){return ae(L(D(b))+" "+L(G(O))+" l"),this},lo=h.curveTo=function(b,O,ne,ce,ge,Oe){return ae([L(D(b)),L(G(O)),L(D(ne)),L(G(ce)),L(D(ge)),L(G(Oe)),"c"].join(" ")),this};h.__private__.line=h.line=function(b,O,ne,ce,ge){if(isNaN(b)||isNaN(O)||isNaN(ne)||isNaN(ce)||!is(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===w?this.lines([[ne-b,ce-O]],b,O,[1,1],ge||"S"):this.lines([[ne-b,ce-O]],b,O,[1,1]).stroke()},h.__private__.lines=h.lines=function(b,O,ne,ce,ge,Oe){var $e,ut,mt,Pt,It,ir,zr,hn,Er,vn,dn,Rn;if(typeof b=="number"&&(Rn=ne,ne=O,O=b,b=Rn),ce=ce||[1,1],Oe=Oe||!1,isNaN(O)||isNaN(ne)||!Array.isArray(b)||!Array.isArray(ce)||!is(ge)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rf(O,ne),$e=ce[0],ut=ce[1],Pt=b.length,vn=O,dn=ne,mt=0;mt<Pt;mt++)(It=b[mt]).length===2?(vn=It[0]*$e+vn,dn=It[1]*ut+dn,pl(vn,dn)):(ir=It[0]*$e+vn,zr=It[1]*ut+dn,hn=It[2]*$e+vn,Er=It[3]*ut+dn,vn=It[4]*$e+vn,dn=It[5]*ut+dn,lo(ir,zr,hn,Er,vn,dn));return Oe&&_d(),tf(ge),this},h.path=function(b){for(var O=0;O<b.length;O++){var ne=b[O],ce=ne.c;switch(ne.op){case"m":rf(ce[0],ce[1]);break;case"l":pl(ce[0],ce[1]);break;case"c":lo.apply(this,ce);break;case"h":_d()}}return this},h.__private__.rect=h.rect=function(b,O,ne,ce,ge){if(isNaN(b)||isNaN(O)||isNaN(ne)||isNaN(ce)||!is(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w&&(ce=-ce),ae([L(D(b)),L(G(O)),L(D(ne)),L(D(ce)),"re"].join(" ")),tf(ge),this},h.__private__.triangle=h.triangle=function(b,O,ne,ce,ge,Oe,$e){if(isNaN(b)||isNaN(O)||isNaN(ne)||isNaN(ce)||isNaN(ge)||isNaN(Oe)||!is($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-b,ce-O],[ge-ne,Oe-ce],[b-ge,O-Oe]],b,O,[1,1],$e,!0),this},h.__private__.roundedRect=h.roundedRect=function(b,O,ne,ce,ge,Oe,$e){if(isNaN(b)||isNaN(O)||isNaN(ne)||isNaN(ce)||isNaN(ge)||isNaN(Oe)||!is($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ne),Oe=Math.min(Oe,.5*ce),this.lines([[ne-2*ge,0],[ge*ut,0,ge,Oe-Oe*ut,ge,Oe],[0,ce-2*Oe],[0,Oe*ut,-ge*ut,Oe,-ge,Oe],[2*ge-ne,0],[-ge*ut,0,-ge,-Oe*ut,-ge,-Oe],[0,2*Oe-ce],[0,-Oe*ut,ge*ut,-Oe,ge,-Oe]],b+ge,O,[1,1],$e,!0),this},h.__private__.ellipse=h.ellipse=function(b,O,ne,ce,ge){if(isNaN(b)||isNaN(O)||isNaN(ne)||isNaN(ce)||!is(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ne,$e=4/3*(Math.SQRT2-1)*ce;return rf(b+ne,O),lo(b+ne,O-$e,b+Oe,O-ce,b,O-ce),lo(b-Oe,O-ce,b-ne,O-$e,b-ne,O),lo(b-ne,O+$e,b-Oe,O+ce,b,O+ce),lo(b+Oe,O+ce,b+ne,O+$e,b+ne,O),tf(ge),this},h.__private__.circle=h.circle=function(b,O,ne,ce){if(isNaN(b)||isNaN(O)||isNaN(ne)||!is(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,O,ne,ne,ce)},h.setFont=function(b,O,ne){return ne&&(O=C(O,ne)),_t=so(b,O,{disableWarning:!1}),this};var Mp=h.__private__.getFont=h.getFont=function(){return ft[so.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var b,O,ne={};for(b in Ct)if(Ct.hasOwnProperty(b))for(O in ne[b]=[],Ct[b])Ct[b].hasOwnProperty(O)&&ne[b].push(O);return ne},h.addFont=function(b,O,ne,ce,ge){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ne=C(ne,ce)),_r.call(this,b,O,ne,ge=ge||"Identity-H")};var ml,nf=e.lineWidth||.200025,Ot=h.__private__.getLineWidth=h.getLineWidth=function(){return nf},Bp=h.__private__.setLineWidth=h.setLineWidth=function(b){return nf=b,ae(L(D(b))+" w"),this};h.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(b,O){if(b=b||[],O=O||0,isNaN(O)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ne){return L(D(ne))}).join(" "),O=L(D(O)),ae("["+b+"] "+O+" d"),this};var Up=h.__private__.getLineHeight=h.getLineHeight=function(){return qe*ml};h.__private__.getLineHeight=h.getLineHeight=function(){return qe*ml};var zp=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(ml=b),this},$p=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ml};zp(e.lineHeight);var Es=h.__private__.getHorizontalCoordinate=function(b){return D(b)},ks=h.__private__.getVerticalCoordinate=function(b){return A===_?b:At[R].mediaBox.topRightY-At[R].mediaBox.bottomLeftY-D(b)},qp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(b){return L(Es(b))},Hp=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(b){return L(ks(b))},wc=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return re(wc)},h.__private__.setStrokeColor=h.setDrawColor=function(b,O,ne,ce){return wc=ie({ch1:b,ch2:O,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),ae(wc),this};var af=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return re(af)},h.__private__.setFillColor=h.setFillColor=function(b,O,ne,ce){return af=ie({ch1:b,ch2:O,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),ae(af),this};var gl=e.textColor||"0 g",bc=h.__private__.getTextColor=h.getTextColor=function(){return re(gl)};h.__private__.setTextColor=h.setTextColor=function(b,O,ne,ce){return gl=ie({ch1:b,ch2:O,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var Sc=e.charSpace,Wp=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Sc||0)};h.__private__.setCharSpace=h.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sc=b,this};var sf=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(b){var O=h.CapJoinStyles[b];if(O===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sf=O,ae(O+" J"),this};var of=0;h.__private__.setLineJoin=h.setLineJoin=function(b){var O=h.CapJoinStyles[b];if(O===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return of=O,ae(O+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(L(D(b))+" M"),this},h.GState=V1,h.setGState=function(b){(b=typeof b=="string"?Lt[Ir[b]]:xl(null,b)).equals(Qr)||(ae("/"+b.id+" gs"),Qr=b)};var xl=function(b,O){if(!b||!Ir[b]){var ne=!1;for(var ce in Lt)if(Lt.hasOwnProperty(ce)&&Lt[ce].equals(O)){ne=!0;break}if(ne)O=Lt[ce];else{var ge="GS"+(Object.keys(Lt).length+1).toString(10);Lt[ge]=O,O.id=ge}return b&&(Ir[b]=O.id),rr.publish("addGState",O),O}};h.addGState=function(b,O){return xl(b,O),this},h.saveGraphicsState=function(){return ae("q"),cr.push({key:_t,size:qe,color:gl}),this},h.restoreGraphicsState=function(){ae("Q");var b=cr.pop();return _t=b.key,qe=b.size,gl=b.color,Qr=null,this},h.setCurrentTransformationMatrix=function(b){return ae(b.toString()+" cm"),this},h.comment=function(b){return ae("#"+b),this};var vl=function(b,O){var ne=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Oe){isNaN(Oe)||(ne=parseFloat(Oe))}});var ce=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Oe){isNaN(Oe)||(ce=parseFloat(Oe))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Oe){ge=Oe.toString()}}),this},lf=function(b,O,ne,ce){vl.call(this,b,O),this.type="rect";var ge=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function($e){isNaN($e)||(ge=parseFloat($e))}});var Oe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function($e){isNaN($e)||(Oe=parseFloat($e))}}),this},Nc=function(){this.page=ur,this.currentPage=R,this.pages=Fe.slice(0),this.pagesContext=At.slice(0),this.x=xt,this.y=lr,this.matrix=Yt,this.width=wd(R),this.height=Ts(R),this.outputDestination=Xe,this.id="",this.objectNumber=-1};Nc.prototype.restore=function(){ur=this.page,R=this.currentPage,At=this.pagesContext,Fe=this.pages,xt=this.x,lr=this.y,Yt=this.matrix,bd(R,this.width),js(R,this.height),Xe=this.outputDestination};var cf=function(b,O,ne,ce,ge){la.push(new Nc),ur=R=0,Fe=[],xt=b,lr=O,Yt=ge,Wr([ne,ce])};for(var yl in h.beginFormObject=function(b,O,ne,ce,ge){return cf(b,O,ne,ce,ge),this},h.endFormObject=function(b){return function(O){if(ka[O])la.pop().restore();else{var ne=new Nc,ce="Xo"+(Object.keys(Tn).length+1).toString(10);ne.id=ce,ka[O]=ce,Tn[ce]=ne,rr.publish("addFormObject",ne),la.pop().restore()}}(b),this},h.doFormObject=function(b,O){var ne=Tn[ka[b]];return ae("q"),ae(O.toString()+" cm"),ae("/"+ne.id+" Do"),ae("Q"),this},h.getFormObject=function(b){var O=Tn[ka[b]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},h.save=function(b,O){return b=b||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Dl(hl(As()),b),typeof Dl.unload=="function"&&jt.setTimeout&&setTimeout(Dl.unload,911),this):new Promise(function(ne,ce){try{var ge=Dl(hl(As()),b);typeof Dl.unload=="function"&&jt.setTimeout&&setTimeout(Dl.unload,911),ne(ge)}catch(Oe){ce(Oe.message)}})},yt.API)yt.API.hasOwnProperty(yl)&&(yl==="events"&&yt.API.events.length?function(b,O){var ne,ce,ge;for(ge=O.length-1;ge!==-1;ge--)ne=O[ge][0],ce=O[ge][1],b.subscribe.apply(b,[ne].concat(typeof ce=="function"?[ce]:ce))}(rr,yt.API.events):h[yl]=yt.API[yl]);function wd(b){return At[b].mediaBox.topRightX-At[b].mediaBox.bottomLeftX}function bd(b,O){At[b].mediaBox.topRightX=O+At[b].mediaBox.bottomLeftX}function Ts(b){return At[b].mediaBox.topRightY-At[b].mediaBox.bottomLeftY}function js(b,O){At[b].mediaBox.topRightY=O+At[b].mediaBox.bottomLeftY}var Sd=h.getPageWidth=function(b){return wd(b=b||R)/Nt},Nd=h.setPageWidth=function(b,O){bd(b,O*Nt)},_l=h.getPageHeight=function(b){return Ts(b=b||R)/Nt},Ad=h.setPageHeight=function(b,O){js(b,O*Nt)};return h.internal={pdfEscape:Vt,getStyle:yd,getFont:Mp,getFontSize:et,getCharSpace:Wp,getTextColor:bc,getLineHeight:Up,getLineHeightFactor:$p,getLineWidth:Ot,write:pt,getHorizontalCoordinate:Es,getVerticalCoordinate:ks,getCoordinateString:qp,getVerticalCoordinateString:Hp,collections:{},newObject:Rr,newAdditionalObject:te,newObjectDeferred:un,newObjectDeferredBegin:U,getFilters:ye,putStream:je,events:rr,scaleFactor:Nt,pageSize:{getWidth:function(){return Sd(R)},setWidth:function(b){Nd(R,b)},getHeight:function(){return _l(R)},setHeight:function(b){Ad(R,b)}},encryptionOptions:f,encryption:en,getEncryptor:function(b){return f!==null?en.encryptor(b,0):function(O){return O}},output:La,getNumberOfPages:ca,pages:Fe,out:ae,f2:T,f3:P,getPageInfo:ef,getPageInfoByObjId:Pp,getCurrentPageInfo:Fp,getPDFVersion:x,Point:vl,Rectangle:lf,Matrix:bt,hasHotfix:dl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Sd(R)},set:function(b){Nd(R,b)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return _l(R)},set:function(b){Ad(R,b)},enumerable:!0,configurable:!0}),(function(b){for(var O=0,ne=st.length;O<ne;O++){var ce=_r.call(this,b[O][0],b[O][1],b[O][2],st[O][3],!0);p===!1&&(m[ce]=!0);var ge=b[O][0].split("-");kt({id:ce,fontName:ge[0],fontStyle:ge[1]||""})}rr.publish("addFonts",{fonts:ft,dictionary:Ct})}).call(h,st),_t="F1",rs(i,r),rr.publish("initialized"),h}Gc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Gc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gc.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Gc.prototype.processOwnerPassword=function(e,t){return rx(tx(t).substr(0,5),e)},Gc.prototype.encryptor=function(e,t){var r=tx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return rx(r,n)}},V1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||gr(e)!==gr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},yt.API={events:[]},yt.version="3.0.3";var Xr=yt.API,Gv=1,_c=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$c=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},To=function(e){return e.toFixed(5)};Xr.__acroform__={};var Mi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},a4=function(e){return e*Gv},hs=function(e){var t=new fA,r=ct.internal.getHeight(e)||0,n=ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(n)),Number(Rt(r))],t},Wz=Xr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Vz=Xr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Gz=Xr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},on=Xr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Gz(e,t-1)},ln=Xr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wz(e,t-1)},cn=Xr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vz(e,t-1)},Kz=Xr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},Xz=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=nx(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Rt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=hs(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},nx=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=r,s=ct.internal.getHeight(e)||0;s=s<0?-s:s;var o=ct.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(T,P,D){if(T+1<i.length){var G=P+" "+i[T+1][0];return j0(G,e,D).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,f,p=j0("3",e,a).height,m=e.multiline?s-a:(s-p)/2,h=m+=2,v=0,x=0,S=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+j0(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var A=!1;if(i[_].length!==1&&S!==i[_].length-1){if((p+2)*(w+2)+2>s)continue e;y+=i[_][S],A=!0,x=_,_--}else{y=(y+=i[_][S]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var H=parseInt(_),V=c(H,y,a),C=_>=i.length-1;if(V&&!C){y+=" ",S=0;continue}if(V||C){if(C)x=H;else if(e.multiline&&(p+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>s)continue e;x=H}}for(var L="",j=v;j<=x;j++){var M=i[j];if(e.multiline){if(j===x){L+=M[S]+" ",S=(S+1)%M.length;continue}if(j===v){L+=M[M.length-1]+" ";continue}}L+=M[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=j0(L,e,a).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;default:u=2}t+=Rt(u)+" "+Rt(h)+` Td
`,t+="("+_c(L)+`) Tj
`,t+=-Rt(u)+` 0 Td
`,h=-(a+2),f=0,v=A?x:x+1,w++,y=""}break}return n.text=t,n.fontSize=a,n},j0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Yz={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Jz=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Zz=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(es.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Yz)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new hA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Jz(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=Kz(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ct.createDefaultAppearanceStream(o),gr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Xz(o);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var p="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var h=o.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(i,o)),p+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,o)),p+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}a&&function(x,S){for(var y in x)if(x.hasOwnProperty(y)){var w=y,_=x[y];S.internal.newObjectDeferredBegin(_.objId,!0),gr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete x[w]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},uA=Xr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),gr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+_c(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ng=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+_c(n(e))+")"},xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xs.prototype.toString=function(){return this.objId+" 0 R"},xs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},xs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:uA(i,this.objId,this.scope)}):i instanceof xs?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var fA=function(){xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Mi(fA,xs);var hA=function(){xs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_c(r(e))+")"}},set:function(r){e=r}})};Mi(hA,xs);var es=function e(){xs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!on(t,3)},set:function(y){y?this.F=ln(t,3):this.F=cn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof G1)return;a="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+_c(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Gv:u},set:function(y){u=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof G1||this instanceof Zl))return Ng(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ln==0?Ng(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Ln==0?y.substr(0,1)==="("?$c(y.substr(1,y.length-2)):$c(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln==1?$c(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Ln==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ln==0?Ng(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Ln==0?y.substr(0,1)==="("?$c(y.substr(1,y.length-2)):$c(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln==1?$c(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ln==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,1)},set:function(y){y?this.Ff=ln(this.Ff,1):this.Ff=cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,2)},set:function(y){y?this.Ff=ln(this.Ff,2):this.Ff=cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,3)},set:function(y){y?this.Ff=ln(this.Ff,3):this.Ff=cn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');S=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(S){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Mi(es,xs);var _u=function(){es.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uA(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,18)},set:function(r){r?this.Ff=ln(this.Ff,18):this.Ff=cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ln(this.Ff,19):this.Ff=cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,20)},set:function(r){r?(this.Ff=ln(this.Ff,20),t.sort()):this.Ff=cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,22)},set:function(r){r?this.Ff=ln(this.Ff,22):this.Ff=cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,23)},set:function(r){r?this.Ff=ln(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,27)},set:function(r){r?this.Ff=ln(this.Ff,27):this.Ff=cn(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi(_u,es);var wu=function(){_u.call(this),this.fontName="helvetica",this.combo=!1};Mi(wu,_u);var bu=function(){wu.call(this),this.combo=!0};Mi(bu,wu);var Y0=function(){bu.call(this),this.edit=!0};Mi(Y0,bu);var Ln=function(){es.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,15)},set:function(r){r?this.Ff=ln(this.Ff,15):this.Ff=cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,16)},set:function(r){r?this.Ff=ln(this.Ff,16):this.Ff=cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,17)},set:function(r){r?this.Ff=ln(this.Ff,17):this.Ff=cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,26)},set:function(r){r?this.Ff=ln(this.Ff,26):this.Ff=cn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+_c(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){gr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Mi(Ln,es);var J0=function(){Ln.call(this),this.pushButton=!0};Mi(J0,Ln);var Su=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Mi(Su,Ln);var G1=function(){var e,t;es.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+_c(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){gr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(G1,es),Su.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Su.prototype.createOption=function(e){var t=new G1;return t.Parent=this,t.optionName=e,this.Kids.push(t),Qz.call(this.scope,t),t};var Z0=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};Mi(Z0,Ln);var Zl=function(){es.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,13)},set:function(t){t?this.Ff=ln(this.Ff,13):this.Ff=cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,21)},set:function(t){t?this.Ff=ln(this.Ff,21):this.Ff=cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,23)},set:function(t){t?this.Ff=ln(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,24)},set:function(t){t?this.Ff=ln(this.Ff,24):this.Ff=cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,25)},set:function(t){t?this.Ff=ln(this.Ff,25):this.Ff=cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,26)},set:function(t){t?this.Ff=ln(this.Ff,26):this.Ff=cn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(Zl,es);var Q0=function(){Zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!on(this.Ff,14)},set:function(e){e?this.Ff=ln(this.Ff,14):this.Ff=cn(this.Ff,14)}}),this.password=!0};Mi(Q0,Zl);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=nx(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rt(ct.internal.getWidth(e))+" "+Rt(ct.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=hs(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=ct.internal.getHeight(e),s=ct.internal.getWidth(e),o=nx(e,e.caption);return i.push("1 g"),i.push("0 0 "+Rt(s)+" "+Rt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Rt(s-1)+" "+Rt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Rt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(ct.internal.getWidth(e))+" "+Rt(ct.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ct.RadioButton.Circle.YesNormal,t.D[e]=ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=hs(e);t.scope=e.scope;var r=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=ct.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+To(ct.internal.getWidth(e)/2)+" "+To(ct.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5)),s=Number((n*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+To(ct.internal.getWidth(e)/2)+" "+To(ct.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+To(ct.internal.getWidth(e)/2)+" "+To(ct.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=[],n=ct.internal.getWidth(e)<=ct.internal.getHeight(e)?ct.internal.getWidth(e)/4:ct.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+To(ct.internal.getWidth(e)/2)+" "+To(ct.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ct.RadioButton.Cross.YesNormal,t.D[e]=ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=hs(e);t.scope=e.scope;var r=[],n=ct.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rt(ct.internal.getWidth(e)-2)+" "+Rt(ct.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=ct.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(ct.internal.getWidth(e))+" "+Rt(ct.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rt(ct.internal.getWidth(e)-2)+" "+Rt(ct.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=hs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(ct.internal.getWidth(e))+" "+Rt(ct.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ct.internal.getWidth(e),r=ct.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ct.internal.getWidth=function(e){var t=0;return gr(e)==="object"&&(t=a4(e.Rect[2])),t},ct.internal.getHeight=function(e){var t=0;return gr(e)==="object"&&(t=a4(e.Rect[3])),t};var Qz=Xr.addField=function(e){if(Zz(this,e),!(e instanceof es))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Xr.AcroFormChoiceField=_u,Xr.AcroFormListBox=wu,Xr.AcroFormComboBox=bu,Xr.AcroFormEditBox=Y0,Xr.AcroFormButton=Ln,Xr.AcroFormPushButton=J0,Xr.AcroFormRadioButton=Su,Xr.AcroFormCheckBox=Z0,Xr.AcroFormTextField=Zl,Xr.AcroFormPasswordField=Q0,Xr.AcroFormAppearance=ct,Xr.AcroForm={ChoiceField:_u,ListBox:wu,ComboBox:bu,EditBox:Y0,Button:Ln,PushButton:J0,RadioButton:Su,CheckBox:Z0,TextField:Zl,PasswordField:Q0,Appearance:ct},yt.AcroForm={ChoiceField:_u,ListBox:wu,ComboBox:bu,EditBox:Y0,Button:Ln,PushButton:J0,RadioButton:Su,CheckBox:Z0,TextField:Zl,PasswordField:Q0,Appearance:ct};function dA(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,P){var D,G,oe,ve,we,se=r;if((P=P||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(V(T))for(we in n)for(oe=n[we],D=0;D<oe.length;D+=1){for(ve=!0,G=0;G<oe[D].length;G+=1)if(oe[D][G]!==void 0&&oe[D][G]!==T[G]){ve=!1;break}if(ve===!0){se=we;break}}else for(we in n)for(oe=n[we],D=0;D<oe.length;D+=1){for(ve=!0,G=0;G<oe[D].length;G+=1)if(oe[D][G]!==void 0&&oe[D][G]!==T.charCodeAt(G)){ve=!1;break}if(ve===!0){se=we;break}}return se===r&&P!==r&&(se=P),se},a=function T(P){for(var D=this.internal.write,G=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:P.width}),ve.push({key:"Height",value:P.height}),P.colorSpace===y.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===y.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var we="",se=0,me=P.transparency.length;se<me;se++)we+=P.transparency[se]+" "+P.transparency[se]+" ";ve.push({key:"Mask",value:"["+we+"]"})}P.sMask!==void 0&&ve.push({key:"SMask",value:P.objectId+1+" 0 R"});var Te=P.filter!==void 0?["/"+P.filter]:void 0;if(G({data:P.data,additionalKeyValues:ve,alreadyAppliedFilters:Te,objectId:P.objectId}),D("endobj"),"sMask"in P&&P.sMask!==void 0){var ke,E=(ke=P.sMaskBitsPerComponent)!==null&&ke!==void 0?ke:P.bitsPerComponent,R={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:P.sMask};"filter"in P&&(R.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(P.width),R.filter=P.filter),T.call(this,R)}if(P.colorSpace===y.INDEXED){var F=this.internal.newObject();G({data:L(new Uint8Array(P.palette)),objectId:F}),D("endobj")}},s=function(){var T=this.internal.collections[t+"images"];for(var P in T)a.call(this,T[P])},o=function(){var T,P=this.internal.collections[t+"images"],D=this.internal.write;for(var G in P)D("/I"+(T=P[G]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(T){return typeof e["process"+T.toUpperCase()]=="function"},m=function(T){return gr(T)==="object"&&T.nodeType===1},h=function(T,P){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return X0(unescape(D).split("base64,").pop());var G=e.loadFile(D,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var oe;switch(P){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return X0(T.toDataURL(oe,1).split("base64,").pop())}},v=function(T){var P=this.internal.collections[t+"images"];if(P){for(var D in P)if(T===P[D].alias)return P[D]}},x=function(T,P,D){return T||P||(T=-96,P=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),P<0&&(P=-1*D.height*72/P/this.internal.scaleFactor),T===0&&(T=P*D.width/D.height),P===0&&(P=T*D.height/D.width),[T,P]},S=function(T,P,D,G,oe,ve){var we=x.call(this,D,G,oe),se=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,Te=u.call(this);if(D=we[0],G=we[1],Te[oe.index]=oe,ve){ve*=Math.PI/180;var ke=Math.cos(ve),E=Math.sin(ve),R=function(B){return B.toFixed(4)},F=[R(ke),R(E),R(-1*E),R(ke),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,se(T),me(P+G),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([se(D),"0","0",se(G),"0","0","cm"].join(" "))):this.internal.write([se(D),"0","0",se(G),se(T),me(P+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(T){var P,D,G=0;if(typeof T=="string")for(D=T.length,P=0;P<D;P++)G=(G<<5)-G+T.charCodeAt(P),G|=0;else if(V(T))for(D=T.byteLength/2,P=0;P<D;P++)G=(G<<5)-G+T[P],G|=0;return G},A=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var P=!0;return T.length===0&&(P=!1),T.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(P=!1),P},H=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var P=T.indexOf(",");return P<0?null:T.substring(0,P).trim().endsWith("base64")?T.substring(P+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(T){for(var P=T.length,D=new Uint8Array(P),G=0;G<P;G++)D[G]=T.charCodeAt(G);return D},L=e.__addimage__.arrayBufferToBinaryString=function(T){for(var P="",D=V(T)?T:new Uint8Array(T),G=0;G<D.length;G+=8192)P+=String.fromCharCode.apply(null,D.subarray(G,G+8192));return P};e.addImage=function(){var T,P,D,G,oe,ve,we,se,me;if(typeof arguments[1]=="number"?(P=r,D=arguments[1],G=arguments[2],oe=arguments[3],ve=arguments[4],we=arguments[5],se=arguments[6],me=arguments[7]):(P=arguments[1],D=arguments[2],G=arguments[3],oe=arguments[4],ve=arguments[5],we=arguments[6],se=arguments[7],me=arguments[8]),gr(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var Te=T;T=Te.imageData,P=Te.format||P||r,D=Te.x||D||0,G=Te.y||G||0,oe=Te.w||Te.width||oe,ve=Te.h||Te.height||ve,we=Te.alias||we,se=Te.compression||se,me=Te.rotation||Te.angle||me}var ke=this.internal.getFilters();if(se===void 0&&ke.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(D)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var E=j.call(this,T,P,we,se);return S.call(this,D,G,oe,ve,E,me),this};var j=function(T,P,D,G){var oe,ve,we;if(typeof T=="string"&&i(T)===r){T=unescape(T);var se=M(T,!1);(se!==""||(se=e.loadFile(T,!0))!==void 0)&&(T=se)}if(m(T)&&(T=h(T,P)),P=i(T,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((we=D)==null||we.length===0)&&(D=function(me){return typeof me=="string"||V(me)?_(me):V(me.data)?_(me.data):null}(T)),(oe=v.call(this,D))||(T instanceof Uint8Array||P==="RGBA"||(ve=T,T=C(T)),oe=this["process"+P.toUpperCase()](T,f.call(this),D,function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in e.image_compression?me:w.NONE}(G),ve)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},M=e.__addimage__.convertBase64ToBinaryString=function(T,P){P=typeof P!="boolean"||P;var D,G="";if(typeof T=="string"){var oe;D=(oe=H(T))!==null&&oe!==void 0?oe:T;try{G=X0(D)}catch(ve){if(P)throw A(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(T){var P,D,G="";if(m(T)&&(T=h(T)),typeof T=="string"&&i(T)===r&&((G=M(T,!1))===""&&(G=e.loadFile(T)||""),T=G),D=i(T),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=C(T)),!(P=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=D,P}})(yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,p=0;p<u.length&&!f;p++)switch((n=u[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(y(w))+") >>",x.content=a;var _=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(x.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var H=this.annotations._nameMap[n.options.name];n.options.pageNumber=H.page,n.options.top=H.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var V=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(u*f)}else o=c,s=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,o,s,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(x){var S=0,y=r,w="",_=0;for(S=0;S<x.length;S+=1)y[x.charCodeAt(S)]!==void 0?(_++,typeof(y=y[x.charCodeAt(S)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),S===x.length-1&&(y=r,w+=x.charAt(S-(_-1)),S-=_-1,_=0)):(y=r,w+=x.charAt(S-_),S-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(x,S,y){return s(x)?a(x)===!1?-1:!u(x)||!s(S)&&!s(y)||!s(y)&&o(S)||o(x)&&!s(S)||o(x)&&c(S)||o(x)&&o(S)?0:f(x)&&s(S)&&!o(S)&&s(y)&&u(y)?3:o(x)||!s(y)?1:2:-1},h=function(x){var S=0,y=0,w=0,_="",A="",H="",V=(x=x||"").split("\\s+"),C=[];for(S=0;S<V.length;S+=1){for(C.push(""),y=0;y<V[S].length;y+=1)_=V[S][y],A=V[S][y-1],H=V[S][y+1],s(_)?(w=m(_,A,H),C[S]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):C[S]+=_;C[S]=p(C[S])}return C.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(S)){var w=0;for(y=[],w=0;w<S.length;w+=1)Array.isArray(S[w])?y.push([h(S[w][0]),S[w][1],S[w][2]]):y.push([h(S[w])]);x=y}else x=h(S);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])}(yt.API),yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,x=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,A){return _.concat(S.splitTextToSize(A,y))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(x=this.getStringUnitWidth(c[w],{font:p})*f)&&(h=x);return h!==0&&(v=c.length),{w:h/=m,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,p,m){if(n.call(this),!f)throw new Error("No data for PDF table.");var h,v,x,S,y=[],w=[],_=[],A={},H={},V=[],C=[],L=(m=m||{}).autoSize||!1,j=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",G=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=G,this.setFontSize(M),p==null)w=y=Object.keys(f[0]),_=y.map(function(){return"left"});else if(Array.isArray(p)&&gr(p[0])==="object")for(y=p.map(function(Te){return Te.name}),w=p.map(function(Te){return Te.prompt||Te.name||""}),_=p.map(function(Te){return Te.align||"left"}),h=0;h<p.length;h+=1)H[p[h].name]=.7499990551181103*p[h].width;else Array.isArray(p)&&typeof p[0]=="string"&&(w=y=p,_=y.map(function(){return"left"}));if(L||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<y.length;h+=1){for(A[S=y[h]]=f.map(function(Te){return Te[S]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[S],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)V.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[S]=Math.max.apply(null,V)+P+P,V=[]}if(j){var oe={};for(h=0;h<y.length;h+=1)oe[y[h]]={},oe[y[h]].text=w[h],oe[y[h]].align=_[h];var ve=o.call(this,oe,H);C=y.map(function(Te){return new a(c,u,H[Te],ve,oe[Te].text,void 0,oe[Te].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var we=p.reduce(function(Te,ke){return Te[ke.name]=ke.align,Te},{});for(h=0;h<f.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:f[h]},this);var se=o.call(this,f[h],H);for(x=0;x<y.length;x+=1){var me=f[h][y[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:x,data:me},this),s.call(this,new a(c,u,H[y[x]],se,me,h+2,we[y[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/m+f+f},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(yt.API);var pA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ix=dA(mA),gA=[100,200,300,400,500,600,700,800,900],e$=dA(gA);function Ag(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return pA[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof ix[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function s4(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var t$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function c4(e){return e.trimLeft()}function r$(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function n$(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var C0,u4,f4,qc,L0,h4,d4,p4,Eg=["times"];function m4(e,t,r,n,i){var a=4,s=x4;switch(i){case yt.API.image_compression.FAST:a=1,s=g4;break;case yt.API.image_compression.MEDIUM:a=6,s=v4;break;case yt.API.image_compression.SLOW:a=9,s=y4}e=function(c,u,f,p){for(var m,h=c.length/u,v=new Uint8Array(c.length+h),x=[i$,g4,x4,v4,y4],S=0;S<h;S+=1){var y=S*u,w=c.subarray(y,y+u);if(p)v.set(p(w,f,m),y+S);else{for(var _=x.length,A=[],H=0;H<_;H+=1)A[H]=x[H](w,f,m);var V=s$(A.concat());v.set(A[V],y+S)}m=w}return v}(e,t,Math.ceil(r*n/8),s);var o=W2(e,{level:a});return yt.API.__addimage__.arrayBufferToBinaryString(o)}function i$(e){var t=Array.apply([],e);return t.unshift(0),t}function g4(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function x4(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function v4(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function y4(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=a$(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function a$(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function s$(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function kg(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return xA(e,i)>>a&s}function _4(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,c=(t&o)<<s;(function(u,f,p){if(f+1<u.byteLength)u.setUint16(f,p,!1);else{var m=p>>8&255;u.setUint8(f,m)}})(e,a,xA(e,a)&~(o<<s)&65535|c)}function xA(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function o$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,c=null;a&&(o=t,c=s,t+=3*s);var u=!0,f=[],p=0,m=null,h=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];p=e[t++]|e[t++]<<8,m=e[t++],1&x||(m=null),h=x>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,A=e[t++],H=A>>6&1,V=1<<1+(7&A),C=o,L=c,j=!1;A>>7&&(j=!0,C=t,L=V,t+=3*V);var M=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}f.push({x:S,y,width:w,height:_,has_local_palette:j,palette_offset:C,palette_size:L,data_offset:M,data_length:t-M,transparent_index:m,interlaced:!!H,delay:p,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(P){if(P<0||P>=f.length)throw new Error("Frame index out of range.");return f[P]},this.decodeAndBlitFrameBGRA=function(P,D){var G=this.frameInfo(P),oe=G.width*G.height,ve=new Uint8Array(oe);w4(e,G.data_offset,ve,oe);var we=G.palette_offset,se=G.transparent_index;se===null&&(se=256);var me=G.width,Te=r-me,ke=me,E=4*(G.y*r+G.x),R=4*((G.y+G.height)*r+G.x),F=E,B=4*Te;G.interlaced===!0&&(B+=4*r*7);for(var J=8,le=0,he=ve.length;le<he;++le){var fe=ve[le];if(ke===0&&(ke=me,(F+=B)>=R&&(B=4*Te+4*r*(J-1),F=E+(me+Te)*(J<<1),J>>=1)),fe===se)F+=4;else{var de=e[we+3*fe],Fe=e[we+3*fe+1],Be=e[we+3*fe+2];D[F++]=Be,D[F++]=Fe,D[F++]=de,D[F++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(P,D){var G=this.frameInfo(P),oe=G.width*G.height,ve=new Uint8Array(oe);w4(e,G.data_offset,ve,oe);var we=G.palette_offset,se=G.transparent_index;se===null&&(se=256);var me=G.width,Te=r-me,ke=me,E=4*(G.y*r+G.x),R=4*((G.y+G.height)*r+G.x),F=E,B=4*Te;G.interlaced===!0&&(B+=4*r*7);for(var J=8,le=0,he=ve.length;le<he;++le){var fe=ve[le];if(ke===0&&(ke=me,(F+=B)>=R&&(B=4*Te+4*r*(J-1),F=E+(me+Te)*(J<<1),J>>=1)),fe===se)F+=4;else{var de=e[we+3*fe],Fe=e[we+3*fe+1],Be=e[we+3*fe+2];D[F++]=de,D[F++]=Fe,D[F++]=Be,D[F++]=255}--ke}}}function w4(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,c=i+1,u=(1<<c)-1,f=0,p=0,m=0,h=e[t++],v=new Int32Array(4096),x=null;;){for(;f<16&&h!==0;)p|=e[t++]<<f,f+=8,h===1?h=e[t++]:--h;if(f<c)break;var S=p&u;if(p>>=c,f-=c,S!==a){if(S===s)break;for(var y=S<o?S:x,w=0,_=y;_>a;)_=v[_]>>8,++w;var A=_;if(m+w+(y!==S?1:0)>n)return void Nr.log("Warning, gif stream longer than expected.");r[m++]=A;var H=m+=w;for(y!==S&&(r[m++]=A),_=y;w--;)_=v[_],r[--H]=255&_,_>>=8;x!==null&&o<4096&&(v[o++]=x<<8|A,o>=u+1&&c<12&&(++c,u=u<<1|1)),x=S}else o=s+1,u=(1<<(c=i+1))-1,x=null}return m!==n&&Nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Tg(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),x=[],S=0,y=7,w=new Array(64),_=new Array(64),A=new Array(64),H=new Array(256),V=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(E,R){for(var F=0,B=0,J=new Array,le=1;le<=16;le++){for(var he=1;he<=E[le];he++)J[R[B]]=[],J[R[B]][0]=F,J[R[B]][1]=le,B++,F++;F*=2}return J}function we(E){for(var R=E[0],F=E[1]-1;F>=0;)R&1<<F&&(S|=1<<y),F--,--y<0&&(S==255?(se(255),se(0)):se(S),y=7,S=0)}function se(E){x.push(E)}function me(E){se(E>>8&255),se(255&E)}function Te(E,R,F,B,J){for(var le,he=J[0],fe=J[240],de=function(qe,lt){var et,Ft,gt,Mt,Et,Tt,tr,St,_t,Nt,xt=0;for(_t=0;_t<8;++_t){et=qe[xt],Ft=qe[xt+1],gt=qe[xt+2],Mt=qe[xt+3],Et=qe[xt+4],Tt=qe[xt+5],tr=qe[xt+6];var lr=et+(St=qe[xt+7]),Yt=et-St,ft=Ft+tr,Ct=Ft-tr,cr=gt+Tt,wt=gt-Tt,qt=Mt+Et,Lt=Mt-Et,Ir=lr+qt,Qr=lr-qt,ur=ft+cr,At=ft-cr;qe[xt]=Ir+ur,qe[xt+4]=Ir-ur;var rr=.707106781*(At+Qr);qe[xt+2]=Qr+rr,qe[xt+6]=Qr-rr;var Ns=.382683433*((Ir=Lt+wt)-(At=Ct+Yt)),Tn=.5411961*Ir+Ns,ka=1.306562965*At+Ns,la=.707106781*(ur=wt+Ct),bt=Yt+la,Ta=Yt-la;qe[xt+5]=Ta+Tn,qe[xt+3]=Ta-Tn,qe[xt+1]=bt+ka,qe[xt+7]=bt-ka,xt+=8}for(xt=0,_t=0;_t<8;++_t){et=qe[xt],Ft=qe[xt+8],gt=qe[xt+16],Mt=qe[xt+24],Et=qe[xt+32],Tt=qe[xt+40],tr=qe[xt+48];var ja=et+(St=qe[xt+56]),Jn=et-St,Ni=Ft+tr,Rr=Ft-tr,un=gt+Tt,U=gt-Tt,te=Mt+Et,K=Mt-Et,Y=ja+te,re=ja-te,ie=Ni+un,ye=Ni-un;qe[xt]=Y+ie,qe[xt+32]=Y-ie;var je=.707106781*(ye+re);qe[xt+16]=re+je,qe[xt+48]=re-je;var _e=.382683433*((Y=K+U)-(ye=Rr+Jn)),be=.5411961*Y+_e,Ee=1.306562965*ye+_e,He=.707106781*(ie=U+Rr),Ye=Jn+He,nt=Jn-He;qe[xt+40]=nt+be,qe[xt+24]=nt-be,qe[xt+8]=Ye+Ee,qe[xt+56]=Ye-Ee,xt++}for(_t=0;_t<64;++_t)Nt=qe[_t]*lt[_t],h[_t]=Nt>0?Nt+.5|0:Nt-.5|0;return h}(E,R),Fe=0;Fe<64;++Fe)v[C[Fe]]=de[Fe];var Be=v[0]-F;F=v[0],Be==0?we(B[0]):(we(B[m[le=32767+Be]]),we(p[le]));for(var Xe=63;Xe>0&&v[Xe]==0;)Xe--;if(Xe==0)return we(he),F;for(var Se,ae=1;ae<=Xe;){for(var pt=ae;v[ae]==0&&ae<=Xe;)++ae;var Ue=ae-pt;if(Ue>=16){Se=Ue>>4;for(var st=1;st<=Se;++st)we(fe);Ue&=15}le=32767+v[ae],we(J[(Ue<<4)+m[le]]),we(p[le]),ae++}return Xe!=63&&we(he),F}function ke(E){E=Math.min(Math.max(E,1),100),a!=E&&(function(R){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var J=s((F[B]*R+50)/100);J=Math.min(Math.max(J,1),255),o[C[B]]=J}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=s((le[he]*R+50)/100);fe=Math.min(Math.max(fe,1),255),c[C[he]]=fe}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Be=0;Be<8;Be++)for(var Xe=0;Xe<8;Xe++)u[Fe]=1/(o[C[Fe]]*de[Be]*de[Xe]*8),f[Fe]=1/(c[C[Fe]]*de[Be]*de[Xe]*8),Fe++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),a=E)}this.encode=function(E,R){R&&ke(R),x=new Array,S=0,y=7,me(65496),me(65504),me(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),me(1),me(1),se(0),se(0),function(){me(65499),me(132),se(0);for(var Ft=0;Ft<64;Ft++)se(o[Ft]);se(1);for(var gt=0;gt<64;gt++)se(c[gt])}(),function(Ft,gt){me(65472),me(17),se(8),me(gt),me(Ft),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(E.width,E.height),function(){me(65476),me(418),se(0);for(var Ft=0;Ft<16;Ft++)se(L[Ft+1]);for(var gt=0;gt<=11;gt++)se(j[gt]);se(16);for(var Mt=0;Mt<16;Mt++)se(M[Mt+1]);for(var Et=0;Et<=161;Et++)se(T[Et]);se(1);for(var Tt=0;Tt<16;Tt++)se(P[Tt+1]);for(var tr=0;tr<=11;tr++)se(D[tr]);se(17);for(var St=0;St<16;St++)se(G[St+1]);for(var _t=0;_t<=161;_t++)se(oe[_t])}(),me(65498),me(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var F=0,B=0,J=0;S=0,y=7,this.encode.displayName="_encode_";for(var le,he,fe,de,Fe,Be,Xe,Se,ae,pt=E.data,Ue=E.width,st=E.height,qe=4*Ue,lt=0;lt<st;){for(le=0;le<qe;){for(Fe=qe*lt+le,Xe=-1,Se=0,ae=0;ae<64;ae++)Be=Fe+(Se=ae>>3)*qe+(Xe=4*(7&ae)),lt+Se>=st&&(Be-=qe*(lt+1+Se-st)),le+Xe>=qe&&(Be-=le+Xe-qe+4),he=pt[Be++],fe=pt[Be++],de=pt[Be++],w[ae]=(V[he]+V[fe+256|0]+V[de+512|0]>>16)-128,_[ae]=(V[he+768|0]+V[fe+1024|0]+V[de+1280|0]>>16)-128,A[ae]=(V[he+1280|0]+V[fe+1536|0]+V[de+1792|0]>>16)-128;F=Te(w,u,F,t,n),B=Te(_,f,B,r,i),J=Te(A,f,J,r,i),le+=32}lt+=8}if(y>=0){var et=[];et[1]=y+1,et[0]=(1<<y+1)-1,we(et)}return me(65497),new Uint8Array(x)},e=e||50,function(){for(var E=String.fromCharCode,R=0;R<256;R++)H[R]=E(R)}(),t=ve(L,j),r=ve(P,D),n=ve(M,T),i=ve(G,oe),function(){for(var E=1,R=2,F=1;F<=15;F++){for(var B=E;B<R;B++)m[32767+B]=F,p[32767+B]=[],p[32767+B][1]=F,p[32767+B][0]=B;for(var J=-(R-1);J<=-E;J++)m[32767+J]=F,p[32767+J]=[],p[32767+J][1]=F,p[32767+J][0]=R-1+J;E<<=1,R<<=1}}(),function(){for(var E=0;E<256;E++)V[E]=19595*E,V[E+256|0]=38470*E,V[E+512|0]=7471*E+32768,V[E+768|0]=-11059*E,V[E+1024|0]=-21709*E,V[E+1280|0]=32768*E+8421375,V[E+1536|0]=-27439*E,V[E+1792|0]=-5329*E}(),ke(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ma(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b4(e){function t(j){if(!j)throw Error("assert :P")}function r(j,M,T){for(var P=0;4>P;P++)if(j[M+P]!=T.charCodeAt(P))return!0;return!1}function n(j,M,T,P,D){for(var G=0;G<D;G++)j[M+G]=T[P+G]}function i(j,M,T,P){for(var D=0;D<P;D++)j[M+D]=T}function a(j){return new Int32Array(j)}function s(j,M){for(var T=[],P=0;P<j;P++)T.push(new M);return T}function o(j,M){var T=[];return function P(D,G,oe){for(var ve=oe[G],we=0;we<ve&&(D.push(oe.length>G+1?[]:new M),!(oe.length<G+1));we++)P(D[we],G+1,oe)}(T,0,j),T}var c=function(){var j=this;function M(d,g){for(var N=1<<g-1>>>0;d&N;)N>>>=1;return N?(d&N-1)+N:d}function T(d,g,N,k,I){t(!(k%N));do d[g+(k-=N)]=I;while(0<k)}function P(d,g,N,k,I){if(t(2328>=I),512>=I)var z=a(512);else if((z=a(I))==null)return 0;return function(q,W,X,Q,ue,Ae){var ee,pe,xe=W,Le=1<<X,Ne=a(16),Pe=a(16);for(t(ue!=0),t(Q!=null),t(q!=null),t(0<X),pe=0;pe<ue;++pe){if(15<Q[pe])return 0;++Ne[Q[pe]]}if(Ne[0]==ue)return 0;for(Pe[1]=0,ee=1;15>ee;++ee){if(Ne[ee]>1<<ee)return 0;Pe[ee+1]=Pe[ee]+Ne[ee]}for(pe=0;pe<ue;++pe)ee=Q[pe],0<Q[pe]&&(Ae[Pe[ee]++]=pe);if(Pe[15]==1)return(Q=new D).g=0,Q.value=Ae[0],T(q,xe,1,Le,Q),Le;var Ie,We=-1,ze=Le-1,vt=0,ot=1,Ut=1,ht=1<<X;for(pe=0,ee=1,ue=2;ee<=X;++ee,ue<<=1){if(ot+=Ut<<=1,0>(Ut-=Ne[ee]))return 0;for(;0<Ne[ee];--Ne[ee])(Q=new D).g=ee,Q.value=Ae[pe++],T(q,xe+vt,ue,ht,Q),vt=M(vt,ee)}for(ee=X+1,ue=2;15>=ee;++ee,ue<<=1){if(ot+=Ut<<=1,0>(Ut-=Ne[ee]))return 0;for(;0<Ne[ee];--Ne[ee]){if(Q=new D,(vt&ze)!=We){for(xe+=ht,Ie=1<<(We=ee)-X;15>We&&!(0>=(Ie-=Ne[We]));)++We,Ie<<=1;Le+=ht=1<<(Ie=We-X),q[W+(We=vt&ze)].g=Ie+X,q[W+We].value=xe-W-We}Q.g=ee-X,Q.value=Ae[pe++],T(q,xe+(vt>>X),ue,ht,Q),vt=M(vt,ee)}}return ot!=2*Pe[15]-1?0:Le}(d,g,N,k,I,z)}function D(){this.value=this.g=0}function G(){this.value=this.g=0}function oe(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Tl,G)}function ve(d,g,N,k){t(d!=null),t(g!=null),t(2147483648>k),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=N,d.Jd=g,d.Yc=N+k,d.Zc=4<=k?N+k-4+1:N,he(d)}function we(d,g){for(var N=0;0<g--;)N|=de(d,128)<<g;return N}function se(d,g){var N=we(d,g);return fe(d)?-N:N}function me(d,g,N,k){var I,z=0;for(t(d!=null),t(g!=null),t(4294967288>k),d.Sb=k,d.Ra=0,d.u=0,d.h=0,4<k&&(k=4),I=0;I<k;++I)z+=g[N+I]<<8*I;d.Ra=z,d.bb=k,d.oa=g,d.pa=N}function Te(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<fo-8>>>0,++d.bb,d.u-=8;B(d)&&(d.h=1,d.u=0)}function ke(d,g){if(t(0<=g),!d.h&&g<=Ui){var N=F(d)&Bi[g];return d.u+=g,Te(d),N}return d.h=1,d.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(d){return d.Ra>>>(d.u&fo-1)>>>0}function B(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>fo}function J(d,g){d.u=g,d.h=B(d)}function le(d){d.u>=Ls&&(t(d.u>=Ls),Te(d))}function he(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function fe(d){return we(d,1)}function de(d,g){var N=d.Ca;0>d.b&&he(d);var k=d.b,I=N*g>>>8,z=(d.I>>>k>I)+0;for(z?(N-=I,d.I-=I+1<<k>>>0):N=I+1,k=N,I=0;256<=k;)I+=8,k>>=8;return k=7^I+ho[k],d.b-=k,d.Ca=(N<<k)-1,z}function Fe(d,g,N){d[g+0]=N>>24&255,d[g+1]=N>>16&255,d[g+2]=N>>8&255,d[g+3]=255&N}function Be(d,g){return d[g+0]|d[g+1]<<8}function Xe(d,g){return Be(d,g)|d[g+2]<<16}function Se(d,g){return Be(d,g)|Be(d,g+2)<<16}function ae(d,g){var N=1<<g;return t(d!=null),t(0<g),d.X=a(N),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function pt(d,g){t(d!=null),t(g!=null),t(d.Xa==g.Xa),n(g.X,0,d.X,0,1<<g.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function st(d,g,N,k){t(N!=null),t(k!=null);var I=N[0],z=k[0];return I==0&&(I=(d*z+g/2)/g),z==0&&(z=(g*I+d/2)/d),0>=I||0>=z?0:(N[0]=I,k[0]=z,1)}function qe(d,g){return d+(1<<g)-1>>>g}function lt(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function et(d,g){j[g]=function(N,k,I,z,q,W,X){var Q;for(Q=0;Q<q;++Q){var ue=j[d](W[X+Q-1],I,z+Q);W[X+Q]=lt(N[k+Q],ue)}}}function Ft(){this.ud=this.hd=this.jd=0}function gt(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function Mt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Et(d,g){return Mt(d+(d-g+.5>>1))}function Tt(d,g,N){return Math.abs(g-N)-Math.abs(d-N)}function tr(d,g,N,k,I,z,q){for(k=z[q-1],N=0;N<I;++N)z[q+N]=k=lt(d[g+N],k)}function St(d,g,N,k,I){var z;for(z=0;z<N;++z){var q=d[g+z],W=q>>8&255,X=16711935&(X=(X=16711935&q)+((W<<16)+W));k[I+z]=(4278255360&q)+X>>>0}}function _t(d,g){g.jd=255&d,g.hd=d>>8&255,g.ud=d>>16&255}function Nt(d,g,N,k,I,z){var q;for(q=0;q<k;++q){var W=g[N+q],X=W>>>8,Q=W,ue=255&(ue=(ue=W>>>16)+((d.jd<<24>>24)*(X<<24>>24)>>>5));Q=255&(Q=(Q+=(d.hd<<24>>24)*(X<<24>>24)>>>5)+((d.ud<<24>>24)*(ue<<24>>24)>>>5)),I[z+q]=(4278255360&W)+(ue<<16)+Q}}function xt(d,g,N,k,I){j[g]=function(z,q,W,X,Q,ue,Ae,ee,pe){for(X=Ae;X<ee;++X)for(Ae=0;Ae<pe;++Ae)Q[ue++]=I(W[k(z[q++])])},j[d]=function(z,q,W,X,Q,ue,Ae){var ee=8>>z.b,pe=z.Ea,xe=z.K[0],Le=z.w;if(8>ee)for(z=(1<<z.b)-1,Le=(1<<ee)-1;q<W;++q){var Ne,Pe=0;for(Ne=0;Ne<pe;++Ne)Ne&z||(Pe=k(X[Q++])),ue[Ae++]=I(xe[Pe&Le]),Pe>>=ee}else j["VP8LMapColor"+N](X,Q,xe,Le,ue,Ae,q,W,pe)}}function lr(d,g,N,k,I){for(N=g+N;g<N;){var z=d[g++];k[I++]=z>>16&255,k[I++]=z>>8&255,k[I++]=255&z}}function Yt(d,g,N,k,I){for(N=g+N;g<N;){var z=d[g++];k[I++]=z>>16&255,k[I++]=z>>8&255,k[I++]=255&z,k[I++]=z>>24&255}}function ft(d,g,N,k,I){for(N=g+N;g<N;){var z=(q=d[g++])>>16&240|q>>12&15,q=240&q|q>>28&15;k[I++]=z,k[I++]=q}}function Ct(d,g,N,k,I){for(N=g+N;g<N;){var z=(q=d[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;k[I++]=z,k[I++]=q}}function cr(d,g,N,k,I){for(N=g+N;g<N;){var z=d[g++];k[I++]=255&z,k[I++]=z>>8&255,k[I++]=z>>16&255}}function wt(d,g,N,k,I,z){if(z==0)for(N=g+N;g<N;)Fe(k,((z=d[g++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),I+=32;else n(k,I,d,g,N)}function qt(d,g){j[g][0]=j[d+"0"],j[g][1]=j[d+"1"],j[g][2]=j[d+"2"],j[g][3]=j[d+"3"],j[g][4]=j[d+"4"],j[g][5]=j[d+"5"],j[g][6]=j[d+"6"],j[g][7]=j[d+"7"],j[g][8]=j[d+"8"],j[g][9]=j[d+"9"],j[g][10]=j[d+"10"],j[g][11]=j[d+"11"],j[g][12]=j[d+"12"],j[g][13]=j[d+"13"],j[g][14]=j[d+"0"],j[g][15]=j[d+"0"]}function Lt(d){return d==Kp||d==Xp||d==Id||d==Yp}function Ir(){this.eb=[],this.size=this.A=this.fb=0}function Qr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ur(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ir,this.f.kb=new Qr,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ns(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Tn(d,g){var N=d.T,k=g.ba.f.RGBA,I=k.eb,z=k.fb+d.ka*k.A,q=pa[g.ba.S],W=d.y,X=d.O,Q=d.f,ue=d.N,Ae=d.ea,ee=d.W,pe=g.cc,xe=g.dc,Le=g.Mc,Ne=g.Nc,Pe=d.ka,Ie=d.ka+d.T,We=d.U,ze=We+1>>1;for(Pe==0?q(W,X,null,null,Q,ue,Ae,ee,Q,ue,Ae,ee,I,z,null,null,We):(q(g.ec,g.fc,W,X,pe,xe,Le,Ne,Q,ue,Ae,ee,I,z-k.A,I,z,We),++N);Pe+2<Ie;Pe+=2)pe=Q,xe=ue,Le=Ae,Ne=ee,ue+=d.Rc,ee+=d.Rc,z+=2*k.A,q(W,(X+=2*d.fa)-d.fa,W,X,pe,xe,Le,Ne,Q,ue,Ae,ee,I,z-k.A,I,z,We);return X+=d.fa,d.j+Ie<d.o?(n(g.ec,g.fc,W,X,We),n(g.cc,g.dc,Q,ue,ze),n(g.Mc,g.Nc,Ae,ee,ze),N--):1&Ie||q(W,X,null,null,Q,ue,Ae,ee,Q,ue,Ae,ee,I,z+k.A,null,null,We),N}function ka(d,g,N){var k=d.F,I=[d.J];if(k!=null){var z=d.U,q=g.ba.S,W=q==Od||q==Id;g=g.ba.f.RGBA;var X=[0],Q=d.ka;X[0]=d.T,d.Kb&&(Q==0?--X[0]:(--Q,I[0]-=d.width),d.j+d.ka+d.T==d.o&&(X[0]=d.o-d.j-Q));var ue=g.eb;Q=g.fb+Q*g.A,d=ty(k,I[0],d.width,z,X,ue,Q+(W?0:3),g.A),t(N==X),d&&Lt(q)&&_f(ue,Q,W,z,X,g.A)}return 0}function la(d){var g=d.ma,N=g.ba.S,k=11>N,I=N==Pd||N==Fd||N==Od||N==Gp||N==12||Lt(N);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!hf(g.Oa,d,I?11:12))return 0;if(I&&Lt(N)&&Ed(),d.da)alert("todo:use_scaling");else{if(k){if(g.Ib=Ns,d.Kb){if(N=d.U+1>>1,g.memory=a(d.U+2*N),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+N,g.Ib=Tn,Ed()}}else alert("todo:EmitYUV");I&&(g.Jb=ka,k&&ua())}if(k&&!vy){for(d=0;256>d;++d)zA[d]=89858*(d-128)+Dd>>Rd,HA[d]=-22014*(d-128)+Dd,qA[d]=-45773*(d-128),$A[d]=113618*(d-128)+Dd>>Rd;for(d=bf;d<Qp;++d)g=76283*(d-16)+Dd>>Rd,WA[d-bf]=Vr(g,255),VA[d-bf]=Vr(g+8>>4,15);vy=1}return 1}function bt(d){var g=d.ma,N=d.U,k=d.T;return t(!(1&d.ka)),0>=N||0>=k?0:(N=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,N),g.Dc+=N,1)}function Ta(d){d.ma.memory=null}function ja(d,g,N,k){return ke(d,8)!=47?0:(g[0]=ke(d,14)+1,N[0]=ke(d,14)+1,k[0]=ke(d,1),ke(d,3)!=0?0:!d.h)}function Jn(d,g){if(4>d)return d+1;var N=d-2>>1;return(2+(1&d)<<N)+ke(g,N)+1}function Ni(d,g){return 120<g?g-120:1<=(N=((N=kA[g-1])>>4)*d+(8-(15&N)))?N:1;var N}function Rr(d,g,N){var k=F(N),I=d[g+=255&k].g-8;return 0<I&&(J(N,N.u+8),k=F(N),g+=d[g].value,g+=k&(1<<I)-1),J(N,N.u+d[g].g),d[g].value}function un(d,g,N){return N.g+=d.g,N.value+=d.value<<g>>>0,t(8>=N.g),d.g}function U(d,g,N){var k=d.xc;return t((g=k==0?0:d.vc[d.md*(N>>k)+(g>>k)])<d.Wb),d.Ya[g]}function te(d,g,N,k){var I=d.ab,z=d.c*g,q=d.C;g=q+g;var W=N,X=k;for(k=d.Ta,N=d.Ua;0<I--;){var Q=d.gc[I],ue=q,Ae=g,ee=W,pe=X,xe=(X=k,W=N,Q.Ea);switch(t(ue<Ae),t(Ae<=Q.nc),Q.hc){case 2:tn(ee,pe,(Ae-ue)*xe,X,W);break;case 0:var Le=ue,Ne=Ae,Pe=X,Ie=W,We=(ht=Q).Ea;Le==0&&(pf(ee,pe,null,null,1,Pe,Ie),tr(ee,pe+1,0,0,We-1,Pe,Ie+1),pe+=We,Ie+=We,++Le);for(var ze=1<<ht.b,vt=ze-1,ot=qe(We,ht.b),Ut=ht.K,ht=ht.w+(Le>>ht.b)*ot;Le<Ne;){var Kt=Ut,_n=ht,zt=1;for(kc(ee,pe,Pe,Ie-We,1,Pe,Ie);zt<We;){var dt=(zt&~vt)+ze;dt>We&&(dt=We),(0,gf[Kt[_n++]>>8&15])(ee,pe+ +zt,Pe,Ie+zt-We,dt-zt,Pe,Ie+zt),zt=dt}pe+=We,Ie+=We,++Le&vt||(ht+=ot)}Ae!=Q.nc&&n(X,W-xe,X,W+(Ae-ue-1)*xe,xe);break;case 1:for(xe=ee,Ne=pe,We=(ee=Q.Ea)-(Ie=ee&~(Pe=(pe=1<<Q.b)-1)),Le=qe(ee,Q.b),ze=Q.K,Q=Q.w+(ue>>Q.b)*Le;ue<Ae;){for(vt=ze,ot=Q,Ut=new Ft,ht=Ne+Ie,Kt=Ne+ee;Ne<ht;)_t(vt[ot++],Ut),xf(Ut,xe,Ne,pe,X,W),Ne+=pe,W+=pe;Ne<Kt&&(_t(vt[ot++],Ut),xf(Ut,xe,Ne,We,X,W),Ne+=We,W+=We),++ue&Pe||(Q+=Le)}break;case 3:if(ee==X&&pe==W&&0<Q.b){for(Ne=X,ee=xe=W+(Ae-ue)*xe-(Ie=(Ae-ue)*qe(Q.Ea,Q.b)),pe=X,Pe=W,Le=[],Ie=(We=Ie)-1;0<=Ie;--Ie)Le[Ie]=pe[Pe+Ie];for(Ie=We-1;0<=Ie;--Ie)Ne[ee+Ie]=Le[Ie];Td(Q,ue,Ae,X,xe,X,W)}else Td(Q,ue,Ae,ee,pe,X,W)}W=k,X=N}X!=N&&n(k,N,W,X,z)}function K(d,g){var N=d.V,k=d.Ba+d.c*d.C,I=g-d.C;if(t(g<=d.l.o),t(16>=I),0<I){var z=d.l,q=d.Ta,W=d.Ua,X=z.width;if(te(d,I,N,k),I=W=[W],t((N=d.C)<(k=g)),t(z.v<z.va),k>z.o&&(k=z.o),N<z.j){var Q=z.j-N;N=z.j,I[0]+=Q*X}if(N>=k?N=0:(I[0]+=4*z.v,z.ka=N-z.j,z.U=z.va-z.v,z.T=k-N,N=1),N){if(W=W[0],11>(N=d.ca).S){var ue=N.f.RGBA,Ae=(k=N.S,I=z.U,z=z.T,Q=ue.eb,ue.A),ee=z;for(ue=ue.fb+d.Ma*ue.A;0<ee--;){var pe=q,xe=W,Le=I,Ne=Q,Pe=ue;switch(k){case Ld:vf(pe,xe,Le,Ne,Pe);break;case Pd:po(pe,xe,Le,Ne,Pe);break;case Kp:po(pe,xe,Le,Ne,Pe),_f(Ne,Pe,0,Le,1,0);break;case ly:jl(pe,xe,Le,Ne,Pe);break;case Fd:wt(pe,xe,Le,Ne,Pe,1);break;case Xp:wt(pe,xe,Le,Ne,Pe,1),_f(Ne,Pe,0,Le,1,0);break;case Od:wt(pe,xe,Le,Ne,Pe,0);break;case Id:wt(pe,xe,Le,Ne,Pe,0),_f(Ne,Pe,1,Le,1,0);break;case Gp:mo(pe,xe,Le,Ne,Pe);break;case Yp:mo(pe,xe,Le,Ne,Pe),ey(Ne,Pe,Le,1,0);break;case cy:go(pe,xe,Le,Ne,Pe);break;default:t(0)}W+=X,ue+=Ae}d.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=N.height)}}d.C=g,t(d.C<=d.i)}function Y(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var N=d.Ya[g].G,k=d.Ya[g].H;if(0<N[1][k[1]+0].g||0<N[2][k[2]+0].g||0<N[3][k[3]+0].g)return 0}return 1}function re(d,g,N,k,I,z){if(d.Z!=0){var q=d.qd,W=d.rd;for(t(yo[d.Z]!=null);g<N;++g)yo[d.Z](q,W,k,I,k,I,z),q=k,W=I,I+=z;d.qd=q,d.rd=W}}function ie(d,g){var N=d.l.ma,k=N.Z==0||N.Z==1?d.l.j:d.C;if(k=d.C<k?k:d.C,t(g<=d.l.o),g>k){var I=d.l.width,z=N.ca,q=N.tb+I*k,W=d.V,X=d.Ba+d.c*k,Q=d.gc;t(d.ab==1),t(Q[0].hc==3),ss(Q[0],k,g,W,X,z,q),re(N,k,g,z,q,I)}d.C=d.Ma=g}function ye(d,g,N,k,I,z,q){var W=d.$/k,X=d.$%k,Q=d.m,ue=d.s,Ae=N+d.$,ee=Ae;I=N+k*I;var pe=N+k*z,xe=280+ue.ua,Le=d.Pb?W:16777216,Ne=0<ue.ua?ue.Wa:null,Pe=ue.wc,Ie=Ae<pe?U(ue,X,W):null;t(d.C<z),t(pe<=I);var We=!1;e:for(;;){for(;We||Ae<pe;){var ze=0;if(W>=Le){var vt=Ae-N;t((Le=d).Pb),Le.wd=Le.m,Le.xd=vt,0<Le.s.ua&&pt(Le.s.Wa,Le.s.vb),Le=W+jA}if(X&Pe||(Ie=U(ue,X,W)),t(Ie!=null),Ie.Qb&&(g[Ae]=Ie.qb,We=!0),!We)if(le(Q),Ie.jc){ze=Q,vt=g;var ot=Ae,Ut=Ie.pd[F(ze)&Tl-1];t(Ie.jc),256>Ut.g?(J(ze,ze.u+Ut.g),vt[ot]=Ut.value,ze=0):(J(ze,ze.u+Ut.g-256),t(256<=Ut.value),ze=Ut.value),ze==0&&(We=!0)}else ze=Rr(Ie.G[0],Ie.H[0],Q);if(Q.h)break;if(We||256>ze){if(!We)if(Ie.nd)g[Ae]=(Ie.qb|ze<<8)>>>0;else{if(le(Q),We=Rr(Ie.G[1],Ie.H[1],Q),le(Q),vt=Rr(Ie.G[2],Ie.H[2],Q),ot=Rr(Ie.G[3],Ie.H[3],Q),Q.h)break;g[Ae]=(ot<<24|We<<16|ze<<8|vt)>>>0}if(We=!1,++Ae,++X>=k&&(X=0,++W,q!=null&&W<=z&&!(W%16)&&q(d,W),Ne!=null))for(;ee<Ae;)ze=g[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else if(280>ze){if(ze=Jn(ze-256,Q),vt=Rr(Ie.G[4],Ie.H[4],Q),le(Q),vt=Ni(k,vt=Jn(vt,Q)),Q.h)break;if(Ae-N<vt||I-Ae<ze)break e;for(ot=0;ot<ze;++ot)g[Ae+ot]=g[Ae+ot-vt];for(Ae+=ze,X+=ze;X>=k;)X-=k,++W,q!=null&&W<=z&&!(W%16)&&q(d,W);if(t(Ae<=I),X&Pe&&(Ie=U(ue,X,W)),Ne!=null)for(;ee<Ae;)ze=g[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else{if(!(ze<xe))break e;for(We=ze-280,t(Ne!=null);ee<Ae;)ze=g[ee++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze;ze=Ae,t(!(We>>>(vt=Ne).Xa)),g[ze]=vt.X[We],We=!0}We||t(Q.h==B(Q))}if(d.Pb&&Q.h&&Ae<I)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&pt(d.s.vb,d.s.Wa);else{if(Q.h)break e;q!=null&&q(d,W>z?z:W),d.a=0,d.$=Ae-N}return 1}return d.a=3,0}function je(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,t(d!=null)}function _e(){var d=new mt;return d==null?null:(d.a=0,d.xb=hy,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),tn=St,xf=Nt,vf=lr,po=Yt,mo=ft,go=Ct,jl=cr,j.VP8LMapColor32b=as,j.VP8LMapColor8b=mf,d)}function be(d,g,N,k,I){var z=1,q=[d],W=[g],X=k.m,Q=k.s,ue=null,Ae=0;e:for(;;){if(N)for(;z&&ke(X,1);){var ee=q,pe=W,xe=k,Le=1,Ne=xe.m,Pe=xe.gc[xe.ab],Ie=ke(Ne,2);if(xe.Oc&1<<Ie)z=0;else{switch(xe.Oc|=1<<Ie,Pe.hc=Ie,Pe.Ea=ee[0],Pe.nc=pe[0],Pe.K=[null],++xe.ab,t(4>=xe.ab),Ie){case 0:case 1:Pe.b=ke(Ne,3)+2,Le=be(qe(Pe.Ea,Pe.b),qe(Pe.nc,Pe.b),0,xe,Pe.K),Pe.K=Pe.K[0];break;case 3:var We,ze=ke(Ne,8)+1,vt=16<ze?0:4<ze?1:2<ze?2:3;if(ee[0]=qe(Pe.Ea,vt),Pe.b=vt,We=Le=be(ze,1,0,xe,Pe.K)){var ot,Ut=ze,ht=Pe,Kt=1<<(8>>ht.b),_n=a(Kt);if(_n==null)We=0;else{var zt=ht.K[0],dt=ht.w;for(_n[0]=ht.K[0][0],ot=1;ot<1*Ut;++ot)_n[ot]=lt(zt[dt+ot],_n[ot-1]);for(;ot<4*Kt;++ot)_n[ot]=0;ht.K[0]=null,ht.K[0]=_n,We=1}}Le=We;break;case 2:break;default:t(0)}z=Le}}if(q=q[0],W=W[0],z&&ke(X,1)&&!(z=1<=(Ae=ke(X,4))&&11>=Ae)){k.a=3;break e}var tt;if(tt=z)t:{var nn,Dt,Jt,Cr=k,Dn=q,fi=W,Gr=Ae,ei=N,hi=Cr.m,wn=Cr.s,Qt=[null],fr=1,Kr=0,hr=TA[Gr];r:for(;;){if(ei&&ke(hi,1)){var Mn=ke(hi,3)+2,Fa=qe(Dn,Mn),an=qe(fi,Mn),Ei=Fa*an;if(!be(Fa,an,0,Cr,Qt))break r;for(Qt=Qt[0],wn.xc=Mn,nn=0;nn<Ei;++nn){var Sr=Qt[nn]>>8&65535;Qt[nn]=Sr,Sr>=fr&&(fr=Sr+1)}}if(hi.h)break r;for(Dt=0;5>Dt;++Dt){var bn=uy[Dt];!Dt&&0<Gr&&(bn+=1<<Gr),Kr<bn&&(Kr=bn)}var $i=s(fr*hr,D),di=fr,qi=s(di,oe);if(qi==null)var Hi=null;else t(65536>=di),Hi=qi;var ki=a(Kr);if(Hi==null||ki==null||$i==null){Cr.a=1;break r}var Wi=$i;for(nn=Jt=0;nn<fr;++nn){var kr=Hi[nn],Vi=kr.G,Oa=kr.H,Ll=0,Os=1,Bn=0;for(Dt=0;5>Dt;++Dt){bn=uy[Dt],Vi[Dt]=Wi,Oa[Dt]=Jt,!Dt&&0<Gr&&(bn+=1<<Gr);i:{var Bd,em=bn,Ud=Cr,Sf=ki,XA=Wi,YA=Jt,tm=0,_o=Ud.m,JA=ke(_o,1);if(i(Sf,0,0,em),JA){var ZA=ke(_o,1)+1,QA=ke(_o,1),wy=ke(_o,QA==0?1:8);Sf[wy]=1,ZA==2&&(Sf[wy=ke(_o,8)]=1);var zd=1}else{var by=a(19),Sy=ke(_o,4)+4;if(19<Sy){Ud.a=3;var $d=0;break i}for(Bd=0;Bd<Sy;++Bd)by[EA[Bd]]=ke(_o,3);var rm=void 0,Nf=void 0,Ny=Ud,eE=by,qd=em,Ay=Sf,nm=0,wo=Ny.m,Ey=8,ky=s(128,D);n:for(;P(ky,0,7,eE,19);){if(ke(wo,1)){var tE=2+2*ke(wo,3);if((rm=2+ke(wo,tE))>qd)break n}else rm=qd;for(Nf=0;Nf<qd&&rm--;){le(wo);var Ty=ky[0+(127&F(wo))];J(wo,wo.u+Ty.g);var jc=Ty.value;if(16>jc)Ay[Nf++]=jc,jc!=0&&(Ey=jc);else{var rE=jc==16,jy=jc-16,nE=NA[jy],Cy=ke(wo,SA[jy])+nE;if(Nf+Cy>qd)break n;for(var iE=rE?Ey:0;0<Cy--;)Ay[Nf++]=iE}}nm=1;break n}nm||(Ny.a=3),zd=nm}(zd=zd&&!_o.h)&&(tm=P(XA,YA,8,Sf,em)),zd&&tm!=0?$d=tm:(Ud.a=3,$d=0)}if($d==0)break r;if(Os&&AA[Dt]==1&&(Os=Wi[Jt].g==0),Ll+=Wi[Jt].g,Jt+=$d,3>=Dt){var Af,im=ki[0];for(Af=1;Af<bn;++Af)ki[Af]>im&&(im=ki[Af]);Bn+=im}}if(kr.nd=Os,kr.Qb=0,Os&&(kr.qb=(Vi[3][Oa[3]+0].value<<24|Vi[1][Oa[1]+0].value<<16|Vi[2][Oa[2]+0].value)>>>0,Ll==0&&256>Vi[0][Oa[0]+0].value&&(kr.Qb=1,kr.qb+=Vi[0][Oa[0]+0].value<<8)),kr.jc=!kr.Qb&&6>Bn,kr.jc){var Hd,Is=kr;for(Hd=0;Hd<Tl;++Hd){var bo=Hd,So=Is.pd[bo],Wd=Is.G[0][Is.H[0]+bo];256<=Wd.value?(So.g=Wd.g+256,So.value=Wd.value):(So.g=0,So.value=0,bo>>=un(Wd,8,So),bo>>=un(Is.G[1][Is.H[1]+bo],16,So),bo>>=un(Is.G[2][Is.H[2]+bo],0,So),un(Is.G[3][Is.H[3]+bo],24,So))}}}wn.vc=Qt,wn.Wb=fr,wn.Ya=Hi,wn.yc=$i,tt=1;break t}tt=0}if(!(z=tt)){k.a=3;break e}if(0<Ae){if(Q.ua=1<<Ae,!ae(Q.Wa,Ae)){k.a=1,z=0;break e}}else Q.ua=0;var am=k,Ly=q,aE=W,sm=am.s,om=sm.xc;if(am.c=Ly,am.i=aE,sm.md=qe(Ly,om),sm.wc=om==0?-1:(1<<om)-1,N){k.xb=RA;break e}if((ue=a(q*W))==null){k.a=1,z=0;break e}z=(z=ye(k,ue,0,q,W,W,null))&&!X.h;break e}return z?(I!=null?I[0]=ue:(t(ue==null),t(N)),k.$=0,N||je(Q)):je(Q),z}function Ee(d,g){var N=d.c*d.i,k=N+g+16*g;return t(d.c<=g),d.V=a(k),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+N+g,1)}function He(d,g){var N=d.C,k=g-N,I=d.V,z=d.Ba+d.c*N;for(t(g<=d.l.o);0<k;){var q=16<k?16:k,W=d.l.ma,X=d.l.width,Q=X*q,ue=W.ca,Ae=W.tb+X*N,ee=d.Ta,pe=d.Ua;te(d,q,I,z),ry(ee,pe,ue,Ae,Q),re(W,N,N+q,ue,Ae,X),k-=q,I+=q*d.c,N+=q}t(N==g),d.C=d.Ma=g}function Ye(){this.ub=this.yd=this.td=this.Rb=0}function nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ge(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function rt(){this.Yb=function(){var d=[];return function g(N,k,I){for(var z=I[k],q=0;q<z&&(N.push(I.length>k+1?[]:0),!(I.length<k+1));q++)g(N[q],k+1,I)}(d,0,[3,11]),d}()}function kt(){this.jb=a(3),this.Wc=o([4,8],rt),this.Xc=o([4,17],rt)}function _r(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Vt(){this.ld=this.La=this.dd=this.tc=0}function Wr(){this.Na=this.la=0}function rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ca(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ns(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vt),this.Y=0,this.ya=Array(new Ca),this.aa=0,this.l=new Zn}function ca(){this.y=a(16),this.f=a(8),this.ea=a(8)}function so(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new Ye,this.Kc=new nt,this.ed=new _r,this.Qa=new Ge,this.Ic=this.$c=this.Aa=0,this.D=new ns,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,E),this.ia=0,this.pb=s(4,rs),this.Pa=new kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ca),this.Hd=0,this.rb=Array(new Wr),this.sb=0,this.wa=Array(new Vt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ca),this.L=this.aa=0,this.gd=o([4,2],Vt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lp(){var d=new so;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,wf||(wf=As)),d}function fn(d,g,N){return d.a==0&&(d.a=g,d.sc=N,d.cb=0),0}function xd(d,g,N){return 3<=N&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function vd(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return fn(d,2,"null VP8Io passed to VP8GetHeaders()");var N=g.data,k=g.w,I=g.ha;if(4>I)return fn(d,7,"Truncated header.");var z=N[k+0]|N[k+1]<<8|N[k+2]<<16,q=d.Od;if(q.Rb=!(1&z),q.td=z>>1&7,q.yd=z>>4&1,q.ub=z>>5,3<q.td)return fn(d,3,"Incorrect keyframe parameters.");if(!q.yd)return fn(d,4,"Frame not displayable.");k+=3,I-=3;var W=d.Kc;if(q.Rb){if(7>I)return fn(d,7,"cannot parse picture header");if(!xd(N,k,I))return fn(d,3,"Bad code word");W.c=16383&(N[k+4]<<8|N[k+3]),W.Td=N[k+4]>>6,W.i=16383&(N[k+6]<<8|N[k+5]),W.Ud=N[k+6]>>6,k+=7,I-=7,d.za=W.c+15>>4,d.Ub=W.i+15>>4,g.width=W.c,g.height=W.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((z=d.Pa).jb,0,255,z.jb.length),t((z=d.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(q.ub>I)return fn(d,7,"bad partition length");ve(z=d.m,N,k,q.ub),k+=q.ub,I-=q.ub,q.Rb&&(W.Ld=fe(z),W.Kd=fe(z)),W=d.Qa;var X,Q=d.Pa;if(t(z!=null),t(W!=null),W.Cb=fe(z),W.Cb){if(W.Bb=fe(z),fe(z)){for(W.Fb=fe(z),X=0;4>X;++X)W.Zb[X]=fe(z)?se(z,7):0;for(X=0;4>X;++X)W.Lb[X]=fe(z)?se(z,6):0}if(W.Bb)for(X=0;3>X;++X)Q.jb[X]=fe(z)?we(z,8):255}else W.Bb=0;if(z.Ka)return fn(d,3,"cannot parse segment header");if((W=d.ed).zd=fe(z),W.Tb=we(z,6),W.wb=we(z,3),W.Pc=fe(z),W.Pc&&fe(z)){for(Q=0;4>Q;++Q)fe(z)&&(W.vd[Q]=se(z,6));for(Q=0;4>Q;++Q)fe(z)&&(W.od[Q]=se(z,6))}if(d.L=W.Tb==0?0:W.zd?1:2,z.Ka)return fn(d,3,"cannot parse filter header");var ue=I;if(I=X=k,k=X+ue,W=ue,d.Xb=(1<<we(d.m,2))-1,ue<3*(Q=d.Xb))N=7;else{for(X+=3*Q,W-=3*Q,ue=0;ue<Q;++ue){var Ae=N[I+0]|N[I+1]<<8|N[I+2]<<16;Ae>W&&(Ae=W),ve(d.Jc[+ue],N,X,Ae),X+=Ae,W-=Ae,I+=3}ve(d.Jc[+Q],N,X,W),N=X<k?0:5}if(N!=0)return fn(d,N,"cannot parse partitions");for(N=we(X=d.m,7),I=fe(X)?se(X,4):0,k=fe(X)?se(X,4):0,W=fe(X)?se(X,4):0,Q=fe(X)?se(X,4):0,X=fe(X)?se(X,4):0,ue=d.Qa,Ae=0;4>Ae;++Ae){if(ue.Cb){var ee=ue.Zb[Ae];ue.Fb||(ee+=N)}else{if(0<Ae){d.pb[Ae]=d.pb[0];continue}ee=N}var pe=d.pb[Ae];pe.Sc[0]=Jp[Vr(ee+I,127)],pe.Sc[1]=Zp[Vr(ee+0,127)],pe.Eb[0]=2*Jp[Vr(ee+k,127)],pe.Eb[1]=101581*Zp[Vr(ee+W,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Jp[Vr(ee+Q,117)],pe.Qc[1]=Zp[Vr(ee+X,127)],pe.lc=ee+X}if(!q.Rb)return fn(d,4,"Not a key frame.");for(fe(z),q=d.Pa,N=0;4>N;++N){for(I=0;8>I;++I)for(k=0;3>k;++k)for(W=0;11>W;++W)Q=de(z,OA[N][I][k][W])?we(z,8):PA[N][I][k][W],q.Wc[N][I].Yb[k][W]=Q;for(I=0;17>I;++I)q.Xc[N][I]=q.Wc[N][IA[I]]}return d.kc=fe(z),d.kc&&(d.Bd=we(z,8)),d.cb=1}function As(d,g,N,k,I,z,q){var W=g[I].Yb[N];for(N=0;16>I;++I){if(!de(d,W[N+0]))return I;for(;!de(d,W[N+1]);)if(W=g[++I].Yb[0],N=0,I==16)return 16;var X=g[I+1].Yb;if(de(d,W[N+2])){var Q=d,ue=0;if(de(Q,(ee=W)[(Ae=N)+3]))if(de(Q,ee[Ae+6])){for(W=0,Ae=2*(ue=de(Q,ee[Ae+8]))+(ee=de(Q,ee[Ae+9+ue])),ue=0,ee=CA[Ae];ee[W];++W)ue+=ue+de(Q,ee[W]);ue+=3+(8<<Ae)}else de(Q,ee[Ae+7])?(ue=7+2*de(Q,165),ue+=de(Q,145)):ue=5+de(Q,159);else ue=de(Q,ee[Ae+4])?3+de(Q,ee[Ae+5]):2;W=X[2]}else ue=1,W=X[1];X=q+LA[I],0>(Q=d).b&&he(Q);var Ae,ee=Q.b,pe=(Ae=Q.Ca>>1)-(Q.I>>ee)>>31;--Q.b,Q.Ca+=pe,Q.Ca|=1,Q.I-=(Ae+1&pe)<<ee,z[X]=((ue^pe)-pe)*k[(0<I)+0]}return 16}function hl(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function La(d,g,N,k,I){I=d[g+N+32*k]+(I>>3),d[g+N+32*k]=-256&I?0>I?0:255:I}function dl(d,g,N,k,I,z){La(d,g,0,N,k+I),La(d,g,1,N,k+z),La(d,g,2,N,k-z),La(d,g,3,N,k-I)}function en(d){return(20091*d>>16)+d}function ef(d,g,N,k){var I,z=0,q=a(16);for(I=0;4>I;++I){var W=d[g+0]+d[g+8],X=d[g+0]-d[g+8],Q=(35468*d[g+4]>>16)-en(d[g+12]),ue=en(d[g+4])+(35468*d[g+12]>>16);q[z+0]=W+ue,q[z+1]=X+Q,q[z+2]=X-Q,q[z+3]=W-ue,z+=4,g++}for(I=z=0;4>I;++I)W=(d=q[z+0]+4)+q[z+8],X=d-q[z+8],Q=(35468*q[z+4]>>16)-en(q[z+12]),La(N,k,0,0,W+(ue=en(q[z+4])+(35468*q[z+12]>>16))),La(N,k,1,0,X+Q),La(N,k,2,0,X-Q),La(N,k,3,0,W-ue),z++,k+=32}function Pp(d,g,N,k){var I=d[g+0]+4,z=35468*d[g+4]>>16,q=en(d[g+4]),W=35468*d[g+1]>>16;dl(N,k,0,I+q,d=en(d[g+1]),W),dl(N,k,1,I+z,d,W),dl(N,k,2,I-z,d,W),dl(N,k,3,I-q,d,W)}function Fp(d,g,N,k,I){ef(d,g,N,k),I&&ef(d,g+16,N,k+4)}function Op(d,g,N,k){Cl(d,g+0,N,k,1),Cl(d,g+32,N,k+128,1)}function is(d,g,N,k){var I;for(d=d[g+0]+4,I=0;4>I;++I)for(g=0;4>g;++g)La(N,k,g,I,d)}function yd(d,g,N,k){d[g+0]&&or(d,g+0,N,k),d[g+16]&&or(d,g+16,N,k+4),d[g+32]&&or(d,g+32,N,k+128),d[g+48]&&or(d,g+48,N,k+128+4)}function _d(d,g,N,k){var I,z=a(16);for(I=0;4>I;++I){var q=d[g+0+I]+d[g+12+I],W=d[g+4+I]+d[g+8+I],X=d[g+4+I]-d[g+8+I],Q=d[g+0+I]-d[g+12+I];z[0+I]=q+W,z[8+I]=q-W,z[4+I]=Q+X,z[12+I]=Q-X}for(I=0;4>I;++I)q=(d=z[0+4*I]+3)+z[3+4*I],W=z[1+4*I]+z[2+4*I],X=z[1+4*I]-z[2+4*I],Q=d-z[3+4*I],N[k+0]=q+W>>3,N[k+16]=Q+X>>3,N[k+32]=q-W>>3,N[k+48]=Q-X>>3,k+=64}function oo(d,g,N){var k,I=g-32,z=zi,q=255-d[I-1];for(k=0;k<N;++k){var W,X=z,Q=q+d[g-1];for(W=0;W<N;++W)d[g+W]=X[Q+d[I+W]];g+=32}}function tf(d,g){oo(d,g,4)}function Ip(d,g){oo(d,g,8)}function Rp(d,g){oo(d,g,16)}function Dp(d,g){var N;for(N=0;16>N;++N)n(d,g+32*N,d,g-32,16)}function rf(d,g){var N;for(N=16;0<N;--N)i(d,g,d[g-1],16),g+=32}function pl(d,g,N){var k;for(k=0;16>k;++k)i(g,N+32*k,d,16)}function lo(d,g){var N,k=16;for(N=0;16>N;++N)k+=d[g-1+32*N]+d[g+N-32];pl(k>>5,d,g)}function Mp(d,g){var N,k=8;for(N=0;16>N;++N)k+=d[g-1+32*N];pl(k>>4,d,g)}function ml(d,g){var N,k=8;for(N=0;16>N;++N)k+=d[g+N-32];pl(k>>4,d,g)}function nf(d,g){pl(128,d,g)}function Ot(d,g,N){return d+2*g+N+2>>2}function Bp(d,g){var N,k=g-32;for(k=new Uint8Array([Ot(d[k-1],d[k+0],d[k+1]),Ot(d[k+0],d[k+1],d[k+2]),Ot(d[k+1],d[k+2],d[k+3]),Ot(d[k+2],d[k+3],d[k+4])]),N=0;4>N;++N)n(d,g+32*N,k,0,k.length)}function Up(d,g){var N=d[g-1],k=d[g-1+32],I=d[g-1+64],z=d[g-1+96];Fe(d,g+0,16843009*Ot(d[g-1-32],N,k)),Fe(d,g+32,16843009*Ot(N,k,I)),Fe(d,g+64,16843009*Ot(k,I,z)),Fe(d,g+96,16843009*Ot(I,z,z))}function zp(d,g){var N,k=4;for(N=0;4>N;++N)k+=d[g+N-32]+d[g-1+32*N];for(k>>=3,N=0;4>N;++N)i(d,g+32*N,k,4)}function $p(d,g){var N=d[g-1+0],k=d[g-1+32],I=d[g-1+64],z=d[g-1-32],q=d[g+0-32],W=d[g+1-32],X=d[g+2-32],Q=d[g+3-32];d[g+0+96]=Ot(k,I,d[g-1+96]),d[g+1+96]=d[g+0+64]=Ot(N,k,I),d[g+2+96]=d[g+1+64]=d[g+0+32]=Ot(z,N,k),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Ot(q,z,N),d[g+3+64]=d[g+2+32]=d[g+1+0]=Ot(W,q,z),d[g+3+32]=d[g+2+0]=Ot(X,W,q),d[g+3+0]=Ot(Q,X,W)}function Es(d,g){var N=d[g+1-32],k=d[g+2-32],I=d[g+3-32],z=d[g+4-32],q=d[g+5-32],W=d[g+6-32],X=d[g+7-32];d[g+0+0]=Ot(d[g+0-32],N,k),d[g+1+0]=d[g+0+32]=Ot(N,k,I),d[g+2+0]=d[g+1+32]=d[g+0+64]=Ot(k,I,z),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Ot(I,z,q),d[g+3+32]=d[g+2+64]=d[g+1+96]=Ot(z,q,W),d[g+3+64]=d[g+2+96]=Ot(q,W,X),d[g+3+96]=Ot(W,X,X)}function ks(d,g){var N=d[g-1+0],k=d[g-1+32],I=d[g-1+64],z=d[g-1-32],q=d[g+0-32],W=d[g+1-32],X=d[g+2-32],Q=d[g+3-32];d[g+0+0]=d[g+1+64]=z+q+1>>1,d[g+1+0]=d[g+2+64]=q+W+1>>1,d[g+2+0]=d[g+3+64]=W+X+1>>1,d[g+3+0]=X+Q+1>>1,d[g+0+96]=Ot(I,k,N),d[g+0+64]=Ot(k,N,z),d[g+0+32]=d[g+1+96]=Ot(N,z,q),d[g+1+32]=d[g+2+96]=Ot(z,q,W),d[g+2+32]=d[g+3+96]=Ot(q,W,X),d[g+3+32]=Ot(W,X,Q)}function qp(d,g){var N=d[g+0-32],k=d[g+1-32],I=d[g+2-32],z=d[g+3-32],q=d[g+4-32],W=d[g+5-32],X=d[g+6-32],Q=d[g+7-32];d[g+0+0]=N+k+1>>1,d[g+1+0]=d[g+0+64]=k+I+1>>1,d[g+2+0]=d[g+1+64]=I+z+1>>1,d[g+3+0]=d[g+2+64]=z+q+1>>1,d[g+0+32]=Ot(N,k,I),d[g+1+32]=d[g+0+96]=Ot(k,I,z),d[g+2+32]=d[g+1+96]=Ot(I,z,q),d[g+3+32]=d[g+2+96]=Ot(z,q,W),d[g+3+64]=Ot(q,W,X),d[g+3+96]=Ot(W,X,Q)}function Hp(d,g){var N=d[g-1+0],k=d[g-1+32],I=d[g-1+64],z=d[g-1+96];d[g+0+0]=N+k+1>>1,d[g+2+0]=d[g+0+32]=k+I+1>>1,d[g+2+32]=d[g+0+64]=I+z+1>>1,d[g+1+0]=Ot(N,k,I),d[g+3+0]=d[g+1+32]=Ot(k,I,z),d[g+3+32]=d[g+1+64]=Ot(I,z,z),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=z}function wc(d,g){var N=d[g-1+0],k=d[g-1+32],I=d[g-1+64],z=d[g-1+96],q=d[g-1-32],W=d[g+0-32],X=d[g+1-32],Q=d[g+2-32];d[g+0+0]=d[g+2+32]=N+q+1>>1,d[g+0+32]=d[g+2+64]=k+N+1>>1,d[g+0+64]=d[g+2+96]=I+k+1>>1,d[g+0+96]=z+I+1>>1,d[g+3+0]=Ot(W,X,Q),d[g+2+0]=Ot(q,W,X),d[g+1+0]=d[g+3+32]=Ot(N,q,W),d[g+1+32]=d[g+3+64]=Ot(k,N,q),d[g+1+64]=d[g+3+96]=Ot(I,k,N),d[g+1+96]=Ot(z,I,k)}function af(d,g){var N;for(N=0;8>N;++N)n(d,g+32*N,d,g-32,8)}function gl(d,g){var N;for(N=0;8>N;++N)i(d,g,d[g-1],8),g+=32}function bc(d,g,N){var k;for(k=0;8>k;++k)i(g,N+32*k,d,8)}function Sc(d,g){var N,k=8;for(N=0;8>N;++N)k+=d[g+N-32]+d[g-1+32*N];bc(k>>4,d,g)}function Wp(d,g){var N,k=4;for(N=0;8>N;++N)k+=d[g+N-32];bc(k>>3,d,g)}function sf(d,g){var N,k=4;for(N=0;8>N;++N)k+=d[g-1+32*N];bc(k>>3,d,g)}function of(d,g){bc(128,d,g)}function xl(d,g,N){var k=d[g-N],I=d[g+0],z=3*(I-k)+Vp[1020+d[g-2*N]-d[g+N]],q=Cd[112+(z+4>>3)];d[g-N]=zi[255+k+Cd[112+(z+3>>3)]],d[g+0]=zi[255+I-q]}function vl(d,g,N,k){var I=d[g+0],z=d[g+N];return da[255+d[g-2*N]-d[g-N]]>k||da[255+z-I]>k}function lf(d,g,N,k){return 4*da[255+d[g-N]-d[g+0]]+da[255+d[g-2*N]-d[g+N]]<=k}function Nc(d,g,N,k,I){var z=d[g-3*N],q=d[g-2*N],W=d[g-N],X=d[g+0],Q=d[g+N],ue=d[g+2*N],Ae=d[g+3*N];return 4*da[255+W-X]+da[255+q-Q]>k?0:da[255+d[g-4*N]-z]<=I&&da[255+z-q]<=I&&da[255+q-W]<=I&&da[255+Ae-ue]<=I&&da[255+ue-Q]<=I&&da[255+Q-X]<=I}function cf(d,g,N,k){var I=2*k+1;for(k=0;16>k;++k)lf(d,g+k,N,I)&&xl(d,g+k,N)}function yl(d,g,N,k){var I=2*k+1;for(k=0;16>k;++k)lf(d,g+k*N,1,I)&&xl(d,g+k*N,1)}function wd(d,g,N,k){var I;for(I=3;0<I;--I)cf(d,g+=4*N,N,k)}function bd(d,g,N,k){var I;for(I=3;0<I;--I)yl(d,g+=4,N,k)}function Ts(d,g,N,k,I,z,q,W){for(z=2*z+1;0<I--;){if(Nc(d,g,N,z,q))if(vl(d,g,N,W))xl(d,g,N);else{var X=d,Q=g,ue=N,Ae=X[Q-2*ue],ee=X[Q-ue],pe=X[Q+0],xe=X[Q+ue],Le=X[Q+2*ue],Ne=27*(Ie=Vp[1020+3*(pe-ee)+Vp[1020+Ae-xe]])+63>>7,Pe=18*Ie+63>>7,Ie=9*Ie+63>>7;X[Q-3*ue]=zi[255+X[Q-3*ue]+Ie],X[Q-2*ue]=zi[255+Ae+Pe],X[Q-ue]=zi[255+ee+Ne],X[Q+0]=zi[255+pe-Ne],X[Q+ue]=zi[255+xe-Pe],X[Q+2*ue]=zi[255+Le-Ie]}g+=k}}function js(d,g,N,k,I,z,q,W){for(z=2*z+1;0<I--;){if(Nc(d,g,N,z,q))if(vl(d,g,N,W))xl(d,g,N);else{var X=d,Q=g,ue=N,Ae=X[Q-ue],ee=X[Q+0],pe=X[Q+ue],xe=Cd[112+(4+(Le=3*(ee-Ae))>>3)],Le=Cd[112+(Le+3>>3)],Ne=xe+1>>1;X[Q-2*ue]=zi[255+X[Q-2*ue]+Ne],X[Q-ue]=zi[255+Ae+Le],X[Q+0]=zi[255+ee-xe],X[Q+ue]=zi[255+pe-Ne]}g+=k}}function Sd(d,g,N,k,I,z){Ts(d,g,N,1,16,k,I,z)}function Nd(d,g,N,k,I,z){Ts(d,g,1,N,16,k,I,z)}function _l(d,g,N,k,I,z){var q;for(q=3;0<q;--q)js(d,g+=4*N,N,1,16,k,I,z)}function Ad(d,g,N,k,I,z){var q;for(q=3;0<q;--q)js(d,g+=4,1,N,16,k,I,z)}function b(d,g,N,k,I,z,q,W){Ts(d,g,I,1,8,z,q,W),Ts(N,k,I,1,8,z,q,W)}function O(d,g,N,k,I,z,q,W){Ts(d,g,1,I,8,z,q,W),Ts(N,k,1,I,8,z,q,W)}function ne(d,g,N,k,I,z,q,W){js(d,g+4*I,I,1,8,z,q,W),js(N,k+4*I,I,1,8,z,q,W)}function ce(d,g,N,k,I,z,q,W){js(d,g+4,1,I,8,z,q,W),js(N,k+4,1,I,8,z,q,W)}function ge(){this.ba=new ur,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $e(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ut(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new D}function mt(){this.xb=this.a=0,this.l=new Zn,this.ca=new ur,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ut,this.ab=0,this.gc=s(4,$e),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(d,g,N,k,I,z,q){for(d=d==null?0:d[g+0],g=0;g<q;++g)I[z+g]=d+N[k+g]&255,d=I[z+g]}function ir(d,g,N,k,I,z,q){var W;if(d==null)It(null,null,N,k,I,z,q);else for(W=0;W<q;++W)I[z+W]=d[g+W]+N[k+W]&255}function zr(d,g,N,k,I,z,q){if(d==null)It(null,null,N,k,I,z,q);else{var W,X=d[g+0],Q=X,ue=X;for(W=0;W<q;++W)Q=ue+(X=d[g+W])-Q,ue=N[k+W]+(-256&Q?0>Q?0:255:Q)&255,Q=X,I[z+W]=ue}}function hn(d,g,N,k){var I=g.width,z=g.o;if(t(d!=null&&g!=null),0>N||0>=k||N+k>z)return null;if(!d.Cc){if(d.ga==null){var q;if(d.ga=new Pt,(q=d.ga==null)||(q=g.width*g.o,t(d.Gb.length==0),d.Gb=a(q),d.Uc=0,d.Gb==null?q=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,q=1),q=!q),!q){q=d.ga;var W=d.Fa,X=d.P,Q=d.qc,ue=d.mb,Ae=d.nb,ee=X+1,pe=Q-1,xe=q.l;if(t(W!=null&&ue!=null&&g!=null),yo[0]=null,yo[1]=It,yo[2]=ir,yo[3]=zr,q.ca=ue,q.tb=Ae,q.c=g.width,q.i=g.height,t(0<q.c&&0<q.i),1>=Q)g=0;else if(q.$a=3&W[X+0],q.Z=W[X+0]>>2&3,q.Lc=W[X+0]>>4&3,X=W[X+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||X)g=0;else if(xe.put=bt,xe.ac=la,xe.bc=Ta,xe.ma=q,xe.width=g.width,xe.height=g.height,xe.Da=g.Da,xe.v=g.v,xe.va=g.va,xe.j=g.j,xe.o=g.o,q.$a)e:{t(q.$a==1),g=_e();t:for(;;){if(g==null){g=0;break e}if(t(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,me(g.m,W,ee,pe),!be(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Y(g.s)?(q.ic=1,W=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(W),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=Ee(g,q.c)),!g))break t;g=1;break e}q.mc=null,g=0}else g=pe>=q.c*q.i;q=!g}if(q)return null;d.ga.Lc!=1?d.Ga=0:k=z-N}t(d.ga!=null),t(N+k<=z);e:{if(g=(W=d.ga).c,z=W.l.o,W.$a==0){if(ee=d.rc,pe=d.Vc,xe=d.Fa,X=d.P+1+N*g,Q=d.mb,ue=d.nb+N*g,t(X<=d.P+d.qc),W.Z!=0)for(t(yo[W.Z]!=null),q=0;q<k;++q)yo[W.Z](ee,pe,xe,X,Q,ue,g),ee=Q,pe=ue,ue+=g,X+=g;else for(q=0;q<k;++q)n(Q,ue,xe,X,g),ee=Q,pe=ue,ue+=g,X+=g;d.rc=ee,d.Vc=pe}else{if(t(W.mc!=null),g=N+k,t((q=W.mc)!=null),t(g<=q.i),q.C>=g)g=1;else if(W.ic||ua(),W.ic){W=q.V,ee=q.Ba,pe=q.c;var Le=q.i,Ne=(xe=1,X=q.$/pe,Q=q.$%pe,ue=q.m,Ae=q.s,q.$),Pe=pe*Le,Ie=pe*g,We=Ae.wc,ze=Ne<Ie?U(Ae,Q,X):null;t(Ne<=Pe),t(g<=Le),t(Y(Ae));t:for(;;){for(;!ue.h&&Ne<Ie;){if(Q&We||(ze=U(Ae,Q,X)),t(ze!=null),le(ue),256>(Le=Rr(ze.G[0],ze.H[0],ue)))W[ee+Ne]=Le,++Ne,++Q>=pe&&(Q=0,++X<=g&&!(X%16)&&ie(q,X));else{if(!(280>Le)){xe=0;break t}Le=Jn(Le-256,ue);var vt,ot=Rr(ze.G[4],ze.H[4],ue);if(le(ue),!(Ne>=(ot=Ni(pe,ot=Jn(ot,ue)))&&Pe-Ne>=Le)){xe=0;break t}for(vt=0;vt<Le;++vt)W[ee+Ne+vt]=W[ee+Ne+vt-ot];for(Ne+=Le,Q+=Le;Q>=pe;)Q-=pe,++X<=g&&!(X%16)&&ie(q,X);Ne<Ie&&Q&We&&(ze=U(Ae,Q,X))}t(ue.h==B(ue))}ie(q,X>g?g:X);break t}!xe||ue.h&&Ne<Pe?(xe=0,q.a=ue.h?5:3):q.$=Ne,g=xe}else g=ye(q,q.V,q.Ba,q.c,q.i,g,He);if(!g){k=0;break e}}N+k>=z&&(d.Cc=1),k=1}if(!k)return null;if(d.Cc&&((k=d.ga)!=null&&(k.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+N*I}function Er(d,g,N,k,I,z){for(;0<I--;){var q,W=d,X=g+(N?1:0),Q=d,ue=g+(N?0:3);for(q=0;q<k;++q){var Ae=Q[ue+4*q];Ae!=255&&(Ae*=32897,W[X+4*q+0]=W[X+4*q+0]*Ae>>23,W[X+4*q+1]=W[X+4*q+1]*Ae>>23,W[X+4*q+2]=W[X+4*q+2]*Ae>>23)}g+=z}}function vn(d,g,N,k,I){for(;0<k--;){var z;for(z=0;z<N;++z){var q=d[g+2*z+0],W=15&(Q=d[g+2*z+1]),X=4369*W,Q=(240&Q|Q>>4)*X>>16;d[g+2*z+0]=(240&q|q>>4)*X>>16&240|(15&q|q<<4)*X>>16>>4&15,d[g+2*z+1]=240&Q|W}g+=I}}function dn(d,g,N,k,I,z,q,W){var X,Q,ue=255;for(Q=0;Q<I;++Q){for(X=0;X<k;++X){var Ae=d[g+X];z[q+4*X]=Ae,ue&=Ae}g+=N,q+=W}return ue!=255}function Rn(d,g,N,k,I){var z;for(z=0;z<I;++z)N[k+z]=d[g+z]>>8}function ua(){_f=Er,ey=vn,ty=dn,ry=Rn}function Ai(d,g,N){j[d]=function(k,I,z,q,W,X,Q,ue,Ae,ee,pe,xe,Le,Ne,Pe,Ie,We){var ze,vt=We-1>>1,ot=W[X+0]|Q[ue+0]<<16,Ut=Ae[ee+0]|pe[xe+0]<<16;t(k!=null);var ht=3*ot+Ut+131074>>2;for(g(k[I+0],255&ht,ht>>16,Le,Ne),z!=null&&(ht=3*Ut+ot+131074>>2,g(z[q+0],255&ht,ht>>16,Pe,Ie)),ze=1;ze<=vt;++ze){var Kt=W[X+ze]|Q[ue+ze]<<16,_n=Ae[ee+ze]|pe[xe+ze]<<16,zt=ot+Kt+Ut+_n+524296,dt=zt+2*(Kt+Ut)>>3;ht=dt+ot>>1,ot=(zt=zt+2*(ot+_n)>>3)+Kt>>1,g(k[I+2*ze-1],255&ht,ht>>16,Le,Ne+(2*ze-1)*N),g(k[I+2*ze-0],255&ot,ot>>16,Le,Ne+(2*ze-0)*N),z!=null&&(ht=zt+Ut>>1,ot=dt+_n>>1,g(z[q+2*ze-1],255&ht,ht>>16,Pe,Ie+(2*ze-1)*N),g(z[q+2*ze+0],255&ot,ot>>16,Pe,Ie+(2*ze+0)*N)),ot=Kt,Ut=_n}1&We||(ht=3*ot+Ut+131074>>2,g(k[I+We-1],255&ht,ht>>16,Le,Ne+(We-1)*N),z!=null&&(ht=3*Ut+ot+131074>>2,g(z[q+We-1],255&ht,ht>>16,Pe,Ie+(We-1)*N)))}}function Ed(){pa[Ld]=DA,pa[Pd]=dy,pa[ly]=MA,pa[Fd]=py,pa[Od]=my,pa[Gp]=gy,pa[cy]=BA,pa[Kp]=dy,pa[Xp]=py,pa[Id]=my,pa[Yp]=gy}function Ac(d){return d&~UA?0>d?0:255:d>>xy}function wl(d,g){return Ac((19077*d>>8)+(26149*g>>8)-14234)}function co(d,g,N){return Ac((19077*d>>8)-(6419*g>>8)-(13320*N>>8)+8708)}function bl(d,g){return Ac((19077*d>>8)+(33050*g>>8)-17685)}function Sl(d,g,N,k,I){k[I+0]=wl(d,N),k[I+1]=co(d,g,N),k[I+2]=bl(d,g)}function Nl(d,g,N,k,I){k[I+0]=bl(d,g),k[I+1]=co(d,g,N),k[I+2]=wl(d,N)}function Qn(d,g,N,k,I){var z=co(d,g,N);g=z<<3&224|bl(d,g)>>3,k[I+0]=248&wl(d,N)|z>>5,k[I+1]=g}function Al(d,g,N,k,I){var z=240&bl(d,g)|15;k[I+0]=240&wl(d,N)|co(d,g,N)>>4,k[I+1]=z}function El(d,g,N,k,I){k[I+0]=255,Sl(d,g,N,k,I+1)}function uf(d,g,N,k,I){Nl(d,g,N,k,I),k[I+3]=255}function ff(d,g,N,k,I){Sl(d,g,N,k,I),k[I+3]=255}function Vr(d,g){return 0>d?0:d>g?g:d}function Cs(d,g,N){j[d]=function(k,I,z,q,W,X,Q,ue,Ae){for(var ee=ue+(-2&Ae)*N;ue!=ee;)g(k[I+0],z[q+0],W[X+0],Q,ue),g(k[I+1],z[q+0],W[X+0],Q,ue+N),I+=2,++q,++X,ue+=2*N;1&Ae&&g(k[I+0],z[q+0],W[X+0],Q,ue)}}function Ec(d,g,N){return N==0?d==0?g==0?6:5:g==0?4:0:N}function kd(d,g,N,k,I){switch(d>>>30){case 3:Cl(g,N,k,I,0);break;case 2:ha(g,N,k,I);break;case 1:or(g,N,k,I)}}function fa(d,g){var N,k,I=g.M,z=g.Nb,q=d.oc,W=d.pc+40,X=d.oc,Q=d.pc+584,ue=d.oc,Ae=d.pc+600;for(N=0;16>N;++N)q[W+32*N-1]=129;for(N=0;8>N;++N)X[Q+32*N-1]=129,ue[Ae+32*N-1]=129;for(0<I?q[W-1-32]=X[Q-1-32]=ue[Ae-1-32]=129:(i(q,W-32-1,127,21),i(X,Q-32-1,127,9),i(ue,Ae-32-1,127,9)),k=0;k<d.za;++k){var ee=g.ya[g.aa+k];if(0<k){for(N=-1;16>N;++N)n(q,W+32*N-4,q,W+32*N+12,4);for(N=-1;8>N;++N)n(X,Q+32*N-4,X,Q+32*N+4,4),n(ue,Ae+32*N-4,ue,Ae+32*N+4,4)}var pe=d.Gd,xe=d.Hd+k,Le=ee.ad,Ne=ee.Hc;if(0<I&&(n(q,W-32,pe[xe].y,0,16),n(X,Q-32,pe[xe].f,0,8),n(ue,Ae-32,pe[xe].ea,0,8)),ee.Za){var Pe=q,Ie=W-32+16;for(0<I&&(k>=d.za-1?i(Pe,Ie,pe[xe].y[15],4):n(Pe,Ie,pe[xe+1].y,0,4)),N=0;4>N;N++)Pe[Ie+128+N]=Pe[Ie+256+N]=Pe[Ie+384+N]=Pe[Ie+0+N];for(N=0;16>N;++N,Ne<<=2)Pe=q,Ie=W+yy[N],Pa[ee.Ob[N]](Pe,Ie),kd(Ne,Le,16*+N,Pe,Ie)}else if(Pe=Ec(k,I,ee.Ob[0]),vo[Pe](q,W),Ne!=0)for(N=0;16>N;++N,Ne<<=2)kd(Ne,Le,16*+N,q,W+yy[N]);for(N=ee.Gc,Pe=Ec(k,I,ee.Dd),Fs[Pe](X,Q),Fs[Pe](ue,Ae),Ne=Le,Pe=X,Ie=Q,255&(ee=0|N)&&(170&ee?os(Ne,256,Pe,Ie):br(Ne,256,Pe,Ie)),ee=ue,Ne=Ae,255&(N>>=8)&&(170&N?os(Le,320,ee,Ne):br(Le,320,ee,Ne)),I<d.Ub-1&&(n(pe[xe].y,0,q,W+480,16),n(pe[xe].f,0,X,Q+224,8),n(pe[xe].ea,0,ue,Ae+224,8)),N=8*z*d.B,pe=d.sa,xe=d.ta+16*k+16*z*d.R,Le=d.qa,ee=d.ra+8*k+N,Ne=d.Ha,Pe=d.Ia+8*k+N,N=0;16>N;++N)n(pe,xe+N*d.R,q,W+32*N,16);for(N=0;8>N;++N)n(Le,ee+N*d.B,X,Q+32*N,8),n(Ne,Pe+N*d.B,ue,Ae+32*N,8)}}function kl(d,g,N,k,I,z,q,W,X){var Q=[0],ue=[0],Ae=0,ee=X!=null?X.kd:0,pe=X??new Oe;if(d==null||12>N)return 7;pe.data=d,pe.w=g,pe.ha=N,g=[g],N=[N],pe.gb=[pe.gb];e:{var xe=g,Le=N,Ne=pe.gb;if(t(d!=null),t(Le!=null),t(Ne!=null),Ne[0]=0,12<=Le[0]&&!r(d,xe[0],"RIFF")){if(r(d,xe[0]+8,"WEBP")){Ne=3;break e}var Pe=Se(d,xe[0]+4);if(12>Pe||4294967286<Pe){Ne=3;break e}if(ee&&Pe>Le[0]-8){Ne=7;break e}Ne[0]=Pe,xe[0]+=12,Le[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Pe=0<pe.gb[0],N=N[0];;){e:{var Ie=d;Le=g,Ne=N;var We=Q,ze=ue,vt=xe=[0];if((ht=Ae=[Ae])[0]=0,8>Ne[0])Ne=7;else{if(!r(Ie,Le[0],"VP8X")){if(Se(Ie,Le[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ot=Se(Ie,Le[0]+8),Ut=1+Xe(Ie,Le[0]+12);if(2147483648<=Ut*(Ie=1+Xe(Ie,Le[0]+15))){Ne=3;break e}vt!=null&&(vt[0]=ot),We!=null&&(We[0]=Ut),ze!=null&&(ze[0]=Ie),Le[0]+=18,Ne[0]-=18,ht[0]=1}Ne=0}}if(Ae=Ae[0],xe=xe[0],Ne!=0)return Ne;if(Le=!!(2&xe),!Pe&&Ae)return 3;if(z!=null&&(z[0]=!!(16&xe)),q!=null&&(q[0]=Le),W!=null&&(W[0]=0),q=Q[0],xe=ue[0],Ae&&Le&&X==null){Ne=0;break}if(4>N){Ne=7;break}if(Pe&&Ae||!Pe&&!Ae&&!r(d,g[0],"ALPH")){N=[N],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{ot=d,Ne=g,Pe=N;var ht=pe.gb;We=pe.na,ze=pe.P,vt=pe.Sa,Ut=22,t(ot!=null),t(Pe!=null),Ie=Ne[0];var Kt=Pe[0];for(t(We!=null),t(vt!=null),We[0]=null,ze[0]=null,vt[0]=0;;){if(Ne[0]=Ie,Pe[0]=Kt,8>Kt){Ne=7;break e}var _n=Se(ot,Ie+4);if(4294967286<_n){Ne=3;break e}var zt=8+_n+1&-2;if(Ut+=zt,0<ht&&Ut>ht){Ne=3;break e}if(!r(ot,Ie,"VP8 ")||!r(ot,Ie,"VP8L")){Ne=0;break e}if(Kt[0]<zt){Ne=7;break e}r(ot,Ie,"ALPH")||(We[0]=ot,ze[0]=Ie+8,vt[0]=_n),Ie+=zt,Kt-=zt}}if(N=N[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],Ne!=0)break}N=[N],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(ht=d,Ne=g,Pe=N,We=pe.gb[0],ze=pe.Ja,vt=pe.xa,ot=Ne[0],Ie=!r(ht,ot,"VP8 "),Ut=!r(ht,ot,"VP8L"),t(ht!=null),t(Pe!=null),t(ze!=null),t(vt!=null),8>Pe[0])Ne=7;else{if(Ie||Ut){if(ht=Se(ht,ot+4),12<=We&&ht>We-12){Ne=3;break e}if(ee&&ht>Pe[0]-8){Ne=7;break e}ze[0]=ht,Ne[0]+=8,Pe[0]-=8,vt[0]=Ut}else vt[0]=5<=Pe[0]&&ht[ot+0]==47&&!(ht[ot+4]>>5),ze[0]=Pe[0];Ne=0}if(N=N[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],g=g[0],Ne!=0)break;if(4294967286<pe.Ja)return 3;if(W==null||Le||(W[0]=pe.xa?2:1),q=[q],xe=[xe],pe.xa){if(5>N){Ne=7;break}W=q,ee=xe,Le=z,d==null||5>N?d=0:5<=N&&d[g+0]==47&&!(d[g+4]>>5)?(Pe=[0],ht=[0],We=[0],me(ze=new R,d,g,N),ja(ze,Pe,ht,We)?(W!=null&&(W[0]=Pe[0]),ee!=null&&(ee[0]=ht[0]),Le!=null&&(Le[0]=We[0]),d=1):d=0):d=0}else{if(10>N){Ne=7;break}W=xe,d==null||10>N||!xd(d,g+3,N-3)?d=0:(ee=d[g+0]|d[g+1]<<8|d[g+2]<<16,Le=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=pe.Ja||!Le||!d?d=0:(q&&(q[0]=Le),W&&(W[0]=d),d=1))}if(!d||(q=q[0],xe=xe[0],Ae&&(Q[0]!=q||ue[0]!=xe)))return 3;X!=null&&(X[0]=pe,X.offset=g-X.w,t(4294967286>g-X.w),t(X.offset==X.ha-N));break}return Ne==0||Ne==7&&Ae&&X==null?(z!=null&&(z[0]|=pe.na!=null&&0<pe.na.length),k!=null&&(k[0]=q),I!=null&&(I[0]=xe),0):Ne}function hf(d,g,N){var k=g.width,I=g.height,z=0,q=0,W=k,X=I;if(g.Da=d!=null&&0<d.Da,g.Da&&(W=d.cd,X=d.bd,z=d.v,q=d.j,11>N||(z&=-2,q&=-2),0>z||0>q||0>=W||0>=X||z+W>k||q+X>I))return 0;if(g.v=z,g.j=q,g.va=z+W,g.o=q+X,g.U=W,g.T=X,g.da=d!=null&&0<d.da,g.da){if(!st(W,X,N=[d.ib],z=[d.hb]))return 0;g.ib=N[0],g.hb=z[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*k/4&&g.hb<3*I/4,g.Kb=0),1}function df(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function uo(d,g,N,k){if(k==null||0>=d||0>=g)return 2;if(N!=null){if(N.Da){var I=N.cd,z=N.bd,q=-2&N.v,W=-2&N.j;if(0>q||0>W||0>=I||0>=z||q+I>d||W+z>g)return 2;d=I,g=z}if(N.da){if(!st(d,g,I=[N.ib],z=[N.hb]))return 2;d=I[0],g=z[0]}}k.width=d,k.height=g;e:{var X=k.width,Q=k.height;if(d=k.S,0>=X||0>=Q||!(d>=Ld&&13>d))d=2;else{if(0>=k.Rd&&k.sd==null){q=z=I=g=0;var ue=(W=X*_y[d])*Q;if(11>d||(z=(Q+1)/2*(g=(X+1)/2),d==12&&(q=(I=X)*Q)),(Q=a(ue+2*z+q))==null){d=1;break e}k.sd=Q,11>d?((X=k.f.RGBA).eb=Q,X.fb=0,X.A=W,X.size=ue):((X=k.f.kb).y=Q,X.O=0,X.fa=W,X.Fd=ue,X.f=Q,X.N=0+ue,X.Ab=g,X.Cd=z,X.ea=Q,X.W=0+ue+z,X.Db=g,X.Ed=z,d==12&&(X.F=Q,X.J=0+ue+2*z),X.Tc=q,X.lb=I)}if(g=1,I=k.S,z=k.width,q=k.height,I>=Ld&&13>I)if(11>I)d=k.f.RGBA,g&=(W=Math.abs(d.A))*(q-1)+z<=d.size,g&=W>=z*_y[I],g&=d.eb!=null;else{d=k.f.kb,W=(z+1)/2,ue=(q+1)/2,X=Math.abs(d.fa),Q=Math.abs(d.Ab);var Ae=Math.abs(d.Db),ee=Math.abs(d.lb),pe=ee*(q-1)+z;g&=X*(q-1)+z<=d.Fd,g&=Q*(ue-1)+W<=d.Cd,g=(g&=Ae*(ue-1)+W<=d.Ed)&X>=z&Q>=W&Ae>=W,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,I==12&&(g&=ee>=z,g&=pe<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||N!=null&&N.fd&&(d=df(k)),d}var Tl=64,Bi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ui=24,fo=32,Ls=8,ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(d){return d},j.Predictor2=function(d,g,N){return g[N+0]},j.Predictor3=function(d,g,N){return g[N+1]},j.Predictor4=function(d,g,N){return g[N-1]},j.Predictor5=function(d,g,N){return gt(gt(d,g[N+1]),g[N+0])},j.Predictor6=function(d,g,N){return gt(d,g[N-1])},j.Predictor7=function(d,g,N){return gt(d,g[N+0])},j.Predictor8=function(d,g,N){return gt(g[N-1],g[N+0])},j.Predictor9=function(d,g,N){return gt(g[N+0],g[N+1])},j.Predictor10=function(d,g,N){return gt(gt(d,g[N-1]),gt(g[N+0],g[N+1]))},j.Predictor11=function(d,g,N){var k=g[N+0];return 0>=Tt(k>>24&255,d>>24&255,(g=g[N-1])>>24&255)+Tt(k>>16&255,d>>16&255,g>>16&255)+Tt(k>>8&255,d>>8&255,g>>8&255)+Tt(255&k,255&d,255&g)?k:d},j.Predictor12=function(d,g,N){var k=g[N+0];return(Mt((d>>24&255)+(k>>24&255)-((g=g[N-1])>>24&255))<<24|Mt((d>>16&255)+(k>>16&255)-(g>>16&255))<<16|Mt((d>>8&255)+(k>>8&255)-(g>>8&255))<<8|Mt((255&d)+(255&k)-(255&g)))>>>0},j.Predictor13=function(d,g,N){var k=g[N-1];return(Et((d=gt(d,g[N+0]))>>24&255,k>>24&255)<<24|Et(d>>16&255,k>>16&255)<<16|Et(d>>8&255,k>>8&255)<<8|Et(255&d,255&k))>>>0};var pf=j.PredictorAdd0;j.PredictorAdd1=tr,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var kc=j.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var tn,Td=j.ColorIndexInverseTransform,as=j.MapARGB,ss=j.VP8LColorIndexInverseTransformAlpha,mf=j.MapAlpha,gf=j.VP8LPredictorsAdd=[];gf.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var xf,vf,po,mo,go,jl,xo,Cl,ha,os,or,br,rn,yn,Ps,yf,Tc,jd,Kv,Xv,Yv,Jv,Zv,Qv,_f,ey,ty,ry,ny=a(511),iy=a(2041),ay=a(225),sy=a(767),oy=0,Vp=iy,Cd=ay,zi=sy,da=ny,Ld=0,Pd=1,ly=2,Fd=3,Od=4,Gp=5,cy=6,Kp=7,Xp=8,Id=9,Yp=10,SA=[2,3,7],NA=[3,3,11],uy=[280,256,256,256,40],AA=[0,1,1,1,0],EA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jA=8,Jp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wf=null,CA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],PA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],FA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],OA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],IA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vo=[],Pa=[],Fs=[],RA=1,hy=2,yo=[],pa=[];Ai("UpsampleRgbLinePair",Sl,3),Ai("UpsampleBgrLinePair",Nl,3),Ai("UpsampleRgbaLinePair",ff,4),Ai("UpsampleBgraLinePair",uf,4),Ai("UpsampleArgbLinePair",El,4),Ai("UpsampleRgba4444LinePair",Al,2),Ai("UpsampleRgb565LinePair",Qn,2);var DA=j.UpsampleRgbLinePair,MA=j.UpsampleBgrLinePair,dy=j.UpsampleRgbaLinePair,py=j.UpsampleBgraLinePair,my=j.UpsampleArgbLinePair,gy=j.UpsampleRgba4444LinePair,BA=j.UpsampleRgb565LinePair,Rd=16,Dd=1<<Rd-1,bf=-227,Qp=482,xy=6,UA=(256<<xy)-1,vy=0,zA=a(256),$A=a(256),qA=a(256),HA=a(256),WA=a(Qp-bf),VA=a(Qp-bf);Cs("YuvToRgbRow",Sl,3),Cs("YuvToBgrRow",Nl,3),Cs("YuvToRgbaRow",ff,4),Cs("YuvToBgraRow",uf,4),Cs("YuvToArgbRow",El,4),Cs("YuvToRgba4444Row",Al,2),Cs("YuvToRgb565Row",Qn,2);var yy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Md=[0,2,8],GA=[8,7,6,4,4,2,2,2,1,1,1,1],KA=1;this.WebPDecodeRGBA=function(d,g,N,k,I){var z=Pd,q=new ge,W=new ur;q.ba=W,W.S=z,W.width=[W.width],W.height=[W.height];var X=W.width,Q=W.height,ue=new At;if(ue==null||d==null)var Ae=2;else t(ue!=null),Ae=kl(d,g,N,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Ae!=0?X=0:(X!=null&&(X[0]=ue.width[0]),Q!=null&&(Q[0]=ue.height[0]),X=1),X){W.width=W.width[0],W.height=W.height[0],k!=null&&(k[0]=W.width),I!=null&&(I[0]=W.height);e:{if(k=new Zn,(I=new Oe).data=d,I.w=g,I.ha=N,I.kd=1,g=[0],t(I!=null),((d=kl(I.data,I.w,I.ha,null,null,null,g,null,I))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(t(q!=null),k.data=I.data,k.w=I.w+I.offset,k.ha=I.ha-I.offset,k.put=bt,k.ac=la,k.bc=Ta,k.ma=q,I.xa){if((d=_e())==null){q=1;break e}if(function(ee,pe){var xe=[0],Le=[0],Ne=[0];t:for(;;){if(ee==null)return 0;if(pe==null)return ee.a=2,0;if(ee.l=pe,ee.a=0,me(ee.m,pe.data,pe.w,pe.ha),!ja(ee.m,xe,Le,Ne)){ee.a=3;break t}if(ee.xb=hy,pe.width=xe[0],pe.height=Le[0],!be(xe[0],Le[0],1,ee,null))break t;return 1}return t(ee.a!=0),0}(d,k)){if(k=(g=uo(k.width,k.height,q.Oa,q.ba))==0){t:{k=d;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((N=k.l)!=null),t((I=N.ma)!=null),k.xb!=0){if(k.ca=I.ba,k.tb=I.tb,t(k.ca!=null),!hf(I.Oa,N,Fd)){k.a=2;break r}if(!Ee(k,N.width)||N.da)break r;if((N.da||Lt(k.ca.S))&&ua(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ua()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!ae(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!ye(k,k.V,k.Ba,k.c,k.i,N.o,K))break r;I.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(g=d.a)}else g=d.a}else{if((d=new Lp)==null){q=1;break e}if(d.Fa=I.na,d.P=I.P,d.qc=I.Sa,vd(d,k)){if((g=uo(k.width,k.height,q.Oa,q.ba))==0){if(d.Aa=0,N=q.Oa,t((I=d)!=null),N!=null){if(0<(X=0>(X=N.Md)?0:100<X?255:255*X/100)){for(Q=ue=0;4>Q;++Q)12>(Ae=I.pb[Q]).lc&&(Ae.ia=X*GA[0>Ae.lc?0:Ae.lc]>>3),ue|=Ae.ia;ue&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=N.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(ee,pe){if(ee==null)return 0;if(pe==null)return fn(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!vd(ee,pe))return 0;if(t(ee.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(ee.L=0);var xe=Md[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=pe.v-xe>>4,ee.zb=pe.j-xe>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=pe.o+15+xe>>4,ee.Hb=pe.va+15+xe>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var Le=ee.ed;for(xe=0;4>xe;++xe){var Ne;if(ee.Qa.Cb){var Pe=ee.Qa.Lb[xe];ee.Qa.Fb||(Pe+=Le.Tb)}else Pe=Le.Tb;for(Ne=0;1>=Ne;++Ne){var Ie=ee.gd[xe][Ne],We=Pe;if(Le.Pc&&(We+=Le.vd[0],Ne&&(We+=Le.od[0])),0<(We=0>We?0:63<We?63:We)){var ze=We;0<Le.wb&&(ze=4<Le.wb?ze>>2:ze>>1)>9-Le.wb&&(ze=9-Le.wb),1>ze&&(ze=1),Ie.dd=ze,Ie.tc=2*We+ze,Ie.ld=40<=We?2:15<=We?1:0}else Ie.tc=0;Ie.La=Ne}}}xe=0}else fn(ee,6,"Frame setup failed"),xe=ee.a;if(xe=xe==0){if(xe){ee.$c=0,0<ee.Aa||(ee.Ic=KA);t:{xe=ee.Ic,Le=4*(ze=ee.za);var vt=32*ze,ot=ze+1,Ut=0<ee.L?ze*(0<ee.Aa?2:1):0,ht=(ee.Aa==2?2:1)*ze;if((Ie=Le+832+(Ne=3*(16*xe+Md[ee.L])/2*vt)+(Pe=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=Ie)xe=0;else{if(Ie>ee.Vb){if(ee.Vb=0,ee.Ec=a(Ie),ee.Fc=0,ee.Ec==null){xe=fn(ee,1,"no memory during frame initialization.");break t}ee.Vb=Ie}Ie=ee.Ec,We=ee.Fc,ee.Ac=Ie,ee.Bc=We,We+=Le,ee.Gd=s(vt,ca),ee.Hd=0,ee.rb=s(ot+1,Wr),ee.sb=1,ee.wa=Ut?s(Ut,Vt):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=ze),t(!0),ee.oc=Ie,ee.pc=We,We+=832,ee.ya=s(ht,Ca),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=ze),ee.R=16*ze,ee.B=8*ze,ze=(vt=Md[ee.L])*ee.R,vt=vt/2*ee.B,ee.sa=Ie,ee.ta=We+ze,ee.qa=ee.sa,ee.ra=ee.ta+16*xe*ee.R+vt,ee.Ha=ee.qa,ee.Ia=ee.ra+8*xe*ee.B+vt,ee.$c=0,We+=Ne,ee.mb=Pe?Ie:null,ee.nb=Pe?We:null,t(We+Pe<=ee.Fc+ee.Vb),hl(ee),i(ee.Ac,ee.Bc,0,Le),xe=1}}if(xe){if(pe.ka=0,pe.y=ee.sa,pe.O=ee.ta,pe.f=ee.qa,pe.N=ee.ra,pe.ea=ee.Ha,pe.Vd=ee.Ia,pe.fa=ee.R,pe.Rc=ee.B,pe.F=null,pe.J=0,!oy){for(xe=-255;255>=xe;++xe)ny[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)iy[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)ay[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)sy[255+xe]=0>xe?0:255<xe?255:xe;oy=1}xo=_d,Cl=Fp,os=Op,or=is,br=yd,ha=Pp,rn=Sd,yn=Nd,Ps=b,yf=O,Tc=_l,jd=Ad,Kv=ne,Xv=ce,Yv=cf,Jv=yl,Zv=wd,Qv=bd,Pa[0]=zp,Pa[1]=tf,Pa[2]=Bp,Pa[3]=Up,Pa[4]=$p,Pa[5]=ks,Pa[6]=Es,Pa[7]=qp,Pa[8]=wc,Pa[9]=Hp,vo[0]=lo,vo[1]=Rp,vo[2]=Dp,vo[3]=rf,vo[4]=Mp,vo[5]=ml,vo[6]=nf,Fs[0]=Sc,Fs[1]=Ip,Fs[2]=af,Fs[3]=gl,Fs[4]=sf,Fs[5]=Wp,Fs[6]=of,xe=1}else xe=0}xe&&(xe=function(Kt,_n){for(Kt.M=0;Kt.M<Kt.Va;++Kt.M){var zt,dt=Kt.Jc[Kt.M&Kt.Xb],tt=Kt.m,nn=Kt;for(zt=0;zt<nn.za;++zt){var Dt=tt,Jt=nn,Cr=Jt.Ac,Dn=Jt.Bc+4*zt,fi=Jt.zc,Gr=Jt.ya[Jt.aa+zt];if(Jt.Qa.Bb?Gr.$b=de(Dt,Jt.Pa.jb[0])?2+de(Dt,Jt.Pa.jb[2]):de(Dt,Jt.Pa.jb[1]):Gr.$b=0,Jt.kc&&(Gr.Ad=de(Dt,Jt.Bd)),Gr.Za=!de(Dt,145)+0,Gr.Za){var ei=Gr.Ob,hi=0;for(Jt=0;4>Jt;++Jt){var wn,Qt=fi[0+Jt];for(wn=0;4>wn;++wn){Qt=FA[Cr[Dn+wn]][Qt];for(var fr=fy[de(Dt,Qt[0])];0<fr;)fr=fy[2*fr+de(Dt,Qt[fr])];Qt=-fr,Cr[Dn+wn]=Qt}n(ei,hi,Cr,Dn,4),hi+=4,fi[0+Jt]=Qt}}else Qt=de(Dt,156)?de(Dt,128)?1:3:de(Dt,163)?2:0,Gr.Ob[0]=Qt,i(Cr,Dn,Qt,4),i(fi,0,Qt,4);Gr.Dd=de(Dt,142)?de(Dt,114)?de(Dt,183)?1:3:2:0}if(nn.m.Ka)return fn(Kt,7,"Premature end-of-partition0 encountered.");for(;Kt.ja<Kt.za;++Kt.ja){if(nn=dt,Dt=(tt=Kt).rb[tt.sb-1],Cr=tt.rb[tt.sb+tt.ja],zt=tt.ya[tt.aa+tt.ja],Dn=tt.kc?zt.Ad:0)Dt.la=Cr.la=0,zt.Za||(Dt.Na=Cr.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var Kr,hr;if(Dt=Cr,Cr=nn,Dn=tt.Pa.Xc,fi=tt.ya[tt.aa+tt.ja],Gr=tt.pb[fi.$b],Jt=fi.ad,ei=0,hi=tt.rb[tt.sb-1],Qt=wn=0,i(Jt,ei,0,384),fi.Za)var Mn=0,Fa=Dn[3];else{fr=a(16);var an=Dt.Na+hi.Na;if(an=wf(Cr,Dn[1],an,Gr.Eb,0,fr,0),Dt.Na=hi.Na=(0<an)+0,1<an)xo(fr,0,Jt,ei);else{var Ei=fr[0]+3>>3;for(fr=0;256>fr;fr+=16)Jt[ei+fr]=Ei}Mn=1,Fa=Dn[0]}var Sr=15&Dt.la,bn=15&hi.la;for(fr=0;4>fr;++fr){var $i=1&bn;for(Ei=hr=0;4>Ei;++Ei)Sr=Sr>>1|($i=(an=wf(Cr,Fa,an=$i+(1&Sr),Gr.Sc,Mn,Jt,ei))>Mn)<<7,hr=hr<<2|(3<an?3:1<an?2:Jt[ei+0]!=0),ei+=16;Sr>>=4,bn=bn>>1|$i<<7,wn=(wn<<8|hr)>>>0}for(Fa=Sr,Mn=bn>>4,Kr=0;4>Kr;Kr+=2){for(hr=0,Sr=Dt.la>>4+Kr,bn=hi.la>>4+Kr,fr=0;2>fr;++fr){for($i=1&bn,Ei=0;2>Ei;++Ei)an=$i+(1&Sr),Sr=Sr>>1|($i=0<(an=wf(Cr,Dn[2],an,Gr.Qc,0,Jt,ei)))<<3,hr=hr<<2|(3<an?3:1<an?2:Jt[ei+0]!=0),ei+=16;Sr>>=2,bn=bn>>1|$i<<5}Qt|=hr<<4*Kr,Fa|=Sr<<4<<Kr,Mn|=(240&bn)<<Kr}Dt.la=Fa,hi.la=Mn,fi.Hc=wn,fi.Gc=Qt,fi.ia=43690&Qt?0:Gr.ia,Dn=!(wn|Qt)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[zt.$b][zt.Za],tt.wa[tt.Y+tt.ja].La|=!Dn),nn.Ka)return fn(Kt,7,"Premature end-of-file encountered.")}if(hl(Kt),tt=_n,nn=1,zt=(dt=Kt).D,Dt=0<dt.L&&dt.M>=dt.zb&&dt.M<=dt.Va,dt.Aa==0)t:{if(zt.M=dt.M,zt.uc=Dt,fa(dt,zt),nn=1,zt=(hr=dt.D).Nb,Dt=(Qt=Md[dt.L])*dt.R,Cr=Qt/2*dt.B,fr=16*zt*dt.R,Ei=8*zt*dt.B,Dn=dt.sa,fi=dt.ta-Dt+fr,Gr=dt.qa,Jt=dt.ra-Cr+Ei,ei=dt.Ha,hi=dt.Ia-Cr+Ei,bn=(Sr=hr.M)==0,wn=Sr>=dt.Va-1,dt.Aa==2&&fa(dt,hr),hr.uc)for($i=(an=dt).D.M,t(an.D.uc),hr=an.yb;hr<an.Hb;++hr){Mn=hr,Fa=$i;var di=(qi=(Bn=an).D).Nb;Kr=Bn.R;var qi=qi.wa[qi.Y+Mn],Hi=Bn.sa,ki=Bn.ta+16*di*Kr+16*Mn,Wi=qi.dd,kr=qi.tc;if(kr!=0)if(t(3<=kr),Bn.L==1)0<Mn&&Jv(Hi,ki,Kr,kr+4),qi.La&&Qv(Hi,ki,Kr,kr),0<Fa&&Yv(Hi,ki,Kr,kr+4),qi.La&&Zv(Hi,ki,Kr,kr);else{var Vi=Bn.B,Oa=Bn.qa,Ll=Bn.ra+8*di*Vi+8*Mn,Os=Bn.Ha,Bn=Bn.Ia+8*di*Vi+8*Mn;di=qi.ld,0<Mn&&(yn(Hi,ki,Kr,kr+4,Wi,di),yf(Oa,Ll,Os,Bn,Vi,kr+4,Wi,di)),qi.La&&(jd(Hi,ki,Kr,kr,Wi,di),Xv(Oa,Ll,Os,Bn,Vi,kr,Wi,di)),0<Fa&&(rn(Hi,ki,Kr,kr+4,Wi,di),Ps(Oa,Ll,Os,Bn,Vi,kr+4,Wi,di)),qi.La&&(Tc(Hi,ki,Kr,kr,Wi,di),Kv(Oa,Ll,Os,Bn,Vi,kr,Wi,di))}}if(dt.ia&&alert("todo:DitherRow"),tt.put!=null){if(hr=16*Sr,Sr=16*(Sr+1),bn?(tt.y=dt.sa,tt.O=dt.ta+fr,tt.f=dt.qa,tt.N=dt.ra+Ei,tt.ea=dt.Ha,tt.W=dt.Ia+Ei):(hr-=Qt,tt.y=Dn,tt.O=fi,tt.f=Gr,tt.N=Jt,tt.ea=ei,tt.W=hi),wn||(Sr-=Qt),Sr>tt.o&&(Sr=tt.o),tt.F=null,tt.J=null,dt.Fa!=null&&0<dt.Fa.length&&hr<Sr&&(tt.J=hn(dt,tt,hr,Sr-hr),tt.F=dt.mb,tt.F==null&&tt.F.length==0)){nn=fn(dt,3,"Could not decode alpha data.");break t}hr<tt.j&&(Qt=tt.j-hr,hr=tt.j,t(!(1&Qt)),tt.O+=dt.R*Qt,tt.N+=dt.B*(Qt>>1),tt.W+=dt.B*(Qt>>1),tt.F!=null&&(tt.J+=tt.width*Qt)),hr<Sr&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=hr-tt.j,tt.U=tt.va-tt.v,tt.T=Sr-hr,nn=tt.put(tt))}zt+1!=dt.Ic||wn||(n(dt.sa,dt.ta-Dt,Dn,fi+16*dt.R,Dt),n(dt.qa,dt.ra-Cr,Gr,Jt+8*dt.B,Cr),n(dt.Ha,dt.Ia-Cr,ei,hi+8*dt.B,Cr))}if(!nn)return fn(Kt,6,"Output aborted.")}return 1}(ee,pe)),pe.bc!=null&&pe.bc(pe),xe&=1}return xe?(ee.cb=0,xe):0})(d,k)||(g=d.a)}}else g=d.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=df(q.ba))}q=g}z=q!=0?null:11>z?W.f.RGBA.eb:W.f.kb.y}else z=null;return z};var _y=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(j,M){for(var T="",P=0;P<4;P++)T+=String.fromCharCode(j[M++]);return T}function f(j,M){return j[M+0]|j[M+1]<<8}function p(j,M){return(j[M+0]|j[M+1]<<8|j[M+2]<<16)>>>0}function m(j,M){return(j[M+0]|j[M+1]<<8|j[M+2]<<16|j[M+3]<<24)>>>0}new c;var h=[0],v=[0],x=[],S=new c,y=e,w=function(j,M){var T={},P=0,D=!1,G=0,oe=0;if(T.frames=[],!function(E,R){for(var F=0;F<4;F++)if(E[R+F]!="RIFF".charCodeAt(F))return!0;return!1}(j,M)){for(m(j,M+=4),M+=8;M<j.length;){var ve=u(j,M),we=m(j,M+=4);M+=4;var se=we+(1&we);switch(ve){case"VP8 ":case"VP8L":T.frames[P]===void 0&&(T.frames[P]={}),(ke=T.frames[P]).src_off=D?oe:M-8,ke.src_size=G+we+8,P++,D&&(D=!1,G=0,oe=0);break;case"VP8X":(ke=T.header={}).feature_flags=j[M];var me=M+4;ke.canvas_width=1+p(j,me),me+=3,ke.canvas_height=1+p(j,me),me+=3;break;case"ALPH":D=!0,G=se+8,oe=M-8;break;case"ANIM":(ke=T.header).bgcolor=m(j,M),me=M+4,ke.loop_count=f(j,me),me+=2;break;case"ANMF":var Te,ke;(ke=T.frames[P]={}).offset_x=2*p(j,M),M+=3,ke.offset_y=2*p(j,M),M+=3,ke.width=1+p(j,M),M+=3,ke.height=1+p(j,M),M+=3,ke.duration=p(j,M),M+=3,Te=j[M++],ke.dispose=1&Te,ke.blend=Te>>1&1}ve!="ANMF"&&(M+=se)}return T}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],v=[_.canvas_width];for(var H=0;H<A.length&&A[H].blend!=0;H++);}var V=A[0],C=S.WebPDecodeRGBA(y,V.src_off,V.src_size,v,h);V.rgba=C,V.imgwidth=v[0],V.imgheight=h[0];for(var L=0;L<v[0]*h[0]*4;L++)x[L]=C[L];return this.width=v,this.height=h,this.data=x,this}(function(e){var t,r,n,i,a,s,o,c,u,f=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new s,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new s,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var p=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=E;Object.defineProperty(this,"pdf",{get:function(){return R}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(Se){F=!!Se}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(Se){B=!!Se}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Se){isNaN(Se)||(J=Se)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Se){isNaN(Se)||(le=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var ae;typeof Se=="number"?ae=[Se,Se,Se,Se]:((ae=new Array(4))[0]=Se[0],ae[1]=Se.length>=2?Se[1]:ae[0],ae[2]=Se.length>=3?Se[2]:ae[0],ae[3]=Se.length>=4?Se[3]:ae[1]),u.margin=ae}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Se){he=Se}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Se){fe=Se}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(Se){de=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof f&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Se){Fe=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ae;ae=m(Se),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ae=m(Se);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var Be=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(Se){Be=null,Xe=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ae;if(this.ctx.font=Se,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var pt=ae[1];ae[2];var Ue=ae[3],st=ae[4];ae[5];var qe=ae[6],lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(lt==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var et=function(Nt){var xt,lr,Yt=[],ft=Nt.trim();if(ft==="")return Eg;if(ft in o4)return[o4[ft]];for(;ft!=="";){switch(lr=null,xt=(ft=c4(ft)).charAt(0)){case'"':case"'":lr=r$(ft.substring(1),xt);break;default:lr=n$(ft)}if(lr===null||(Yt.push(lr[0]),(ft=c4(lr[1]))!==""&&ft.charAt(0)!==","))return Eg;ft=ft.replace(/^,/,"")}return Yt}(qe);if(this.fontFaces){var Ft=function(Nt,xt){if(Be===null){var lr=function(Yt){var ft=[];return Object.keys(Yt).forEach(function(Ct){Yt[Ct].forEach(function(cr){var wt=null;switch(cr){case"bold":wt={family:Ct,weight:"bold"};break;case"italic":wt={family:Ct,style:"italic"};break;case"bolditalic":wt={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:Ct}}wt!==null&&(wt.ref={name:Ct,style:cr},ft.push(wt))})}),ft}(Nt.getFontList());Be=function(Yt){for(var ft={},Ct=0;Ct<Yt.length;++Ct){var cr=Ag(Yt[Ct]),wt=cr.family,qt=cr.stretch,Lt=cr.style,Ir=cr.weight;ft[wt]=ft[wt]||{},ft[wt][qt]=ft[wt][qt]||{},ft[wt][qt][Lt]=ft[wt][qt][Lt]||{},ft[wt][qt][Lt][Ir]=cr}return ft}(lr.concat(xt))}return Be}(this.pdf,this.fontFaces),gt=et.map(function(Nt){return{family:Nt,stretch:"normal",weight:Ue,style:pt}}),Mt=function(Nt,xt,lr){for(var Yt=(lr=lr||{}).defaultFontFamily||"times",ft=Object.assign({},t$,lr.genericFontFamilies||{}),Ct=null,cr=null,wt=0;wt<xt.length;++wt)if(ft[(Ct=Ag(xt[wt])).family]&&(Ct.family=ft[Ct.family]),Nt.hasOwnProperty(Ct.family)){cr=Nt[Ct.family];break}if(!(cr=cr||Nt[Yt]))throw new Error("Could not find a font-family for the rule '"+l4(Ct)+"' and default family '"+Yt+"'.");if(cr=function(qt,Lt){if(Lt[qt])return Lt[qt];var Ir=ix[qt],Qr=Ir<=ix.normal?-1:1,ur=s4(Lt,mA,Ir,Qr);if(!ur)throw new Error("Could not find a matching font-stretch value for "+qt);return ur}(Ct.stretch,cr),cr=function(qt,Lt){if(Lt[qt])return Lt[qt];for(var Ir=pA[qt],Qr=0;Qr<Ir.length;++Qr)if(Lt[Ir[Qr]])return Lt[Ir[Qr]];throw new Error("Could not find a matching font-style for "+qt)}(Ct.style,cr),!(cr=function(qt,Lt){if(Lt[qt])return Lt[qt];if(qt===400&&Lt[500])return Lt[500];if(qt===500&&Lt[400])return Lt[400];var Ir=e$[qt],Qr=s4(Lt,gA,Ir,qt<400?-1:1);if(!Qr)throw new Error("Could not find a matching font-weight for value "+qt);return Qr}(Ct.weight,cr)))throw new Error("Failed to resolve a font for the rule '"+l4(Ct)+"'.");return cr}(Ft,gt);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var Et="";(Ue==="bold"||parseInt(Ue,10)>=700||pt==="bold")&&(Et="bold"),pt==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Tt="",tr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<et.length;St++){if(this.pdf.internal.getFont(et[St],Et,{noFallback:!0,disableWarning:!0})!==void 0){Tt=et[St];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(et[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=et[St],Et="bold";else if(this.pdf.internal.getFont(et[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=et[St],Et="normal";break}}if(Tt===""){for(var _t=0;_t<et.length;_t++)if(tr[et[_t]]){Tt=tr[et[_t]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};p.prototype.setLineDash=function(E){this.lineDash=E},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(E,R){if(isNaN(E)||isNaN(R))throw Nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new s(E,R)},p.prototype.closePath=function(){var E=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&gr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){E=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(E.x,E.y)},p.prototype.lineTo=function(E,R){if(isNaN(E)||isNaN(R))throw Nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new s(F.x,F.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(E,R,F,B){if(isNaN(F)||isNaN(B)||isNaN(E)||isNaN(R))throw Nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(F,B)),le=this.ctx.transform.applyToPoint(new s(E,R));this.path.push({type:"qct",x1:le.x,y1:le.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},p.prototype.bezierCurveTo=function(E,R,F,B,J,le){if(isNaN(J)||isNaN(le)||isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B))throw Nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(J,le)),fe=this.ctx.transform.applyToPoint(new s(E,R)),de=this.ctx.transform.applyToPoint(new s(F,B));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:de.x,y2:de.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},p.prototype.arc=function(E,R,F,B,J,le){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B)||isNaN(J))throw Nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(E,R));E=he.x,R=he.y;var fe=this.ctx.transform.applyToPoint(new s(0,F)),de=this.ctx.transform.applyToPoint(new s(0,0));F=Math.sqrt(Math.pow(fe.x-de.x,2)+Math.pow(fe.y-de.y,2))}Math.abs(J-B)>=2*Math.PI&&(B=0,J=2*Math.PI),this.path.push({type:"arc",x:E,y:R,radius:F,startAngle:B,endAngle:J,counterclockwise:le})},p.prototype.arcTo=function(E,R,F,B,J){throw new Error("arcTo not implemented.")},p.prototype.rect=function(E,R,F,B){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B))throw Nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,R),this.lineTo(E+F,R),this.lineTo(E+F,R+B),this.lineTo(E,R+B),this.lineTo(E,R),this.lineTo(E+F,R),this.lineTo(E,R)},p.prototype.fillRect=function(E,R,F,B){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B))throw Nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,R,F,B),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},p.prototype.strokeRect=function(E,R,F,B){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B))throw Nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(E,R,F,B),this.stroke())},p.prototype.clearRect=function(E,R,F,B){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B))throw Nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,R,F,B))},p.prototype.save=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},p.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(R),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(E){var R,F,B,J;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))R=0,F=0,B=0,J=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(le!==null)R=parseInt(le[1]),F=parseInt(le[2]),B=parseInt(le[3]),J=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)R=parseInt(le[1]),F=parseInt(le[2]),B=parseInt(le[3]),J=parseFloat(le[4]);else{if(J=1,typeof E=="string"&&E.charAt(0)!=="#"){var he=new oA(E);E=he.ok?he.toHex():"#000000"}E.length===4?(R=E.substring(1,2),R+=R,F=E.substring(2,3),F+=F,B=E.substring(3,4),B+=B):(R=E.substring(1,3),F=E.substring(3,5),B=E.substring(5,7)),R=parseInt(R,16),F=parseInt(F,16),B=parseInt(B,16)}}return{r:R,g:F,b:B,a:J,style:E}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(E,R,F,B){if(isNaN(R)||isNaN(F)||typeof E!="string")throw Nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!h.call(this)){var J=se(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:E,x:R,y:F,scale:le,angle:J,align:this.textAlign,maxWidth:B})}},p.prototype.strokeText=function(E,R,F,B){if(isNaN(R)||isNaN(F)||typeof E!="string")throw Nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){B=isNaN(B)?void 0:B;var J=se(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:E,x:R,y:F,scale:le,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:B})}},p.prototype.measureText=function(E){if(typeof E!="string")throw Nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,F=this.pdf.internal.scaleFactor,B=R.internal.getFontSize(),J=R.getStringUnitWidth(E)*B/R.internal.scaleFactor;return new function(le){var he=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:J*=Math.round(96*F/72*1e4)/1e4})},p.prototype.scale=function(E,R){if(isNaN(E)||isNaN(R))throw Nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new c(E,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},p.prototype.rotate=function(E){if(isNaN(E))throw Nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.translate=function(E,R){if(isNaN(E)||isNaN(R))throw Nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new c(1,0,0,1,E,R);this.ctx.transform=this.ctx.transform.multiply(F)},p.prototype.transform=function(E,R,F,B,J,le){if(isNaN(E)||isNaN(R)||isNaN(F)||isNaN(B)||isNaN(J)||isNaN(le))throw Nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(E,R,F,B,J,le);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(E,R,F,B,J,le){E=isNaN(E)?1:E,R=isNaN(R)?0:R,F=isNaN(F)?0:F,B=isNaN(B)?1:B,J=isNaN(J)?0:J,le=isNaN(le)?0:le,this.ctx.transform=new c(E,R,F,B,J,le)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(E,R,F,B,J,le,he,fe,de){var Fe=this.pdf.getImageProperties(E),Be=1,Xe=1,Se=1,ae=1;B!==void 0&&fe!==void 0&&(Se=fe/B,ae=de/J,Be=Fe.width/B*fe/B,Xe=Fe.height/J*de/J),le===void 0&&(le=R,he=F,R=0,F=0),B!==void 0&&fe===void 0&&(fe=B,de=J),B===void 0&&fe===void 0&&(fe=Fe.width,de=Fe.height);for(var pt,Ue=this.ctx.transform.decompose(),st=se(Ue.rotate.shx),qe=new c,lt=(qe=(qe=(qe=qe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new o(le-R*Se,he-F*ae,B*Be,J*Xe)),et=S.call(this,lt),Ft=[],gt=0;gt<et.length;gt+=1)Ft.indexOf(et[gt])===-1&&Ft.push(et[gt]);if(_(Ft),this.autoPaging)for(var Mt=Ft[0],Et=Ft[Ft.length-1],Tt=Mt;Tt<Et+1;Tt++){this.pdf.setPage(Tt);var tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=Tt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Tt===1?0:_t+(Tt-2)*Nt;if(this.ctx.clip_path.length!==0){var lr=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(pt,this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=lr}var Yt=JSON.parse(JSON.stringify(lt));Yt=w([Yt],this.posX+this.margin[3],-xt+St+this.ctx.prevPageLastElemOffset)[0];var ft=(Tt>Mt||Tt<Et)&&x.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tr,Nt,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,st),ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,st)};var S=function(E,R,F){var B=[];R=R||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":B.push(Math.floor((E.y+J)/F)+1);break;case"arc":B.push(Math.floor((E.y+J-E.radius)/F)+1),B.push(Math.floor((E.y+J+E.radius)/F)+1);break;case"qct":var le=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);B.push(Math.floor((le.y+J)/F)+1),B.push(Math.floor((le.y+le.h+J)/F)+1);break;case"bct":var he=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);B.push(Math.floor((he.y+J)/F)+1),B.push(Math.floor((he.y+he.h+J)/F)+1);break;case"rect":B.push(Math.floor((E.y+J)/F)+1),B.push(Math.floor((E.y+E.h+J)/F)+1)}for(var fe=0;fe<B.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<B[fe];)y.call(this);return B},y=function(){var E=this.fillStyle,R=this.strokeStyle,F=this.font,B=this.lineCap,J=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=R,this.font=F,this.lineCap=B,this.lineWidth=J,this.lineJoin=le},w=function(E,R,F){for(var B=0;B<E.length;B++)switch(E[B].type){case"bct":E[B].x2+=R,E[B].y2+=F;case"qct":E[B].x1+=R,E[B].y1+=F;default:E[B].x+=R,E[B].y+=F}return E},_=function(E){return E.sort(function(R,F){return R-F})},A=function(E,R){for(var F,B,J=this.fillStyle,le=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,de=Math.abs(fe*this.ctx.transform.scaleX),Fe=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),Se=[],ae=0;ae<Xe.length;ae++)if(Xe[ae].x!==void 0)for(var pt=S.call(this,Xe[ae]),Ue=0;Ue<pt.length;Ue+=1)Se.indexOf(pt[Ue])===-1&&Se.push(pt[Ue]);for(var st=0;st<Se.length;st++)for(;this.pdf.internal.getNumberOfPages()<Se[st];)y.call(this);if(_(Se),this.autoPaging)for(var qe=Se[0],lt=Se[Se.length-1],et=qe;et<lt+1;et++){this.pdf.setPage(et),this.fillStyle=J,this.strokeStyle=le,this.lineCap=he,this.lineWidth=de,this.lineJoin=Fe;var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=et===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=et===1?0:Mt+(et-2)*Et;if(this.ctx.clip_path.length!==0){var tr=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(F,this.posX+this.margin[3],-Tt+gt+this.ctx.prevPageLastElemOffset),H.call(this,E,!0),this.path=tr}if(B=JSON.parse(JSON.stringify(Be)),this.path=w(B,this.posX+this.margin[3],-Tt+gt+this.ctx.prevPageLastElemOffset),R===!1||et===0){var St=(et>qe||et<lt)&&x.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Et,null).clip().discardPath()),H.call(this,E,R),St&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=de,H.call(this,E,R),this.lineWidth=fe;this.path=Be},H=function(E,R){if((E!=="stroke"||R||!v.call(this))&&(E==="stroke"||R||!h.call(this))){for(var F,B,J=[],le=this.path,he=0;he<le.length;he++){var fe=le[he];switch(fe.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:fe,deltas:[],abs:[]});break;case"lt":var de=J.length;if(le[he-1]&&!isNaN(le[he-1].x)&&(F=[fe.x-le[he-1].x,fe.y-le[he-1].y],de>0)){for(;de>=0;de--)if(J[de-1].close!==!0&&J[de-1].begin!==!0){J[de-1].deltas.push(F),J[de-1].abs.push(fe);break}}break;case"bct":F=[fe.x1-le[he-1].x,fe.y1-le[he-1].y,fe.x2-le[he-1].x,fe.y2-le[he-1].y,fe.x-le[he-1].x,fe.y-le[he-1].y],J[J.length-1].deltas.push(F);break;case"qct":var Fe=le[he-1].x+2/3*(fe.x1-le[he-1].x),Be=le[he-1].y+2/3*(fe.y1-le[he-1].y),Xe=fe.x+2/3*(fe.x1-fe.x),Se=fe.y+2/3*(fe.y1-fe.y),ae=fe.x,pt=fe.y;F=[Fe-le[he-1].x,Be-le[he-1].y,Xe-le[he-1].x,Se-le[he-1].y,ae-le[he-1].x,pt-le[he-1].y],J[J.length-1].deltas.push(F);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(fe)}}B=R?null:E==="stroke"?"stroke":"fill";for(var Ue=!1,st=0;st<J.length;st++)if(J[st].arc)for(var qe=J[st].abs,lt=0;lt<qe.length;lt++){var et=qe[lt];et.type==="arc"?L.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,R,!Ue):D.call(this,et.x,et.y),Ue=!0}else if(J[st].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(J[st].begin!==!0){var Ft=J[st].start.x,gt=J[st].start.y;G.call(this,J[st].deltas,Ft,gt),Ue=!0}B&&j.call(this,B),R&&M.call(this)}},V=function(E){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-F;case"top":return E+R-F;case"hanging":return E+R-2*F;case"middle":return E+R/2-F;default:return E}},C=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(R,F){this.colorStops.push([R,F])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(E,R,F,B,J,le,he,fe,de){for(var Fe=ve.call(this,F,B,J,le),Be=0;Be<Fe.length;Be++){var Xe=Fe[Be];Be===0&&(de?T.call(this,Xe.x1+E,Xe.y1+R):D.call(this,Xe.x1+E,Xe.y1+R)),oe.call(this,E,R,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}fe?M.call(this):j.call(this,he)},j=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(E,R){this.pdf.internal.out(r(E)+" "+n(R)+" m")},P=function(E){var R;switch(E.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var F=this.pdf.getTextDimensions(E.text),B=V.call(this,E.y),J=C.call(this,B)-F.h,le=this.ctx.transform.applyToPoint(new s(E.x,B)),he=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var de,Fe,Be,Xe=this.ctx.transform.applyToRectangle(new o(E.x,B,F.w,F.h)),Se=fe.applyToRectangle(new o(E.x,J,F.w,F.h)),ae=S.call(this,Se),pt=[],Ue=0;Ue<ae.length;Ue+=1)pt.indexOf(ae[Ue])===-1&&pt.push(ae[Ue]);if(_(pt),this.autoPaging)for(var st=pt[0],qe=pt[pt.length-1],lt=st;lt<qe+1;lt++){this.pdf.setPage(lt);var et=lt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Mt=gt-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],Tt=Et-this.margin[3],tr=lt===1?0:Ft+(lt-2)*Mt;if(this.ctx.clip_path.length!==0){var St=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(de,this.posX+this.margin[3],-1*tr+et),H.call(this,"fill",!0),this.path=St}var _t=w([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-tr+et+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*E.scale),Be=this.lineWidth,this.lineWidth=Be*E.scale);var Nt=this.autoPaging!=="text";if(Nt||_t.y+_t.h<=gt){if(Nt||_t.y>=et&&_t.x<=Et){var xt=Nt?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Et-_t.x)[0],lr=w([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-tr+et+this.ctx.prevPageLastElemOffset)[0],Yt=Nt&&(lt>st||lt<qe)&&x.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Mt,null).clip().discardPath()),this.pdf.text(xt,lr.x,lr.y,{angle:E.angle,align:R,renderingMode:E.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else _t.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-_t.y);E.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Be)}else E.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*E.scale),Be=this.lineWidth,this.lineWidth=Be*E.scale),this.pdf.text(E.text,le.x+this.posX,le.y+this.posY,{angle:E.angle,align:R,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Be)},D=function(E,R,F,B){F=F||0,B=B||0,this.pdf.internal.out(r(E+F)+" "+n(R+B)+" l")},G=function(E,R,F){return this.pdf.lines(E,R,F,null,null)},oe=function(E,R,F,B,J,le,he,fe){this.pdf.internal.out([t(i(F+E)),t(a(B+R)),t(i(J+E)),t(a(le+R)),t(i(he+E)),t(a(fe+R)),"c"].join(" "))},ve=function(E,R,F,B){for(var J=2*Math.PI,le=Math.PI/2;R>F;)R-=J;var he=Math.abs(F-R);he<J&&B&&(he=J-he);for(var fe=[],de=B?-1:1,Fe=R;he>1e-5;){var Be=Fe+de*Math.min(he,le);fe.push(we.call(this,E,Fe,Be)),he-=Math.abs(Be-Fe),Fe=Be}return fe},we=function(E,R,F){var B=(F-R)/2,J=E*Math.cos(B),le=E*Math.sin(B),he=J,fe=-le,de=he*he+fe*fe,Fe=de+he*J+fe*le,Be=4/3*(Math.sqrt(2*de*Fe)-Fe)/(he*le-fe*J),Xe=he-Be*fe,Se=fe+Be*he,ae=Xe,pt=-Se,Ue=B+R,st=Math.cos(Ue),qe=Math.sin(Ue);return{x1:E*Math.cos(R),y1:E*Math.sin(R),x2:Xe*st-Se*qe,y2:Xe*qe+Se*st,x3:ae*st-pt*qe,y3:ae*qe+pt*st,x4:E*Math.cos(F),y4:E*Math.sin(F)}},se=function(E){return 180*E/Math.PI},me=function(E,R,F,B,J,le){var he=E+.5*(F-E),fe=R+.5*(B-R),de=J+.5*(F-J),Fe=le+.5*(B-le),Be=Math.min(E,J,he,de),Xe=Math.max(E,J,he,de),Se=Math.min(R,le,fe,Fe),ae=Math.max(R,le,fe,Fe);return new o(Be,Se,Xe-Be,ae-Se)},Te=function(E,R,F,B,J,le,he,fe){var de,Fe,Be,Xe,Se,ae,pt,Ue,st,qe,lt,et,Ft,gt,Mt=F-E,Et=B-R,Tt=J-F,tr=le-B,St=he-J,_t=fe-le;for(Fe=0;Fe<41;Fe++)st=(pt=(Be=E+(de=Fe/40)*Mt)+de*((Se=F+de*Tt)-Be))+de*(Se+de*(J+de*St-Se)-pt),qe=(Ue=(Xe=R+de*Et)+de*((ae=B+de*tr)-Xe))+de*(ae+de*(le+de*_t-ae)-Ue),Fe==0?(lt=st,et=qe,Ft=st,gt=qe):(lt=Math.min(lt,st),et=Math.min(et,qe),Ft=Math.max(Ft,st),gt=Math.max(gt,qe));return new o(Math.round(lt),Math.round(et),Math.round(Ft-lt),Math.round(gt-et))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,R,F=(E=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:R}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(yt.API),function(e){var t=function(s){var o,c,u,f,p,m,h,v,x,S;for(c=[],u=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(p=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(m=(p=((p=((p=((p=(p-(S=p%85))/85)-(x=p%85))/85)-(v=p%85))/85)-(h=p%85))/85)%85,c.push(m+33,h+33,v+33,x+33,S+33)):c.push(122);return function(y,w){for(var _=w;_>0;_--)y.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,u,f,p,m=String,h="length",v=255,x="charCodeAt",S="slice",y="replace";for(s[S](-2),s=s[S](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],f=0,p=(s+=o="uuuuu"[S](s[h]%5||5))[h];p>f;f+=5)c=52200625*(s[x](f)-33)+614125*(s[x](f+1)-33)+7225*(s[x](f+2)-33)+85*(s[x](f+3)-33)+(s[x](f+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(w,_){for(var A=_;A>0;A--)w.pop()}(u,o[h]),m.fromCharCode.apply(m,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=W2(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,o){var c=0,u=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(yt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,f){var p=new XMLHttpRequest,m=0,h=function(v){var x=v.length,S=[],y=String.fromCharCode;for(m=0;m<x;m+=1)S.push(y(255&v.charCodeAt(m)));return S.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?f(h(this.responseText)):f(void 0)}),p.send(null),u&&p.status===200)return h(p.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(yt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Yo(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Yo(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=gr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},a=function o(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(o(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return(f=f.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var h=0;h<f.length;++h){var v=f[h],x=v.src.find(function(S){return S.format==="truetype"});x&&u.addFont(x.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,f),m}).then(f,p).then(function(m){return u.updateProgress(1),m})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),m=u.call(p,o,c);return s.convert(m,f.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(o,c,u){if(gr(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var v,x=0,S=0;if(h.hasOwnProperty(m))x=h[m][1]/p,S=h[m][0]/p;else try{x=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",S>x&&(v=S,S=x,x=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>S&&(v=S,S=x,x=v)}return{width:S,height:x,unit:c,k:p,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Ag):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(yt.API),yt.API.addJS=function(e){return f4=e,this.internal.events.subscribe("postPutResources",function(){C0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){C0!==void 0&&u4!==void 0&&this.internal.out("/Names <</JavaScript "+C0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var p=r.internal.newObject();f.push(p);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(p){for(var m,h=256*p.charCodeAt(4)+p.charCodeAt(5),v=p.length,x={width:0,height:0,numcomponents:1},S=4;S<v;S+=2){if(S+=h,t.indexOf(p.charCodeAt(S+1))!==-1){m=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),x={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:m,numcomponents:p.charCodeAt(S+9)};break}h=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return f}}(yt.API),yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=Uz(e,{checkCrc:!0}),s=a.width,o=a.height,c=a.channels,u=a.palette,f=a.depth;i=u&&c===1?function(L){for(var j=L.width,M=L.height,T=L.data,P=L.palette,D=L.depth,G=!1,oe=[],ve=[],we=void 0,se=!1,me=0,Te=0;Te<P.length;Te++){var ke=aw(P[Te],4),E=ke[0],R=ke[1],F=ke[2],B=ke[3];oe.push(E,R,F),B!=null&&(B===0?(me++,ve.length<1&&ve.push(Te)):B<255&&(se=!0))}if(se||me>1){G=!0,ve=void 0;var J=j*M;we=new Uint8Array(J);for(var le=new DataView(T.buffer),he=0;he<J;he++){var fe=kg(le,he,D),de=aw(P[fe],4)[3];we[he]=de}}else me===0&&(ve=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:T,alphaBytes:we,needSMask:G,palette:oe,mask:ve}}(a):c===2||c===4?function(L){for(var j=L.data,M=L.width,T=L.height,P=L.channels,D=L.depth,G=P===2?"DeviceGray":"DeviceRGB",oe=P-1,ve=M*T,we=oe,se=ve*we,me=1*ve,Te=Math.ceil(se*D/8),ke=Math.ceil(me*D/8),E=new Uint8Array(Te),R=new Uint8Array(ke),F=new DataView(j.buffer),B=new DataView(E.buffer),J=new DataView(R.buffer),le=!1,he=0;he<ve;he++){for(var fe=he*P,de=0;de<we;de++)_4(B,kg(F,fe+de,D),he*we+de,D);var Fe=kg(F,fe+we,D);Fe<(1<<D)-1&&(le=!0),_4(J,Fe,1*he,D)}return{colorSpace:G,colorsPerPixel:oe,sMaskBitsPerComponent:le?D:void 0,colorBytes:E,alphaBytes:R,needSMask:le}}(a):function(L){var j=L.data,M=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:j instanceof Uint16Array?function(T){for(var P=T.length,D=new Uint8Array(2*P),G=new DataView(D.buffer,D.byteOffset,D.byteLength),oe=0;oe<P;oe++)G.setUint16(2*oe,T[oe],!1);return D}(j):j,needSMask:!1}}(a);var p,m,h,v=i,x=v.colorSpace,S=v.colorsPerPixel,y=v.sMaskBitsPerComponent,w=v.colorBytes,_=v.alphaBytes,A=v.needSMask,H=v.palette,V=v.mask,C=null;return n!==yt.API.image_compression.NONE&&typeof W2=="function"?(C=function(L){var j;switch(L){case yt.API.image_compression.FAST:j=11;break;case yt.API.image_compression.MEDIUM:j=13;break;case yt.API.image_compression.SLOW:j=14;break;default:j=12}return j}(n),p=this.decode.FLATE_DECODE,m="/Predictor ".concat(C," /Colors ").concat(S," /BitsPerComponent ").concat(f," /Columns ").concat(s),e=m4(w,Math.ceil(s*S*f/8),S,f,n),A&&(h=m4(_,Math.ceil(s*y/8),1,y,n))):(p=void 0,m=void 0,e=w,A&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:p,decodeParameters:m,transparency:V,palette:H,sMask:h,predictor:C,width:s,height:o,bitsPerComponent:f,sMaskBitsPerComponent:y,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new o$(t),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},f=new Tg(100).encode(u,100);return e.processJPEG.call(this,f,r,n,i)},e.processGIF87A=e.processGIF89A}(yt.API),Ma.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ma.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Nr.log("bit decode error:"+r)}},Ma.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ma.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ma.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Ma.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=u}this.pos+=e}},Ma.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Ma.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ma.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},Ma.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Ma(t,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new Tg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(yt.API),b4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new b4(t),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new Tg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(yt.API),yt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,c=0,u=0;u<i;u+=4){var f=n[u],p=n[u+1],m=n[u+2],h=n[u+3];a[o++]=f,a[o++]=p,a[o++]=m,s[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qc=yt.API,L0=qc.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,p=t.doKerning!==!1,m=0,h=e.length,v=0,x=o[0]||c,S=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(m=p&&gr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/f:0,S.push((o[n]||x)/c+m)),v=n;return S},h4=qc.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return qc.processArabic&&(e=qc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:L0.apply(this,arguments).reduce(function(a,s){return a+s},0)},d4=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var c=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},p4=function(e,t,r){r||(r={});var n,i,a,s,o,c,u,f=[],p=[f],m=r.textIndent||0,h=0,v=0,x=e.split(" "),S=L0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),w=[];x.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(H,V){return(V&&H.length?`
`:"")+H})):w.push(A[0])}),x=w,c=h4.apply(this,[y,r])}for(a=0,s=x.length;a<s;a++){var _=0;if(n=x[a],c&&n[0]==`
`&&(n=n.substr(1),_=1),m+h+(v=(i=L0.apply(this,[n,r])).reduce(function(A,H){return A+H},0))>t||_){if(v>t){for(o=d4.apply(this,[n,i,t-(m+h),t]),f.push(o.shift()),f=[o.pop()];o.length;)p.push([o.shift()]);v=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,H){return A+H},0)}else f=[n];p.push(f),m=v+c,h=S}else f.push(n),m+=h+v,h=S}return u=c?function(A,H){return(H?y:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(u)},qc.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return p.metadata[m]?{widths:p.metadata[m].widths||{0:1},kerning:p.metadata[m].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(p4.apply(this,[n[o],s,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=e.__fontmetrics__.compress=function(m){var h,v,x,S,y=["{"];for(var w in m){if(h=m[w],isNaN(parseInt(w,10))?v="'"+w+"'":(w=parseInt(w,10),v=(v=s(w).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(x=s(h).slice(3),S="-"):(x=s(h).slice(2),S=""),x=S+x.slice(0,-1)+i[x.slice(-1)];else{if(gr(h)!=="object")throw new Error("Don't know what to do with value type "+gr(h)+".");x=o(h)}y.push(v+x)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,x,S,y={},w=1,_=y,A=[],H="",V="",C=m.length-1,L=1;L<C;L+=1)(S=m[L])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(S):S=="{"?(A.push([_,x]),_={},x=void 0):S=="}"?((v=A.pop())[0][v[1]]=_,x=void 0,_=v[0]):S=="-"?w=-1:x===void 0?n.hasOwnProperty(S)?(H+=n[S],x=parseInt(H,16)*w,w=1,H=""):H+=S:n.hasOwnProperty(S)?(V+=n[S],_[x]=parseInt(V,16)*w,w=1,x=void 0,V=""):V+=S;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,v=p.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var x=f.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(yt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(X0(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(yt),yt.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw Nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(jt.canvg?Promise.resolve(jt.canvg):Yo(()=>import("./index.es-Dn-WavZi.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,f=0,p=0;function m(v,x){var S,y=!1;for(S=0;S<v.length;S+=1)v[S]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(p=0;p<h;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(gr(e)==="object"){for(i in e)if(a=e[i],m(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(yt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],p=0,m=a.length;p<m;++p){if(o=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},n=function(a){var s,o,c,u,f,p,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,m=(o=Object.keys(a).sort(function(h,v){return h-v})).length;p<m;p++)s=o[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var x=u();f({data:h,addLength1:!0,objectId:x}),c("endobj");var S=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Kc(o.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Kc(o.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+Kc(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,m="",h=0;h<p.length;h++)m+=String.fromCharCode(p[h]);var v=u();f({data:m,addLength1:!0,objectId:v}),c("endobj");var x=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Kc(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Kc(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",c=a.x,u=a.y,f=a.options||{},p=a.mutex||{},m=p.pdfEscape,h=p.activeFontKey,v=p.fonts,x=h,S="",y=0,w="",_=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:o,x:c,y:u,options:f,mutex:p};for(w=o,x=h,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)v[x].metadata.hasOwnProperty("cmap")&&(s=v[x].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?S+=w[y]:S+="";var A="";return parseInt(x.slice(1))<14||_==="WinAnsiEncoding"?A=m(S,x).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=r(S,v[x])),p.isHex=!0,{text:A,x:c,y:u,options:f,mutex:p}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(i(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=i(Object.assign({},c,{text:s})).text}])}(yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,c,u,f,p=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var A=function(T){var P=T.charCodeAt(),D=P>>8,G=x[D];return G!==void 0?p[256*G+(255&P)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},H=function(T){for(var P,D=0;D<T.length;D++){if((P=A(T.charAt(D)))==="L")return!1;if(P==="R")return!0}return!1},V=function(T,P,D,G){var oe,ve,we,se,me=P[G];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(me="AN");break;case"AL":w=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":G<1||G+1>=P.length||(oe=D[G-1])!=="EN"&&oe!=="AN"||(ve=P[G+1])!=="EN"&&ve!=="AN"?me="N":w&&(ve="AN"),me=ve===oe?ve:"N";break;case"ES":me=(oe=G>0?D[G-1]:"B")==="EN"&&G+1<P.length&&P[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&D[G-1]==="EN"){me="EN";break}if(w){me="N";break}for(we=G+1,se=P.length;we<se&&P[we]==="ET";)we++;me=we<se&&P[we]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(se=P.length,we=G+1;we<se&&P[we]==="NSM";)we++;if(we<se){var Te=T[G],ke=Te>=1425&&Te<=2303||Te===64286;if(oe=P[we],ke&&(oe==="R"||oe==="AL")){me="R";break}}}me=G<1||(oe=P[G-1])==="B"?"N":D[G-1];break;case"B":w=!1,i=!0,me=_;break;case"S":a=!0,me="N"}return me},C=function(T,P,D){var G=T.split("");return D&&L(G,D,{hiLevel:_}),G.reverse(),P&&P.reverse(),G.join("")},L=function(T,P,D){var G,oe,ve,we,se,me=-1,Te=T.length,ke=0,E=[],R=_?h:m,F=[];for(w=!1,i=!1,a=!1,oe=0;oe<Te;oe++)F[oe]=A(T[oe]);for(ve=0;ve<Te;ve++){if(se=ke,E[ve]=V(T,F,E,ve),G=240&(ke=R[se][v[E[ve]]]),ke&=15,P[ve]=we=R[ke][5],G>0)if(G===16){for(oe=me;oe<ve;oe++)P[oe]=1;me=-1}else me=-1;if(R[ke][6])me===-1&&(me=ve);else if(me>-1){for(oe=me;oe<ve;oe++)P[oe]=we;me=-1}F[ve]==="B"&&(P[ve]=0),D.hiLevel|=we}a&&function(B,J,le){for(var he=0;he<le;he++)if(B[he]==="S"){J[he]=_;for(var fe=he-1;fe>=0&&B[fe]==="WS";fe--)J[fe]=_}}(F,P,Te)},j=function(T,P,D,G,oe){if(!(oe.hiLevel<T)){if(T===1&&_===1&&!i)return P.reverse(),void(D&&D.reverse());for(var ve,we,se,me,Te=P.length,ke=0;ke<Te;){if(G[ke]>=T){for(se=ke+1;se<Te&&G[se]>=T;)se++;for(me=ke,we=se-1;me<we;me++,we--)ve=P[me],P[me]=P[we],P[we]=ve,D&&(ve=D[me],D[me]=D[we],D[we]=ve);ke=se}ke++}}},M=function(T,P,D){var G=T.split(""),oe={hiLevel:_};return D||(D=[]),L(G,D,oe),function(ve,we,se){if(se.hiLevel!==0&&f)for(var me,Te=0;Te<ve.length;Te++)we[Te]===1&&(me=S.indexOf(ve[Te]))>=0&&(ve[Te]=S[me+1])}(G,D,oe),j(2,G,P,D,oe),j(1,G,P,D,oe),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,P,D){if(function(oe,ve){if(ve)for(var we=0;we<oe.length;we++)ve[we]=we;o===void 0&&(o=H(oe)),u===void 0&&(u=H(oe))}(T,P),s||!c||u)if(s&&c&&o^u)_=o?1:0,T=C(T,P,D);else if(!s&&c&&u)_=o?1:0,T=M(T,P,D),T=C(T,P);else if(!s||o||c||u){if(s&&!c&&o^u)T=C(T,P),o?(_=0,T=M(T,P,D)):(_=1,T=M(T,P,D),T=C(T,P));else if(s&&o&&!c&&u)_=1,T=M(T,P,D),T=C(T,P);else if(!s&&!c&&o^u){var G=f;o?(_=1,T=M(T,P,D),_=0,f=!1,T=M(T,P,D),f=G):(_=0,T=M(T,P,D),T=C(T,P),_=1,f=!1,T=M(T,P,D),f=G,T=C(T,P))}}else _=0,T=M(T,P,D);else _=o?1:0,T=M(T,P,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,c=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new al(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new b$(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new l$(this.contents),this.head=new u$(this),this.name=new m$(this),this.cmap=new vA(this),this.toUnicode={},this.hhea=new f$(this),this.maxp=new g$(this),this.hmtx=new x$(this),this.post=new d$(this),this.os2=new h$(this),this.loca=new w$(this),this.glyf=new v$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ts,al=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),l$=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,c,u,f,p,m,h,v,x;for(x in h=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(h)/c),s=Math.floor(p/c),f=16*h-p,(i=new al).writeInt(this.scalarType),i.writeShort(h),i.writeShort(p),i.writeShort(s),i.writeShort(f),a=16*h,u=i.pos+a,o=null,v=[],r)for(m=r[x],i.writeString(x),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),v=v.concat(m),x==="head"&&(o=u),u+=m.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=yA.call(r);r.length%4;)r.push(0);for(a=new al(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),c$={}.hasOwnProperty,Ss=function(e,t){for(var r in t)c$.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ts=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var u$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new al).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),S4=function(){function e(t,r){var n,i,a,s,o,c,u,f,p,m,h,v,x,S,y,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,a=function(){var A,H;for(H=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)H.push(t.readUInt16());return H}(),t.pos+=2,x=function(){var A,H;for(H=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)H.push(t.readUInt16());return H}(),u=function(){var A,H;for(H=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)H.push(t.readUInt16());return H}(),f=function(){var A,H;for(H=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)H.push(t.readUInt16());return H}(),i=(this.length-t.pos+this.offset)/2,o=function(){var A,H;for(H=[],c=A=0;0<=i?A<i:A>i;c=0<=i?++A:--A)H.push(t.readUInt16());return H}(),c=y=0,_=a.length;y<_;c=++y)for(S=a[c],n=w=v=x[c];v<=S?w<=S:w>=S;n=v<=S?++w:--w)f[c]===0?s=n+u[c]:(s=o[f[c]/2+(n-v)-(m-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=p}return e.encode=function(t,r){var n,i,a,s,o,c,u,f,p,m,h,v,x,S,y,w,_,A,H,V,C,L,j,M,T,P,D,G,oe,ve,we,se,me,Te,ke,E,R,F,B,J,le,he,fe,de,Fe,Be;switch(G=new al,s=Object.keys(t).sort(function(Xe,Se){return Xe-Se}),r){case"macroman":for(x=0,S=function(){var Xe=[];for(v=0;v<256;++v)Xe.push(0);return Xe}(),w={0:0},a={},oe=0,me=s.length;oe<me;oe++)w[fe=t[i=s[oe]]]==null&&(w[fe]=++x),a[i]={old:t[i],new:w[t[i]]},S[i]=w[t[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(S),{charMap:a,subtable:G.data,maxGlyphID:x+1};case"unicode":for(P=[],p=[],_=0,w={},n={},y=u=null,ve=0,Te=s.length;ve<Te;ve++)w[H=t[i=s[ve]]]==null&&(w[H]=++_),n[i]={old:H,new:w[H]},o=w[H]-i,y!=null&&o===u||(y&&p.push(y),P.push(i),u=o),y=i;for(y&&p.push(y),p.push(65535),P.push(65535),M=2*(j=P.length),L=2*Math.pow(Math.log(j)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,C=2*j-L,c=[],V=[],h=[],v=we=0,ke=P.length;we<ke;v=++we){if(T=P[v],f=p[v],T===65535){c.push(0),V.push(0);break}if(T-(D=n[T].new)>=32768)for(c.push(0),V.push(2*(h.length+j-v)),i=se=T;T<=f?se<=f:se>=f;i=T<=f?++se:--se)h.push(n[i].new);else c.push(D-T),V.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*j+2*h.length),G.writeUInt16(0),G.writeUInt16(M),G.writeUInt16(L),G.writeUInt16(m),G.writeUInt16(C),le=0,E=p.length;le<E;le++)i=p[le],G.writeUInt16(i);for(G.writeUInt16(0),he=0,R=P.length;he<R;he++)i=P[he],G.writeUInt16(i);for(de=0,F=c.length;de<F;de++)o=c[de],G.writeUInt16(o);for(Fe=0,B=V.length;Fe<B;Fe++)A=V[Fe],G.writeUInt16(A);for(Be=0,J=h.length;Be<J;Be++)x=h[Be],G.writeUInt16(x);return{charMap:n,subtable:G.data,maxGlyphID:_+1}}},e}(),vA=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new S4(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=S4.encode(t,r),(i=new al).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),f$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),h$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),d$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,c;for(c=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e}(),p$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},m$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,c,u,f,p,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},a=f=0,p=n.length;f<p;a=++f)i=n[a],t.pos=i.offset,u=t.readString(i.length),s=new p$(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),g$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),x$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)f.push(t.readInt16());return f}(),this.widths=(function(){var u,f,p,m;for(m=[],u=0,f=(p=this.metrics).length;u<f;u++)a=p[u],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),yA=[].slice,v$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,c,u,f,p;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new al(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),c=o.readShort(),f=o.readShort(),this.cache[t]=s===-1?new _$(o,u,p,c,f):new y$(o,s,u,p,c,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,c;for(s=[],a=[],o=0,c=r.length;o<c;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),y$=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),_$=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new al(yA.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),w$=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ss(e,ts),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(i+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},e}(),b$=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,c;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,c,u,f,p,m,h,v,x,S,y;for(i in n=vA.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},y=n.charMap)h[(c=y[i]).old]=c.new;for(v in m=n.maxGlyphID,s)v in h||(h[v]=m++);return f=function(w){var _,A;for(_ in A={},w)A[w[_]]=_;return A}(h),p=Object.keys(f).sort(function(w,_){return w-_}),x=function(){var w,_,A;for(A=[],w=0,_=p.length;w<_;w++)o=p[w],A.push(f[o]);return A}(),a=this.font.glyf.encode(s,x,h),u=this.font.loca.encode(a.offsets,x),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();async function S$(){const{data:e,error:t}=await Re.from("certificate_templates").select("*").eq("is_active",!0).order("certificate_type");if(t)throw t;return e}async function N$(e){const{data:t,error:r}=await Re.from("certificate_templates").select("*").eq("certificate_type",e).eq("is_active",!0).single();if(r)throw r;return t}async function A$(e){let t=Re.from("issued_certificates").select(`
      *,
      student:student_id(first_name, last_name, admission_number),
      teacher:teacher_id(first_name, last_name, employee_number)
    `).order("issue_date",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return r}async function E$(e){const t=await k$(e.certificate_type),r={...e,certificate_number:t},{data:n,error:i}=await Re.from("issued_certificates").insert(r).select().single();if(i)throw i;const a=await _A(n),{data:s,error:o}=await Re.from("issued_certificates").update({pdf_url:a}).eq("id",n.id).select().single();if(o)throw o;return s}async function _A(e){const t=await N$(e.certificate_type),r=new yt,n=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight();r.setFont("helvetica"),r.setFontSize(20),r.setFont("helvetica","bold"),r.text("GHANI GRAMMAR SCHOOL",n/2,30,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal"),r.text("Ghani Welfare Foundation",n/2,40,{align:"center"}),r.setFontSize(16),r.setFont("helvetica","bold"),r.text(t.template_name.toUpperCase(),n/2,60,{align:"center"}),r.setFontSize(12),r.setFont("helvetica","normal");let a=t.template_content;e.student&&(a=a.replace(/\{STUDENT_NAME\}/g,`${e.student.first_name} ${e.student.last_name}`),a=a.replace(/\{ADMISSION_NUMBER\}/g,e.student.admission_number)),e.teacher&&(a=a.replace(/\{TEACHER_NAME\}/g,`${e.teacher.first_name} ${e.teacher.last_name}`),a=a.replace(/\{EMPLOYEE_NUMBER\}/g,e.teacher.employee_number)),a=a.replace(/\{ISSUE_DATE\}/g,new Date(e.issue_date).toLocaleDateString()),a=a.replace(/\{CERTIFICATE_NUMBER\}/g,e.certificate_number);const s=r.splitTextToSize(a,n-40);let o=80;s.forEach(f=>{r.text(f,20,o),o+=7}),o+=20,r.text("Principal",n-60,o),r.text("Date: ___________",20,o),r.setFontSize(10),r.text(`Certificate No: ${e.certificate_number}`,n/2,i-20,{align:"center"});const c=r.output("blob");return URL.createObjectURL(c)}async function k$(e){const t=new Date().getFullYear(),r=T$(e),{data:n,error:i}=await Re.from("issued_certificates").select("id").eq("certificate_type",e).gte("issue_date",`${t}-01-01`).lt("issue_date",`${t+1}-01-01`);if(i)throw i;const a=((n==null?void 0:n.length)||0)+1;return`${r}${t}${a.toString().padStart(4,"0")}`}function T$(e){switch(e){case"leaving_certificate":return"LC";case"character_certificate":return"CC";case"joining_letter":return"JL";case"experience_letter":return"EL";case"leaving_letter":return"LL";default:return"CERT"}}async function j$(){const{data:e,error:t}=await Re.from("issued_certificates").select("certificate_type, issue_date").gte("issue_date",new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]);if(t)throw t;return e.reduce((n,i)=>(n.total++,n[i.certificate_type]++,n),{total:0,leaving_certificate:0,character_certificate:0,joining_letter:0,experience_letter:0,leaving_letter:0})}async function C$(e){const{data:t,error:r}=await Re.from("issued_certificates").select("*").eq("id",e).single();if(r)throw r;if(t.pdf_url){const n=document.createElement("a");n.href=t.pdf_url,n.download=`${t.certificate_type}_${t.certificate_number}.pdf`,n.click()}else{const n=await _A(t),i=document.createElement("a");i.href=n,i.download=`${t.certificate_type}_${t.certificate_number}.pdf`,i.click()}}async function wA(e){let t=Re.from("students").select(`
      *,
      current_class:current_class_id(class_name),
      current_section:current_section_id(section_name),
      parent_contacts(*)
    `).order("admission_number");const{data:r,error:n}=await t;if(n)throw n;return r}async function L$(){const{data:e,error:t}=await Re.from("students").select("status").then(({data:r})=>r?r.reduce((i,a)=>(i.total++,i[a.status]++,i),{total:0,active:0,promoted:0,transferred:0,alumni:0,discontinued:0}):{total:0,active:0,promoted:0,transferred:0,alumni:0,discontinued:0});if(t)throw t;return e}function P$(){const{hasPermission:e,user:t}=Ar(),[r,n]=Z.useState([]),[i,a]=Z.useState([]),[s,o]=Z.useState([]),[c,u]=Z.useState([]),[f,p]=Z.useState(!1),[m,h]=Z.useState(null),[v,x]=Z.useState(""),[S,y]=Z.useState(""),[w,_]=Z.useState(!1),[A,H]=Z.useState(null),V=e("manage_certificates");Z.useEffect(()=>{C()},[]);const C=async()=>{try{const[T,P,D,G]=await Promise.all([S$(),wA(),lN(),A$()]);n(T),a(P),o(D),u(G)}catch(T){H(T instanceof Error?T.message:"Failed to load data")}},L=async T=>{if(T.preventDefault(),!(!m||!v&&!S)){_(!0),H(null);try{const P={certificate_type:m.certificate_type,student_id:v||null,teacher_id:S||null,issue_date:new Date().toISOString().split("T")[0],certificate_data:{template_id:m.id,generated_by:t==null?void 0:t.id},issued_by:t==null?void 0:t.id},D=await E$(P);u(G=>[D,...G]),p(!1),h(null),x(""),y("")}catch(P){H(P instanceof Error?P.message:"Failed to generate certificate")}finally{_(!1)}}},j=async T=>{try{await C$(T)}catch(P){H(P instanceof Error?P.message:"Failed to download certificate")}},M=T=>{switch(T){case"leaving_certificate":return"Leaving Certificate";case"character_certificate":return"Character Certificate";case"joining_letter":return"Joining Letter";case"experience_letter":return"Experience Letter";case"leaving_letter":return"Leaving Letter";default:return T}};return V?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Certificate Generator"}),l.jsx(Qe,{onClick:()=>p(!0),children:"Generate Certificate"})]}),A&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:A})]})})}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Available Templates"}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(T=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:M(T.certificate_type)}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.template_name}),l.jsx("div",{className:"mt-3",children:l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-green-100 text-green-800",children:"Active"})})]},T.id))})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recently Issued Certificates"}),l.jsx("div",{className:"rounded-lg border bg-white",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Certificate Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(T=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:M(T.certificate_type)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900",children:T.student?`${T.student.first_name} ${T.student.last_name}`:T.teacher?`${T.teacher.first_name} ${T.teacher.last_name}`:"N/A"}),l.jsx("div",{className:"text-sm text-gray-500",children:T.student?"Student":"Teacher"})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.certificate_number}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(T.issue_date).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>j(T.id),children:"Download"})})]},T.id))})]})})]}),l.jsx(wi,{isOpen:f,onClose:()=>p(!1),title:"Generate Certificate",children:l.jsxs("form",{onSubmit:L,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Certificate Type"}),l.jsxs("select",{value:(m==null?void 0:m.id)||"",onChange:T=>{const P=r.find(D=>D.id===T.target.value);h(P||null)},required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Certificate Type"}),r.map(T=>l.jsx("option",{value:T.id,children:M(T.certificate_type)},T.id))]})]}),m&&l.jsxs(l.Fragment,{children:[m.certificate_type.includes("student")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Student"}),l.jsxs("select",{value:v,onChange:T=>x(T.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Student"}),i.map(T=>l.jsxs("option",{value:T.id,children:[T.first_name," ",T.last_name," - ",T.admission_number]},T.id))]})]}),m.certificate_type.includes("teacher")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teacher"}),l.jsxs("select",{value:S,onChange:T=>y(T.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Teacher"}),s.map(T=>l.jsxs("option",{value:T.id,children:[T.first_name," ",T.last_name," - ",T.employee_number]},T.id))]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:w,children:w?"Generating...":"Generate Certificate"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to manage certificates."})]})}function jg(e){let t=0,r=0,n=0,i=0;e.forEach(o=>{t+=o.totalMarks,o.isAbsent?i++:r+=o.obtainedMarks,(o.isAbsent||o.obtainedMarks<o.passingMarks)&&n++});const a=t>0?r/t*100:0;let s="pass";return i>=4||i>=2&&i<=3||n>=2||n===1&&i===1||a<33?s="fail":s="pass",{termName:"",marks:e,totalMarks:t,obtainedMarks:r,percentage:Math.round(a*100)/100,subjectsFailed:n,status:s}}function F$(e,t,r){const n=[e,t,r].filter(m=>m!==null);if(n.length===0)return{totalMarks:0,obtainedMarks:0,finalPercentage:0,finalGrade:"N/A",status:"fail",remarks:"No term results available"};let i=0,a=0,s=0,o=0;n.forEach(m=>{i+=m.totalMarks,a+=m.obtainedMarks;const h=m.marks.filter(x=>x.isAbsent).length;s+=h;const v=m.marks.filter(x=>x.isAbsent||x.obtainedMarks<x.passingMarks).length;o+=v});const c=i>0?a/i*100:0;let u="F";c>=90?u="A+":c>=80?u="A":c>=70?u="B":c>=60?u="C":c>=50?u="D":c>=33&&(u="E");let f="pass",p="Passed";return s>=4?(f="absent",p="Absent (4 or more subjects absent)"):s>=2&&s<=3?(f="fail",p="Failed (2-3 subjects absent)"):o>=2?(f="fail",p="Failed (2 or more subjects failed)"):o===1&&s===1?(f="fail",p="Failed (1 fail and 1 absent)"):c<33?(f="fail",p="Failed (Overall percentage below 33%)"):(f="promoted",p="Promoted to next class"),{totalMarks:i,obtainedMarks:a,finalPercentage:Math.round(c*100)/100,finalGrade:u,status:f,remarks:p}}function O$(e,t){return(e+t)/2}function I$(e,t,r){return(e+t+r)/3}function Cg(e){return e.reduce((t,r)=>r.isAbsent?t:t+r.obtainedMarks,0)}function R$(e){return e.status==="promoted"&&e.finalPercentage>=33}function D$(e,t,r,n,i,a){const s=jg(n),o=jg(i),c=jg(a),u=F$(s,o,c),f=Cg(n),p=Cg(i),m=Cg(a),h=O$(f,p),v=I$(f,p,m);return{studentInfo:{name:e,rollNumber:t,className:r},termResults:{term1:{total:f,percentage:s.percentage,status:s.status,average:f},term2:{total:p,percentage:o.percentage,status:o.status,average:h},term3:{total:m,percentage:c.percentage,status:c.status,average:v}},finalResult:{totalMarks:u.totalMarks,obtainedMarks:u.obtainedMarks,percentage:u.finalPercentage,grade:u.finalGrade,status:u.status,remarks:u.remarks,promotionStatus:R$(u)},subjectMarks:{term1:n,term2:i,term3:a}}}async function M$(e){let t=Re.from("marks").select(`
      *,
      student:student_id(first_name, last_name, admission_number),
      subject:subject_id(subject_name),
      class:class_id(class_name),
      section:section_id(section_name),
      term:term_id(term_name, term_type)
    `).order("created_at",{ascending:!1});e!=null&&e.studentId&&(t=t.eq("student_id",e.studentId)),e!=null&&e.classId&&(t=t.eq("class_id",e.classId)),e!=null&&e.sectionId&&(t=t.eq("section_id",e.sectionId)),e!=null&&e.subjectId&&(t=t.eq("subject_id",e.subjectId)),e!=null&&e.termId&&(t=t.eq("term_id",e.termId)),e!=null&&e.academicYearId&&(t=t.eq("academic_year_id",e.academicYearId));const{data:r,error:n}=await t;if(n)throw n;return r}async function B$(e){let t=Re.from("results").select(`
      *,
      student:student_id(first_name, last_name, admission_number),
      class:class_id(class_name),
      section:section_id(section_name),
      term:term_id(term_name, term_type)
    `).order("created_at",{ascending:!1});e!=null&&e.studentId&&(t=t.eq("student_id",e.studentId)),e!=null&&e.classId&&(t=t.eq("class_id",e.classId)),e!=null&&e.sectionId&&(t=t.eq("section_id",e.sectionId)),e!=null&&e.termId&&(t=t.eq("term_id",e.termId)),e!=null&&e.academicYearId&&(t=t.eq("academic_year_id",e.academicYearId));const{data:r,error:n}=await t;if(n)throw n;return r}async function U$(e){let t=Re.from("final_results").select(`
      *,
      student:student_id(first_name, last_name, admission_number),
      class:class_id(class_name),
      section:section_id(section_name)
    `).order("created_at",{ascending:!1});e!=null&&e.studentId&&(t=t.eq("student_id",e.studentId)),e!=null&&e.classId&&(t=t.eq("class_id",e.classId)),e!=null&&e.sectionId&&(t=t.eq("section_id",e.sectionId)),e!=null&&e.academicYearId&&(t=t.eq("academic_year_id",e.academicYearId));const{data:r,error:n}=await t;if(n)throw n;return r}async function z$(e,t){const[r,n,i]=await Promise.all([M$({studentId:e,academicYearId:t}),B$({studentId:e,academicYearId:t}),U$({studentId:e,academicYearId:t})]);return{marks:r,results:n,finalResults:i[0]||null}}function $$(){const{hasPermission:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(""),[a,s]=Z.useState(""),[o,c]=Z.useState(null),[u,f]=Z.useState(!1),[p,m]=Z.useState(!1),[h,v]=Z.useState(null),x=e("manage_certificates");Z.useEffect(()=>{S()},[]);const S=async()=>{try{const _=await wA();r(_)}catch(_){v(_ instanceof Error?_.message:"Failed to load students")}},y=async _=>{if(_){m(!0);try{const A=await z$(_,a);c(A)}catch(A){v(A instanceof Error?A.message:"Failed to load student results")}finally{m(!1)}}},w=async()=>{var P,D;if(!o||!n)return;const _=t.find(G=>G.id===n);if(!_)return;const A=o.marks.filter(G=>{var oe;return((oe=G.term)==null?void 0:oe.term_type)==="first"}).map(G=>{var oe;return{subjectName:((oe=G.subject)==null?void 0:oe.subject_name)||"",totalMarks:G.total_marks,obtainedMarks:G.obtained_marks,passingMarks:G.passing_marks,isAbsent:G.is_absent}}),H=o.marks.filter(G=>{var oe;return((oe=G.term)==null?void 0:oe.term_type)==="second"}).map(G=>{var oe;return{subjectName:((oe=G.subject)==null?void 0:oe.subject_name)||"",totalMarks:G.total_marks,obtainedMarks:G.obtained_marks,passingMarks:G.passing_marks,isAbsent:G.is_absent}}),V=o.marks.filter(G=>{var oe;return((oe=G.term)==null?void 0:oe.term_type)==="third"}).map(G=>{var oe;return{subjectName:((oe=G.subject)==null?void 0:oe.subject_name)||"",totalMarks:G.total_marks,obtainedMarks:G.obtained_marks,passingMarks:G.passing_marks,isAbsent:G.is_absent}}),C=D$(`${_.first_name} ${_.last_name}`,_.admission_number,`${(P=_.current_class)==null?void 0:P.class_name}-${(D=_.current_section)==null?void 0:D.section_name}`,A,H,V),L=new yt,j=L.internal.pageSize.getWidth();L.internal.pageSize.getHeight(),L.setFont("helvetica"),L.setFontSize(20),L.setFont("helvetica","bold"),L.text("GHANI GRAMMAR SCHOOL",j/2,30,{align:"center"}),L.setFontSize(12),L.setFont("helvetica","normal"),L.text("Ghani Welfare Foundation",j/2,40,{align:"center"}),L.setFontSize(16),L.setFont("helvetica","bold"),L.text("ACADEMIC REPORT CARD",j/2,60,{align:"center"}),L.setFontSize(12),L.setFont("helvetica","normal");let M=80;L.text(`Student Name: ${C.studentInfo.name}`,20,M),M+=10,L.text(`Roll Number: ${C.studentInfo.rollNumber}`,20,M),M+=10,L.text(`Class: ${C.studentInfo.className}`,20,M),M+=10,L.text(`Academic Year: ${new Date().getFullYear()}`,20,M),M+=20,L.setFont("helvetica","bold"),L.text("TERM RESULTS",20,M),M+=15,L.setFont("helvetica","normal"),L.text(`First Term: ${C.termResults.term1.percentage.toFixed(2)}% (${C.termResults.term1.status.toUpperCase()})`,20,M),M+=10,L.text(`Second Term: ${C.termResults.term2.percentage.toFixed(2)}% (${C.termResults.term2.status.toUpperCase()})`,20,M),M+=10,L.text(`Third Term: ${C.termResults.term3.percentage.toFixed(2)}% (${C.termResults.term3.status.toUpperCase()})`,20,M),M+=20,L.setFont("helvetica","bold"),L.text("FINAL RESULT",20,M),M+=15,L.setFont("helvetica","normal"),L.text(`Total Marks: ${C.finalResult.obtainedMarks}/${C.finalResult.totalMarks}`,20,M),M+=10,L.text(`Percentage: ${C.finalResult.percentage.toFixed(2)}%`,20,M),M+=10,L.text(`Grade: ${C.finalResult.grade}`,20,M),M+=10,L.text(`Status: ${C.finalResult.status.toUpperCase()}`,20,M),M+=10,L.text(`Remarks: ${C.finalResult.remarks}`,20,M),M+=20,C.subjectMarks.term3.length>0&&(L.setFont("helvetica","bold"),L.text("SUBJECT-WISE MARKS (FINAL TERM)",20,M),M+=15,L.setFontSize(10),L.text("Subject",20,M),L.text("Obtained",80,M),L.text("Total",120,M),L.text("Grade",160,M),M+=10,C.subjectMarks.term3.forEach(G=>{const oe=G.obtainedMarks/G.totalMarks*100;let ve="F";oe>=90?ve="A+":oe>=80?ve="A":oe>=70?ve="B":oe>=60?ve="C":oe>=50?ve="D":oe>=33&&(ve="E"),L.text(G.subjectName,20,M),L.text(G.isAbsent?"ABS":G.obtainedMarks.toString(),80,M),L.text(G.totalMarks.toString(),120,M),L.text(G.isAbsent?"ABS":ve,160,M),M+=8})),M+=20,L.text("Principal",j-60,M),L.text("Date: ___________",20,M);const T=`ReportCard_${_.admission_number}_${new Date().getFullYear()}.pdf`;L.save(T)};return x?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Report Card Generator"}),l.jsx(Qe,{onClick:()=>f(!0),children:"Generate Report Card"})]}),h&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:h})]})})}),o&&n&&l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Student Results Preview"}),l.jsxs("div",{className:"space-y-4",children:[o.finalResults&&l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900",children:"Final Result"}),l.jsxs("p",{className:"text-sm text-blue-700",children:["Percentage: ",o.finalResults.final_percentage,"% | Grade: ",o.finalResults.final_grade," | Status: ",o.finalResults.result_status]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:o.results.map(_=>{var A;return l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:(A=_.term)==null?void 0:A.term_name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Percentage: ",_.percentage,"% | Status: ",_.result_status]})]},_.id)})})]})]}),l.jsx(wi,{isOpen:u,onClose:()=>f(!1),title:"Generate Report Card",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Student"}),l.jsxs("select",{value:n,onChange:_=>{i(_.target.value),y(_.target.value)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select Student"}),t.map(_=>{var A,H;return l.jsxs("option",{value:_.id,children:[_.first_name," ",_.last_name," - ",_.admission_number," (",(A=_.current_class)==null?void 0:A.class_name,"-",(H=_.current_section)==null?void 0:H.section_name,")"]},_.id)})]})]}),n&&o&&l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Results Summary"}),o.finalResults?l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("p",{children:["Final Percentage: ",o.finalResults.final_percentage,"%"]}),l.jsxs("p",{children:["Final Grade: ",o.finalResults.final_grade]}),l.jsxs("p",{children:["Status: ",o.finalResults.result_status]})]}):l.jsx("p",{className:"text-sm text-gray-600",children:"No final results available"})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),l.jsx(Qe,{onClick:w,disabled:!n||!o||p,children:p?"Loading...":"Generate PDF"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to generate report cards."})]})}async function q$(e){let t=Re.from("announcements").select(`
      *,
      created_by_user:created_by(full_name, role)
    `).order("publish_date",{ascending:!1});const{data:r,error:n}=await t;if(n)throw n;return r}async function H$(e){const{data:t,error:r}=await Re.from("announcements").insert(e).select().single();if(r)throw r;return await G$(t),t}async function W$(e,t){const{data:r,error:n}=await Re.from("announcements").update(t).eq("id",e).select().single();if(n)throw n;return r}async function V$(e){const{error:t}=await Re.from("announcements").delete().eq("id",e);if(t)throw t}async function G$(e){let t=Re.from("user_profiles").select("id, role");e.target_roles&&e.target_roles.length>0&&(t=t.in("role",e.target_roles));const{data:r,error:n}=await t;if(n)throw n;if(!r||r.length===0)return;const i=r.map(s=>({user_id:s.id,title:e.title,message:e.content,notification_type:e.announcement_type,link:`/announcements/${e.id}`,metadata:{announcement_id:e.id,announcement_type:e.announcement_type}})),{error:a}=await Re.from("notifications").insert(i);if(a)throw a}async function K$(e,t){let r=Re.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});(t==null?void 0:t.isRead)!==void 0&&(r=r.eq("is_read",t.isRead)),t!=null&&t.notificationType&&(r=r.eq("notification_type",t.notificationType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:i}=await r;if(i)throw i;return n}async function X$(e){const{data:t,error:r}=await Re.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return t}async function Y$(e){const{error:t}=await Re.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e).eq("is_read",!1);if(t)throw t}async function J$(e){const{error:t}=await Re.from("notifications").delete().eq("id",e);if(t)throw t}async function Z$(e){const{count:t,error:r}=await Re.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("is_read",!1);if(r)throw r;return t||0}async function Q$(){const{data:e,error:t}=await Re.from("announcements").select("announcement_type, is_active, publish_date").gte("publish_date",new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]);if(t)throw t;return e.reduce((n,i)=>(n.total++,n[i.announcement_type]++,i.is_active&&n.active++,n),{total:0,active:0,general:0,urgent:0,academic:0,event:0,holiday:0})}async function eq(){const{data:e,error:t}=await Re.from("classes").select(`
      *,
      sections(*)
    `).eq("is_active",!0).order("class_order");if(t)throw t;return e}async function tq(){const[e,t,r]=await Promise.all([Re.from("classes").select("id").eq("is_active",!0),Re.from("subjects").select("id").eq("is_active",!0),Re.from("academic_years").select("id")]);if(e.error)throw e.error;if(t.error)throw t.error;if(r.error)throw r.error;return{totalClasses:e.data.length,totalSubjects:t.data.length,totalAcademicYears:r.data.length}}function rq(){const{hasPermission:e,user:t}=Ar(),[r,n]=Z.useState([]),[i,a]=Z.useState([]),[s,o]=Z.useState(!1),[c,u]=Z.useState(!1),[f,p]=Z.useState(null),[m,h]=Z.useState(!1),[v,x]=Z.useState(null),S=e("manage_announcements");Z.useEffect(()=>{y()},[]);const y=async()=>{try{const[C,L]=await Promise.all([q$(),eq()]);n(C),a(L)}catch(C){x(C instanceof Error?C.message:"Failed to load data")}},w=async C=>{C.preventDefault(),h(!0),x(null);try{const L=C.currentTarget,j={title:L.elements.namedItem("title").value,content:L.elements.namedItem("content").value,announcement_type:L.elements.namedItem("announcement_type").value,target_roles:Array.from(L.elements.namedItem("target_roles").selectedOptions).map(T=>T.value),target_classes:Array.from(L.elements.namedItem("target_classes").selectedOptions).map(T=>T.value),publish_date:L.elements.namedItem("publish_date").value,expiry_date:L.elements.namedItem("expiry_date").value||null,created_by:t==null?void 0:t.id},M=await H$(j);n(T=>[M,...T]),o(!1),L.reset()}catch(L){x(L instanceof Error?L.message:"Failed to create announcement")}finally{h(!1)}},_=async C=>{if(C.preventDefault(),!!f){h(!0),x(null);try{const L=C.currentTarget,j={title:L.elements.namedItem("title").value,content:L.elements.namedItem("content").value,announcement_type:L.elements.namedItem("announcement_type").value,target_roles:Array.from(L.elements.namedItem("target_roles").selectedOptions).map(T=>T.value),target_classes:Array.from(L.elements.namedItem("target_classes").selectedOptions).map(T=>T.value),publish_date:L.elements.namedItem("publish_date").value,expiry_date:L.elements.namedItem("expiry_date").value||null},M=await W$(f.id,j);n(T=>T.map(P=>P.id===f.id?M:P)),u(!1),p(null)}catch(L){x(L instanceof Error?L.message:"Failed to update announcement")}finally{h(!1)}}},A=async C=>{if(confirm("Are you sure you want to delete this announcement?"))try{await V$(C),n(L=>L.filter(j=>j.id!==C))}catch(L){x(L instanceof Error?L.message:"Failed to delete announcement")}},H=C=>{p(C),u(!0)},V=C=>{switch(C){case"urgent":return"bg-red-100 text-red-800";case"academic":return"bg-blue-100 text-blue-800";case"event":return"bg-green-100 text-green-800";case"holiday":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return S?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Announcement Manager"}),l.jsx(Qe,{onClick:()=>o(!0),children:"Create Announcement"})]}),v&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:v})]})})}),l.jsxs("div",{className:"space-y-4",children:[r.map(C=>{var L;return l.jsx(Ke,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:C.title}),l.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold ${V(C.announcement_type)}`,children:C.announcement_type}),!C.is_active&&l.jsx("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold bg-gray-100 text-gray-800",children:"Inactive"})]}),l.jsx("p",{className:"text-gray-600 mb-3",children:C.content}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("span",{children:["Target: ",C.target_roles.join(", ")]}),l.jsxs("span",{children:["Published: ",new Date(C.publish_date).toLocaleDateString()]}),C.expiry_date&&l.jsxs("span",{children:["Expires: ",new Date(C.expiry_date).toLocaleDateString()]}),l.jsxs("span",{children:["By: ",(L=C.created_by_user)==null?void 0:L.full_name]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>H(C),children:"Edit"}),l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>A(C.id),children:"Delete"})]})]})},C.id)}),r.length===0&&l.jsxs(Ke,{className:"p-12 text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No announcements"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create your first announcement to get started."})]})]}),l.jsx(wi,{isOpen:s,onClose:()=>o(!1),title:"Create Announcement",children:l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),l.jsx(it,{name:"title",type:"text",required:!0,placeholder:"Enter announcement title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),l.jsx("textarea",{name:"content",rows:4,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter announcement content"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),l.jsxs("select",{name:"announcement_type",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"general",children:"General"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"academic",children:"Academic"}),l.jsx("option",{value:"event",children:"Event"}),l.jsx("option",{value:"holiday",children:"Holiday"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Target Roles"}),l.jsxs("select",{name:"target_roles",multiple:!0,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"manager",children:"Manager"})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Hold Ctrl/Cmd to select multiple roles"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Target Classes (Optional)"}),l.jsx("select",{name:"target_classes",multiple:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:i.map(C=>l.jsx("option",{value:C.id,children:C.class_name},C.id))}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty to target all classes"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Publish Date"}),l.jsx(it,{name:"publish_date",type:"date",required:!0,defaultValue:new Date().toISOString().split("T")[0]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date (Optional)"}),l.jsx(it,{name:"expiry_date",type:"date"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:m,children:m?"Creating...":"Create Announcement"})]})]})}),l.jsx(wi,{isOpen:c,onClose:()=>{u(!1),p(null)},title:"Edit Announcement",children:f&&l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),l.jsx(it,{name:"title",type:"text",required:!0,defaultValue:f.title})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),l.jsx("textarea",{name:"content",rows:4,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",defaultValue:f.content})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),l.jsxs("select",{name:"announcement_type",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",defaultValue:f.announcement_type,children:[l.jsx("option",{value:"general",children:"General"}),l.jsx("option",{value:"urgent",children:"Urgent"}),l.jsx("option",{value:"academic",children:"Academic"}),l.jsx("option",{value:"event",children:"Event"}),l.jsx("option",{value:"holiday",children:"Holiday"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Target Roles"}),l.jsxs("select",{name:"target_roles",multiple:!0,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",defaultValue:f.target_roles,children:[l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"teacher",children:"Teacher"}),l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"manager",children:"Manager"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Publish Date"}),l.jsx(it,{name:"publish_date",type:"date",required:!0,defaultValue:f.publish_date})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date (Optional)"}),l.jsx(it,{name:"expiry_date",type:"date",defaultValue:f.expiry_date||""})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Qe,{type:"button",variant:"secondary",onClick:()=>{u(!1),p(null)},children:"Cancel"}),l.jsx(Qe,{type:"submit",disabled:m,children:m?"Updating...":"Update Announcement"})]})]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to manage announcements."})]})}function Lg(){const{user:e}=Ar(),[t,r]=Z.useState([]),[n,i]=Z.useState(0),[a,s]=Z.useState(!1),[o,c]=Z.useState(null),[u,f]=Z.useState("all");Z.useEffect(()=>{e!=null&&e.id&&(p(),m())},[e==null?void 0:e.id,u]);const p=async()=>{if(e!=null&&e.id)try{s(!0);const w=await K$(e.id,{isRead:u==="unread"?!1:void 0,limit:50});r(w)}catch(w){c(w instanceof Error?w.message:"Failed to load notifications")}finally{s(!1)}},m=async()=>{if(e!=null&&e.id)try{const w=await Z$(e.id);i(w)}catch(w){console.error("Failed to load unread count:",w)}},h=async w=>{try{await X$(w),r(_=>_.map(A=>A.id===w?{...A,is_read:!0,read_at:new Date().toISOString()}:A)),i(_=>Math.max(0,_-1))}catch(_){c(_ instanceof Error?_.message:"Failed to mark notification as read")}},v=async()=>{if(e!=null&&e.id)try{await Y$(e.id),r(w=>w.map(_=>({..._,is_read:!0,read_at:new Date().toISOString()}))),i(0)}catch(w){c(w instanceof Error?w.message:"Failed to mark all notifications as read")}},x=async w=>{try{await J$(w),r(A=>A.filter(H=>H.id!==w));const _=t.find(A=>A.id===w);_&&!_.is_read&&i(A=>Math.max(0,A-1))}catch(_){c(_ instanceof Error?_.message:"Failed to delete notification")}},S=w=>{switch(w){case"urgent":return"";case"academic":return"";case"event":return"";case"holiday":return"";default:return""}},y=(w,_)=>{if(_)return"bg-gray-50";switch(w){case"urgent":return"bg-red-50 border-l-4 border-red-400";case"academic":return"bg-blue-50 border-l-4 border-blue-400";case"event":return"bg-green-50 border-l-4 border-green-400";case"holiday":return"bg-yellow-50 border-l-4 border-yellow-400";default:return"bg-white border-l-4 border-gray-400"}};return e?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600",children:n>0?`${n} unread notifications`:"All caught up!"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{value:u,onChange:w=>f(w.target.value),className:"rounded-md border-gray-300",children:[l.jsx("option",{value:"all",children:"All Notifications"}),l.jsx("option",{value:"unread",children:"Unread Only"})]}),n>0&&l.jsx(Qe,{onClick:v,variant:"secondary",children:"Mark All Read"})]})]}),o&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:o})]})})}),l.jsx("div",{className:"space-y-3",children:a?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]}):t.length>0?t.map(w=>l.jsx(Ke,{className:`p-4 ${y(w.notification_type,w.is_read)}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:S(w.notification_type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:`font-medium ${w.is_read?"text-gray-600":"text-gray-900"}`,children:w.title}),!w.is_read&&l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),l.jsx("p",{className:`text-sm ${w.is_read?"text-gray-500":"text-gray-700"}`,children:w.message}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[l.jsx("span",{children:new Date(w.created_at).toLocaleString()}),w.link&&l.jsx("a",{href:w.link,className:"text-blue-600 hover:text-blue-800",children:"View Details"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!w.is_read&&l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>h(w.id),children:"Mark Read"}),l.jsx(Qe,{size:"sm",variant:"secondary",onClick:()=>x(w.id),children:"Delete"})]})]})},w.id)):l.jsxs(Ke,{className:"p-12 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No notifications"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:u==="unread"?"You're all caught up! No unread notifications.":"You don't have any notifications yet."})]})}),t.length>=50&&l.jsx("div",{className:"text-center",children:l.jsx(Qe,{variant:"secondary",onClick:p,children:"Load More"})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Please log in"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You need to be logged in to view notifications."})]})}async function bA(e){const t=(e==null?void 0:e.startDate)||new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],r=(e==null?void 0:e.endDate)||new Date().toISOString().split("T")[0];let n=Re.from("student_attendance").select("status").gte("attendance_date",t).lte("attendance_date",r);e!=null&&e.classId&&(n=n.eq("class_id",e.classId)),e!=null&&e.sectionId&&(n=n.eq("section_id",e.sectionId));const{data:i,error:a}=await n;if(a)throw a;const s=i.reduce((c,u)=>(c.total++,c[u.status]++,c),{total:0,present:0,absent:0,late:0,half_day:0,leave:0}),o=s.total>0?s.present/s.total*100:0;return{...s,attendancePercentage:Math.round(o*100)/100}}async function nq(){try{const[e,t,r,n,i,a,s]=await Promise.all([L$(),Q9(),bA(),uN(),Q$(),j$(),tq()]);return{students:e,teachers:t,attendance:r,inventory:n,announcements:i,certificates:a,academic:s}}catch(e){throw console.error("Error fetching dashboard stats:",e),e}}async function iq(e=10){const{data:t,error:r}=await Re.from("announcements").select(`
      id,
      title,
      announcement_type,
      publish_date,
      created_by_user:created_by(full_name)
    `).eq("is_active",!0).order("publish_date",{ascending:!1}).limit(e);if(r)throw r;return t}async function aq(e=5){const{data:t,error:r}=await Re.from("announcements").select(`
      id,
      title,
      content,
      publish_date,
      expiry_date
    `).eq("announcement_type","event").eq("is_active",!0).gte("publish_date",new Date().toISOString().split("T")[0]).order("publish_date",{ascending:!0}).limit(e);if(r)throw r;return t}async function sq(e=30){const t=new Date;t.setDate(t.getDate()-e);const r=t.toISOString().split("T")[0],n=new Date().toISOString().split("T")[0],{data:i,error:a}=await Re.from("student_attendance").select("attendance_date, status").gte("attendance_date",r).lte("attendance_date",n);if(a)throw a;const s=i.reduce((c,u)=>{const f=u.attendance_date;return c[f]||(c[f]={total:0,present:0}),c[f].total++,u.status==="present"&&c[f].present++,c},{});return Object.entries(s).map(([c,u])=>({date:c,attendancePercentage:u.total>0?u.present/u.total*100:0})).sort((c,u)=>new Date(c.date).getTime()-new Date(u.date).getTime())}async function oq(){const{data:e,error:t}=await Re.from("results").select(`
      percentage,
      result_status,
      class:class_id(class_name)
    `).eq("result_status","pass");if(t)throw t;const r=e.reduce((i,a)=>{var o;const s=((o=a.class)==null?void 0:o.class_name)||"Unknown";return i[s]||(i[s]={total:0,sum:0,count:0}),i[s].total++,i[s].sum+=a.percentage,i[s].count++,i},{});return Object.entries(r).map(([i,a])=>({className:i,averagePercentage:a.count>0?a.sum/a.count:0,totalStudents:a.total})).sort((i,a)=>a.averagePercentage-i.averagePercentage)}async function lq(){const{data:e,error:t}=await Re.from("teacher_assignments").select(`
      teacher_id,
      is_class_teacher,
      teacher:teacher_id(first_name, last_name),
      class:class_id(class_name),
      section:section_id(section_name),
      subject:subject_id(subject_name)
    `).eq("is_active",!0);if(t)throw t;const r=e.reduce((i,a)=>{var c,u,f,p,m;const s=a.teacher_id,o=`${(c=a.teacher)==null?void 0:c.first_name} ${(u=a.teacher)==null?void 0:u.last_name}`;return i[s]||(i[s]={teacherName:o,totalAssignments:0,classTeacherCount:0,subjects:new Set,classes:new Set}),i[s].totalAssignments++,a.is_class_teacher&&i[s].classTeacherCount++,i[s].subjects.add((f=a.subject)==null?void 0:f.subject_name),i[s].classes.add(`${(p=a.class)==null?void 0:p.class_name}-${(m=a.section)==null?void 0:m.section_name}`),i},{});return Object.entries(r).map(([i,a])=>({teacherId:i,teacherName:a.teacherName,totalAssignments:a.totalAssignments,classTeacherCount:a.classTeacherCount,subjectCount:a.subjects.size,classCount:a.classes.size})).sort((i,a)=>a.totalAssignments-i.totalAssignments)}async function cq(){const{data:e,error:t}=await Re.from("final_results").select(`
      final_percentage,
      result_status,
      student:student_id(first_name, last_name),
      class:class_id(class_name)
    `);if(t)throw t;const r={"90-100":0,"80-89":0,"70-79":0,"60-69":0,"50-59":0,"Below 50":0};return e.forEach(n=>{const i=n.final_percentage;i>=90?r["90-100"]++:i>=80?r["80-89"]++:i>=70?r["70-79"]++:i>=60?r["60-69"]++:i>=50?r["50-59"]++:r["Below 50"]++}),r}async function uq(e=10){const{data:t,error:r}=await Re.from("final_results").select(`
      final_percentage,
      final_grade,
      student:student_id(first_name, last_name, admission_number),
      class:class_id(class_name),
      section:section_id(section_name)
    `).eq("result_status","promoted").order("final_percentage",{ascending:!1}).limit(e);if(r)throw r;return t}async function fq(e=10){const{data:t,error:r}=await Re.from("final_results").select(`
      final_percentage,
      final_grade,
      student:student_id(first_name, last_name, admission_number),
      class:class_id(class_name),
      section:section_id(section_name)
    `).eq("result_status","fail").order("final_percentage",{ascending:!0}).limit(e);if(r)throw r;return t}async function hq(e,t){const r=`${t}-${e.toString().padStart(2,"0")}-01`,n=new Date(t,e,0).toISOString().split("T")[0],[i,a,s]=await Promise.all([bA({startDate:r,endDate:n}),Re.from("announcements").select("id").gte("publish_date",r).lte("publish_date",n).then(({data:o})=>(o==null?void 0:o.length)||0),Re.from("issued_certificates").select("id").gte("issue_date",r).lte("issue_date",n).then(({data:o})=>(o==null?void 0:o.length)||0)]);return{attendance:i,announcements:a,certificates:s}}function dq(){const{hasPermission:e}=Ar(),[t,r]=Z.useState(null),[n,i]=Z.useState([]),[a,s]=Z.useState([]),[o,c]=Z.useState([]),[u,f]=Z.useState([]),[p,m]=Z.useState([]),[h,v]=Z.useState(null),[x,S]=Z.useState([]),[y,w]=Z.useState([]),[_,A]=Z.useState(!0),[H,V]=Z.useState(null),[C,L]=Z.useState(new Date().getMonth()+1),[j,M]=Z.useState(new Date().getFullYear()),T=e("view_reports");Z.useEffect(()=>{P()},[C,j]);const P=async()=>{try{A(!0);const[D,G,oe,ve,we,se,me,Te,ke,E]=await Promise.all([nq(),iq(),aq(),sq(),oq(),lq(),cq(),uq(),fq(),hq(C,j)]);r(D),i(G),s(oe),c(ve),f(we),m(se),v(me),S(Te),w(ke)}catch(D){V(D instanceof Error?D.message:"Failed to load analytics data")}finally{A(!1)}};return T?_?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):H?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-medium text-red-600",children:"Error"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:H}),l.jsx(Qe,{onClick:P,className:"mt-4",children:"Retry"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive school performance insights"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("select",{value:C,onChange:D=>L(parseInt(D.target.value)),className:"rounded-md border-gray-300",children:Array.from({length:12},(D,G)=>l.jsx("option",{value:G+1,children:new Date(0,G).toLocaleString("default",{month:"long"})},G+1))}),l.jsx("select",{value:j,onChange:D=>M(parseInt(D.target.value)),className:"rounded-md border-gray-300",children:Array.from({length:5},(D,G)=>{const oe=new Date().getFullYear()-2+G;return l.jsx("option",{value:oe,children:oe},oe)})}),l.jsx(Qe,{onClick:P,variant:"secondary",children:"Refresh"})]})]}),t&&l.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-blue-600",children:t.students.total}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[t.students.active," active"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),l.jsx("p",{className:"mt-2 text-3xl font-semibold text-green-600",children:t.teachers.total}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[t.teachers.active," active"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Average Attendance"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-purple-600",children:[Math.round(t.attendance.attendancePercentage),"%"]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[t.attendance.present,"/",t.attendance.total," present"]})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Inventory Value"}),l.jsxs("p",{className:"mt-2 text-3xl font-semibold text-orange-600",children:["$",t.inventory.total_value.toLocaleString()]}),l.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[t.inventory.total_items," items"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Attendance Trends (Last 30 Days)"}),l.jsx("div",{className:"space-y-2",children:o.slice(-7).map((D,G)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:new Date(D.date).toLocaleDateString()}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${D.attendancePercentage}%`}})}),l.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[Math.round(D.attendancePercentage),"%"]})]})]},G))})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Class Performance"}),l.jsx("div",{className:"space-y-3",children:u.slice(0,5).map((D,G)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.className}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${D.averagePercentage}%`}})}),l.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[Math.round(D.averagePercentage),"%"]})]})]},G))})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Top Performers"}),l.jsx("div",{className:"space-y-3",children:x.slice(0,5).map((D,G)=>{var oe,ve,we,se;return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(oe=D.student)==null?void 0:oe.first_name," ",(ve=D.student)==null?void 0:ve.last_name]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[(we=D.class)==null?void 0:we.class_name,"-",(se=D.section)==null?void 0:se.section_name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-green-600",children:[D.final_percentage,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:D.final_grade})]})]},G)})})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Teacher Workload"}),l.jsx("div",{className:"space-y-3",children:p.slice(0,5).map((D,G)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.teacherName}),l.jsxs("p",{className:"text-xs text-gray-500",children:[D.subjectCount," subjects, ",D.classCount," classes"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-blue-600",children:D.totalAssignments}),l.jsx("p",{className:"text-xs text-gray-500",children:"assignments"})]})]},G))})]})]}),h&&l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Student Performance Distribution"}),l.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(h).map(([D,G])=>l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:G}),l.jsxs("p",{className:"text-sm text-gray-600",children:[D,"%"]})]},D))})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Activity"}),l.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((D,G)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(D.publish_date).toLocaleDateString()})]})]},G))})]}),l.jsxs(Ke,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Upcoming Events"}),l.jsx("div",{className:"space-y-3",children:a.slice(0,5).map((D,G)=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:D.title}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(D.publish_date).toLocaleDateString()})]})]},G))})]})]}),y.length>0&&l.jsxs(Ke,{className:"p-6 border-l-4 border-red-400",children:[l.jsx("h3",{className:"text-lg font-medium mb-4 text-red-800",children:"Students Needing Attention"}),l.jsx("div",{className:"space-y-3",children:y.slice(0,5).map((D,G)=>{var oe,ve,we,se;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-red-900",children:[(oe=D.student)==null?void 0:oe.first_name," ",(ve=D.student)==null?void 0:ve.last_name]}),l.jsxs("p",{className:"text-xs text-red-600",children:[(we=D.class)==null?void 0:we.class_name,"-",(se=D.section)==null?void 0:se.section_name]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-red-600",children:[D.final_percentage,"%"]}),l.jsx("p",{className:"text-xs text-red-500",children:D.final_grade})]})]},G)})})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Access Denied"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You don't have permission to view analytics."})]})}function pq(){const{user:e,loading:t,profile:r}=Ar();if(t)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!e)return l.jsx(K7,{});if(!r)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});const n=r.role;return l.jsx(JT,{children:l.jsxs(TT,{children:[l.jsxs(Gt,{path:"/admin",element:l.jsx(W7,{}),children:[l.jsx(Gt,{index:!0,element:l.jsx(K9,{})}),l.jsx(Gt,{path:"students",element:l.jsx(X9,{})}),l.jsx(Gt,{path:"teachers",element:l.jsx(eM,{})}),l.jsx(Gt,{path:"inventory",element:l.jsx(lM,{})}),l.jsx(Gt,{path:"biometric",element:l.jsx(wM,{})}),l.jsx(Gt,{path:"certificates",element:l.jsx(P$,{})}),l.jsx(Gt,{path:"report-cards",element:l.jsx($$,{})}),l.jsx(Gt,{path:"announcements",element:l.jsx(rq,{})}),l.jsx(Gt,{path:"analytics",element:l.jsx(dq,{})})]}),l.jsx(Gt,{path:"/manager",element:l.jsx(G7,{}),children:l.jsx(Gt,{index:!0,element:l.jsx(pM,{})})}),l.jsxs(Gt,{path:"/teacher",element:l.jsx(Hm,{}),children:[l.jsx(Gt,{index:!0,element:l.jsx(X7,{})}),l.jsx(Gt,{path:"attendance",element:l.jsx(gM,{})}),l.jsx(Gt,{path:"grades",element:l.jsx(xM,{})}),l.jsx(Gt,{path:"students",element:l.jsx(W9,{})}),l.jsx(Gt,{path:"results",element:l.jsx(eg,{})}),l.jsx(Gt,{path:"announcements",element:l.jsx(tg,{})}),l.jsx(Gt,{path:"notifications",element:l.jsx(Lg,{})})]}),l.jsxs(Gt,{path:"/student",element:l.jsx(Hm,{}),children:[l.jsx(Gt,{index:!0,element:l.jsx(mM,{})}),l.jsx(Gt,{path:"results",element:l.jsx(eg,{})}),l.jsx(Gt,{path:"attendance",element:l.jsx(Q_,{})}),l.jsx(Gt,{path:"announcements",element:l.jsx(tg,{})}),l.jsx(Gt,{path:"notifications",element:l.jsx(Lg,{})})]}),l.jsxs(Gt,{path:"/parent",element:l.jsx(Hm,{}),children:[l.jsx(Gt,{index:!0,element:l.jsx(vM,{})}),l.jsx(Gt,{path:"results",element:l.jsx(eg,{})}),l.jsx(Gt,{path:"attendance",element:l.jsx(Q_,{})}),l.jsx(Gt,{path:"announcements",element:l.jsx(tg,{})}),l.jsx(Gt,{path:"notifications",element:l.jsx(Lg,{})})]}),l.jsx(Gt,{path:"/",element:l.jsx(nh,{to:`/${n}`,replace:!0})}),l.jsx(Gt,{path:"/dashboard",element:l.jsx(nh,{to:`/${n}`,replace:!0})}),l.jsx(Gt,{path:"*",element:l.jsx(nh,{to:`/${n}`,replace:!0})})]})})}function mq(){return l.jsx(k7,{children:l.jsx(pq,{})})}R3(document.getElementById("root")).render(l.jsx(Z.StrictMode,{children:l.jsx(mq,{})}));export{gr as _,ba as c,lE as g};
